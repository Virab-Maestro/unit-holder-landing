function I2(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E2={exports:{}},Sm={},C2={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=Symbol.for("react.element"),$3=Symbol.for("react.portal"),U3=Symbol.for("react.fragment"),q3=Symbol.for("react.strict_mode"),W3=Symbol.for("react.profiler"),H3=Symbol.for("react.provider"),G3=Symbol.for("react.context"),K3=Symbol.for("react.forward_ref"),Q3=Symbol.for("react.suspense"),Y3=Symbol.for("react.memo"),X3=Symbol.for("react.lazy"),Hw=Symbol.iterator;function J3(t){return t===null||typeof t!="object"?null:(t=Hw&&t[Hw]||t["@@iterator"],typeof t=="function"?t:null)}var k2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R2=Object.assign,P2={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=P2,this.updater=n||k2}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b2(){}b2.prototype=Ia.prototype;function Ey(t,e,n){this.props=t,this.context=e,this.refs=P2,this.updater=n||k2}var Cy=Ey.prototype=new b2;Cy.constructor=Ey;R2(Cy,Ia.prototype);Cy.isPureReactComponent=!0;var Gw=Array.isArray,A2=Object.prototype.hasOwnProperty,ky={current:null},N2={key:!0,ref:!0,__self:!0,__source:!0};function D2(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)A2.call(e,i)&&!N2.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),a=0;a<l;a++)c[a]=arguments[a+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Qh,type:t,key:r,ref:o,props:s,_owner:ky.current}}function Z3(t,e){return{$$typeof:Qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qh}function eD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kw=/\/+/g;function Bg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eD(""+t.key):e.toString(36)}function Df(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qh:case $3:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Bg(o,0):i,Gw(s)?(n="",t!=null&&(n=t.replace(Kw,"$&/")+"/"),Df(s,e,n,"",function(a){return a})):s!=null&&(Ry(s)&&(s=Z3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Gw(t))for(var l=0;l<t.length;l++){r=t[l];var c=i+Bg(r,l);o+=Df(r,e,n,c,s)}else if(c=J3(t),typeof c=="function")for(t=c.call(t),l=0;!(r=t.next()).done;)r=r.value,c=i+Bg(r,l++),o+=Df(r,e,n,c,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vd(t,e,n){if(t==null)return t;var i=[],s=0;return Df(t,i,"","",function(r){return e.call(n,r,s++)}),i}function tD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vi={current:null},Lf={transition:null},nD={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:Lf,ReactCurrentOwner:ky};at.Children={map:Vd,forEach:function(t,e,n){Vd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vd(t,function(){e++}),e},toArray:function(t){return Vd(t,function(e){return e})||[]},only:function(t){if(!Ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Ia;at.Fragment=U3;at.Profiler=W3;at.PureComponent=Ey;at.StrictMode=q3;at.Suspense=Q3;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nD;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=R2({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ky.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)A2.call(e,c)&&!N2.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){l=Array(c);for(var a=0;a<c;a++)l[a]=arguments[a+2];i.children=l}return{$$typeof:Qh,type:t.type,key:s,ref:r,props:i,_owner:o}};at.createContext=function(t){return t={$$typeof:G3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:H3,_context:t},t.Consumer=t};at.createElement=D2;at.createFactory=function(t){var e=D2.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:K3,render:t}};at.isValidElement=Ry;at.lazy=function(t){return{$$typeof:X3,_payload:{_status:-1,_result:t},_init:tD}};at.memo=function(t,e){return{$$typeof:Y3,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=Lf.transition;Lf.transition={};try{t()}finally{Lf.transition=e}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(t,e){return vi.current.useCallback(t,e)};at.useContext=function(t){return vi.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return vi.current.useDeferredValue(t)};at.useEffect=function(t,e){return vi.current.useEffect(t,e)};at.useId=function(){return vi.current.useId()};at.useImperativeHandle=function(t,e,n){return vi.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return vi.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return vi.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return vi.current.useMemo(t,e)};at.useReducer=function(t,e,n){return vi.current.useReducer(t,e,n)};at.useRef=function(t){return vi.current.useRef(t)};at.useState=function(t){return vi.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return vi.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return vi.current.useTransition()};at.version="18.2.0";C2.exports=at;var d=C2.exports;const L2=Kh(d),iD=I2({__proto__:null,default:L2},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD=d,rD=Symbol.for("react.element"),oD=Symbol.for("react.fragment"),lD=Object.prototype.hasOwnProperty,cD=sD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aD={key:!0,ref:!0,__self:!0,__source:!0};function j2(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)lD.call(e,i)&&!aD.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:rD,type:t,key:r,ref:o,props:s,_owner:cD.current}}Sm.Fragment=oD;Sm.jsx=j2;Sm.jsxs=j2;E2.exports=Sm;var u=E2.exports,yv={},O2={exports:{}},Bi={},M2={exports:{}},z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var B=O.length;O.push(F);e:for(;0<B;){var G=B-1>>>1,Q=O[G];if(0<s(Q,F))O[G]=F,O[B]=Q,B=G;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var F=O[0],B=O.pop();if(B!==F){O[0]=B;e:for(var G=0,Q=O.length,ge=Q>>>1;G<ge;){var z=2*(G+1)-1,ue=O[z],re=z+1,M=O[re];if(0>s(ue,B))re<Q&&0>s(M,ue)?(O[G]=M,O[re]=B,G=re):(O[G]=ue,O[z]=B,G=z);else if(re<Q&&0>s(M,B))O[G]=M,O[re]=B,G=re;else break e}}return F}function s(O,F){var B=O.sortIndex-F.sortIndex;return B!==0?B:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],a=[],h=1,f=null,p=3,m=!1,_=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var F=n(a);F!==null;){if(F.callback===null)i(a);else if(F.startTime<=O)i(a),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(a)}}function T(O){if(g=!1,w(O),!_)if(n(c)!==null)_=!0,me(I);else{var F=n(a);F!==null&&J(T,F.startTime-O)}}function I(O,F){_=!1,g&&(g=!1,v(k),k=-1),m=!0;var B=p;try{for(w(F),f=n(c);f!==null&&(!(f.expirationTime>F)||O&&!H());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var Q=G(f.expirationTime<=F);F=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&i(c),w(F)}else i(c);f=n(c)}if(f!==null)var ge=!0;else{var z=n(a);z!==null&&J(T,z.startTime-F),ge=!1}return ge}finally{f=null,p=B,m=!1}}var x=!1,E=null,k=-1,P=5,j=-1;function H(){return!(t.unstable_now()-j<P)}function X(){if(E!==null){var O=t.unstable_now();j=O;var F=!0;try{F=E(!0,O)}finally{F?K():(x=!1,E=null)}}else x=!1}var K;if(typeof y=="function")K=function(){y(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=X,K=function(){te.postMessage(null)}}else K=function(){S(X,0)};function me(O){E=O,x||(x=!0,K())}function J(O,F){k=S(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,me(I))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var B=p;p=F;try{return O()}finally{p=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=p;p=O;try{return F()}finally{p=B}},t.unstable_scheduleCallback=function(O,F,B){var G=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=B+Q,O={id:h++,callback:F,priorityLevel:O,startTime:B,expirationTime:Q,sortIndex:-1},B>G?(O.sortIndex=B,e(a,O),n(c)===null&&O===n(a)&&(g?(v(k),k=-1):g=!0,J(T,B-G))):(O.sortIndex=Q,e(c,O),_||m||(_=!0,me(I))),O},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(O){var F=p;return function(){var B=p;p=F;try{return O.apply(this,arguments)}finally{p=B}}}})(z2);M2.exports=z2;var uD=M2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=d,zi=uD;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F2=new Set,th={};function jl(t,e){Gc(t,e),Gc(t+"Capture",e)}function Gc(t,e){for(th[t]=e,t=0;t<e.length;t++)F2.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sv=Object.prototype.hasOwnProperty,hD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qw={},Yw={};function dD(t){return Sv.call(Yw,t)?!0:Sv.call(Qw,t)?!1:hD.test(t)?Yw[t]=!0:(Qw[t]=!0,!1)}function fD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pD(t,e,n,i){if(e===null||typeof e>"u"||fD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xn[t]=new yi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xn[e]=new yi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xn[t]=new yi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xn[t]=new yi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xn[t]=new yi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xn[t]=new yi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xn[t]=new yi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xn[t]=new yi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xn[t]=new yi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Py=/[\-:]([a-z])/g;function by(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Py,by);Xn[e]=new yi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Py,by);Xn[e]=new yi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Py,by);Xn[e]=new yi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xn[t]=new yi(t,1,!1,t.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xn[t]=new yi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ay(t,e,n,i){var s=Xn.hasOwnProperty(e)?Xn[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pD(e,n,s,i)&&(n=null),i||s===null?dD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var wr=V2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),fc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),Tv=Symbol.for("react.suspense_list"),Ly=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),U2=Symbol.for("react.offscreen"),Xw=Symbol.iterator;function qa(t){return t===null||typeof t!="object"?null:(t=Xw&&t[Xw]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,$g;function xu(t){if($g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$g=e&&e[1]||""}return`
`+$g+t}var Ug=!1;function qg(t,e){if(!t||Ug)return"";Ug=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var i=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){i=a}t.call(e.prototype)}else{try{throw Error()}catch(a){i=a}t()}}catch(a){if(a&&i&&typeof a.stack=="string"){for(var s=a.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ug=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xu(t):""}function mD(t){switch(t.tag){case 5:return xu(t.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return t=qg(t.type,!1),t;case 11:return t=qg(t.type.render,!1),t;case 1:return t=qg(t.type,!0),t;default:return""}}function Iv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pc:return"Fragment";case fc:return"Portal";case wv:return"Profiler";case Ny:return"StrictMode";case xv:return"Suspense";case Tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $2:return(t.displayName||"Context")+".Consumer";case B2:return(t._context.displayName||"Context")+".Provider";case Dy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ly:return e=t.displayName||null,e!==null?e:Iv(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Iv(t(e))}catch{}}return null}function gD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iv(e);case 8:return e===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _D(t){var e=q2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bd(t){t._valueTracker||(t._valueTracker=_D(t))}function W2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q2(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function lp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ev(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H2(t,e){e=e.checked,e!=null&&Ay(t,"checked",e,!1)}function Cv(t,e){H2(t,e);var n=fo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&kv(t,e.type,fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kv(t,e,n){(e!=="number"||lp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tu=Array.isArray;function Ac(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+fo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ex(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Tu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fo(n)}}function G2(t,e){var n=fo(e.value),i=fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function tx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $d,Q2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vD=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){vD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function Y2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function X2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Y2(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var yD=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(t,e){if(e){if(yD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Av(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nv=null;function jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dv=null,Nc=null,Dc=null;function nx(t){if(t=Jh(t)){if(typeof Dv!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Em(e),Dv(t.stateNode,t.type,e))}}function J2(t){Nc?Dc?Dc.push(t):Dc=[t]:Nc=t}function Z2(){if(Nc){var t=Nc,e=Dc;if(Dc=Nc=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function eC(t,e){return t(e)}function tC(){}var Wg=!1;function nC(t,e,n){if(Wg)return t(e,n);Wg=!0;try{return eC(t,e,n)}finally{Wg=!1,(Nc!==null||Dc!==null)&&(tC(),Z2())}}function ih(t,e){var n=t.stateNode;if(n===null)return null;var i=Em(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Lv=!1;if(ur)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Lv=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Lv=!1}function SD(t,e,n,i,s,r,o,l,c){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(h){this.onError(h)}}var Du=!1,cp=null,ap=!1,jv=null,wD={onError:function(t){Du=!0,cp=t}};function xD(t,e,n,i,s,r,o,l,c){Du=!1,cp=null,SD.apply(wD,arguments)}function TD(t,e,n,i,s,r,o,l,c){if(xD.apply(this,arguments),Du){if(Du){var a=cp;Du=!1,cp=null}else throw Error(Y(198));ap||(ap=!0,jv=a)}}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ix(t){if(Ol(t)!==t)throw Error(Y(188))}function ID(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return ix(s),t;if(r===i)return ix(s),e;r=r.sibling}throw Error(Y(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==i)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function sC(t){return t=ID(t),t!==null?rC(t):null}function rC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rC(t);if(e!==null)return e;t=t.sibling}return null}var oC=zi.unstable_scheduleCallback,sx=zi.unstable_cancelCallback,ED=zi.unstable_shouldYield,CD=zi.unstable_requestPaint,dn=zi.unstable_now,kD=zi.unstable_getCurrentPriorityLevel,Oy=zi.unstable_ImmediatePriority,lC=zi.unstable_UserBlockingPriority,up=zi.unstable_NormalPriority,RD=zi.unstable_LowPriority,cC=zi.unstable_IdlePriority,wm=null,Os=null;function PD(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(wm,t,void 0,(t.current.flags&128)===128)}catch{}}var ps=Math.clz32?Math.clz32:ND,bD=Math.log,AD=Math.LN2;function ND(t){return t>>>=0,t===0?32:31-(bD(t)/AD|0)|0}var Ud=64,qd=4194304;function Iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hp(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=Iu(l):(r&=o,r!==0&&(i=Iu(r)))}else o=n&~s,o!==0?i=Iu(o):r!==0&&(i=Iu(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ps(e),s=1<<n,i|=t[n],e&=~s;return i}function DD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LD(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-ps(r),l=1<<o,c=s[o];c===-1?(!(l&n)||l&i)&&(s[o]=DD(l,e)):c<=e&&(t.expiredLanes|=l),r&=~l}}function Ov(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aC(){var t=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),t}function Hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ps(e),t[e]=n}function jD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ps(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function My(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ps(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var It=0;function uC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hC,zy,dC,fC,pC,Mv=!1,Wd=[],Jr=null,Zr=null,eo=null,sh=new Map,rh=new Map,Fr=[],OD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(e.pointerId)}}function Ha(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Jh(e),e!==null&&zy(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function MD(t,e,n,i,s){switch(e){case"focusin":return Jr=Ha(Jr,t,e,n,i,s),!0;case"dragenter":return Zr=Ha(Zr,t,e,n,i,s),!0;case"mouseover":return eo=Ha(eo,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return sh.set(r,Ha(sh.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,rh.set(r,Ha(rh.get(r)||null,t,e,n,i,s)),!0}return!1}function mC(t){var e=Yo(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=iC(n),e!==null){t.blockedOn=e,pC(t.priority,function(){dC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Nv=i,n.target.dispatchEvent(i),Nv=null}else return e=Jh(n),e!==null&&zy(e),t.blockedOn=n,!1;e.shift()}return!0}function ox(t,e,n){jf(t)&&n.delete(e)}function zD(){Mv=!1,Jr!==null&&jf(Jr)&&(Jr=null),Zr!==null&&jf(Zr)&&(Zr=null),eo!==null&&jf(eo)&&(eo=null),sh.forEach(ox),rh.forEach(ox)}function Ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,zD)))}function oh(t){function e(s){return Ga(s,t)}if(0<Wd.length){Ga(Wd[0],t);for(var n=1;n<Wd.length;n++){var i=Wd[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Jr!==null&&Ga(Jr,t),Zr!==null&&Ga(Zr,t),eo!==null&&Ga(eo,t),sh.forEach(e),rh.forEach(e),n=0;n<Fr.length;n++)i=Fr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)mC(n),n.blockedOn===null&&Fr.shift()}var Lc=wr.ReactCurrentBatchConfig,dp=!0;function VD(t,e,n,i){var s=It,r=Lc.transition;Lc.transition=null;try{It=1,Vy(t,e,n,i)}finally{It=s,Lc.transition=r}}function FD(t,e,n,i){var s=It,r=Lc.transition;Lc.transition=null;try{It=4,Vy(t,e,n,i)}finally{It=s,Lc.transition=r}}function Vy(t,e,n,i){if(dp){var s=zv(t,e,n,i);if(s===null)n_(t,e,i,fp,n),rx(t,i);else if(MD(s,t,e,n,i))i.stopPropagation();else if(rx(t,i),e&4&&-1<OD.indexOf(t)){for(;s!==null;){var r=Jh(s);if(r!==null&&hC(r),r=zv(t,e,n,i),r===null&&n_(t,e,i,fp,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else n_(t,e,i,null,n)}}var fp=null;function zv(t,e,n,i){if(fp=null,t=jy(i),t=Yo(t),t!==null)if(e=Ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fp=t,null}function gC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kD()){case Oy:return 1;case lC:return 4;case up:case RD:return 16;case cC:return 536870912;default:return 16}default:return 16}}var Qr=null,Fy=null,Of=null;function _C(){if(Of)return Of;var t,e=Fy,n=e.length,i,s="value"in Qr?Qr.value:Qr.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Of=s.slice(t,1<i?1-i:void 0)}function Mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hd(){return!0}function lx(){return!1}function $i(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Hd:lx,this.isPropagationStopped=lx,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},By=$i(Ea),Xh=Qt({},Ea,{view:0,detail:0}),BD=$i(Xh),Gg,Kg,Ka,xm=Qt({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$y,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Gg=t.screenX-Ka.screenX,Kg=t.screenY-Ka.screenY):Kg=Gg=0,Ka=t),Gg)},movementY:function(t){return"movementY"in t?t.movementY:Kg}}),cx=$i(xm),$D=Qt({},xm,{dataTransfer:0}),UD=$i($D),qD=Qt({},Xh,{relatedTarget:0}),Qg=$i(qD),WD=Qt({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),HD=$i(WD),GD=Qt({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KD=$i(GD),QD=Qt({},Ea,{data:0}),ax=$i(QD),YD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JD[t])?!!e[t]:!1}function $y(){return ZD}var e5=Qt({},Xh,{key:function(t){if(t.key){var e=YD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$y,charCode:function(t){return t.type==="keypress"?Mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),t5=$i(e5),n5=Qt({},xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=$i(n5),i5=Qt({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$y}),s5=$i(i5),r5=Qt({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),o5=$i(r5),l5=Qt({},xm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c5=$i(l5),a5=[9,13,27,32],Uy=ur&&"CompositionEvent"in window,Lu=null;ur&&"documentMode"in document&&(Lu=document.documentMode);var u5=ur&&"TextEvent"in window&&!Lu,vC=ur&&(!Uy||Lu&&8<Lu&&11>=Lu),hx=String.fromCharCode(32),dx=!1;function yC(t,e){switch(t){case"keyup":return a5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mc=!1;function h5(t,e){switch(t){case"compositionend":return SC(e);case"keypress":return e.which!==32?null:(dx=!0,hx);case"textInput":return t=e.data,t===hx&&dx?null:t;default:return null}}function d5(t,e){if(mc)return t==="compositionend"||!Uy&&yC(t,e)?(t=_C(),Of=Fy=Qr=null,mc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vC&&e.locale!=="ko"?null:e.data;default:return null}}var f5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f5[t.type]:e==="textarea"}function wC(t,e,n,i){J2(i),e=pp(e,"onChange"),0<e.length&&(n=new By("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ju=null,lh=null;function p5(t){NC(t,0)}function Tm(t){var e=vc(t);if(W2(e))return t}function m5(t,e){if(t==="change")return e}var xC=!1;if(ur){var Yg;if(ur){var Xg="oninput"in document;if(!Xg){var px=document.createElement("div");px.setAttribute("oninput","return;"),Xg=typeof px.oninput=="function"}Yg=Xg}else Yg=!1;xC=Yg&&(!document.documentMode||9<document.documentMode)}function mx(){ju&&(ju.detachEvent("onpropertychange",TC),lh=ju=null)}function TC(t){if(t.propertyName==="value"&&Tm(lh)){var e=[];wC(e,lh,t,jy(t)),nC(p5,e)}}function g5(t,e,n){t==="focusin"?(mx(),ju=e,lh=n,ju.attachEvent("onpropertychange",TC)):t==="focusout"&&mx()}function _5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(lh)}function v5(t,e){if(t==="click")return Tm(e)}function y5(t,e){if(t==="input"||t==="change")return Tm(e)}function S5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:S5;function ch(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Sv.call(e,s)||!_s(t[s],e[s]))return!1}return!0}function gx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _x(t,e){var n=gx(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gx(n)}}function IC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EC(){for(var t=window,e=lp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lp(t.document)}return e}function qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w5(t){var e=EC(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IC(n.ownerDocument.documentElement,n)){if(i!==null&&qy(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=_x(n,r);var o=_x(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x5=ur&&"documentMode"in document&&11>=document.documentMode,gc=null,Vv=null,Ou=null,Fv=!1;function vx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fv||gc==null||gc!==lp(i)||(i=gc,"selectionStart"in i&&qy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ou&&ch(Ou,i)||(Ou=i,i=pp(Vv,"onSelect"),0<i.length&&(e=new By("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gc)))}function Gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _c={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},Jg={},CC={};ur&&(CC=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function Im(t){if(Jg[t])return Jg[t];if(!_c[t])return t;var e=_c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CC)return Jg[t]=e[n];return t}var kC=Im("animationend"),RC=Im("animationiteration"),PC=Im("animationstart"),bC=Im("transitionend"),AC=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(t,e){AC.set(t,e),jl(e,[t])}for(var Zg=0;Zg<yx.length;Zg++){var e_=yx[Zg],T5=e_.toLowerCase(),I5=e_[0].toUpperCase()+e_.slice(1);Co(T5,"on"+I5)}Co(kC,"onAnimationEnd");Co(RC,"onAnimationIteration");Co(PC,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(bC,"onTransitionEnd");Gc("onMouseEnter",["mouseout","mouseover"]);Gc("onMouseLeave",["mouseout","mouseover"]);Gc("onPointerEnter",["pointerout","pointerover"]);Gc("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function Sx(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,TD(i,e,void 0,t),t.currentTarget=null}function NC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,a=l.currentTarget;if(l=l.listener,c!==r&&s.isPropagationStopped())break e;Sx(s,l,a),r=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,a=l.currentTarget,l=l.listener,c!==r&&s.isPropagationStopped())break e;Sx(s,l,a),r=c}}}if(ap)throw t=jv,ap=!1,jv=null,t}function bt(t,e){var n=e[Wv];n===void 0&&(n=e[Wv]=new Set);var i=t+"__bubble";n.has(i)||(DC(e,t,2,!1),n.add(i))}function t_(t,e,n){var i=0;e&&(i|=4),DC(n,t,i,e)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function ah(t){if(!t[Kd]){t[Kd]=!0,F2.forEach(function(n){n!=="selectionchange"&&(E5.has(n)||t_(n,!1,t),t_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kd]||(e[Kd]=!0,t_("selectionchange",!1,e))}}function DC(t,e,n,i){switch(gC(e)){case 1:var s=VD;break;case 4:s=FD;break;default:s=Vy}n=s.bind(null,e,n,t),s=void 0,!Lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function n_(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Yo(l),o===null)return;if(c=o.tag,c===5||c===6){i=r=o;continue e}l=l.parentNode}}i=i.return}nC(function(){var a=r,h=jy(n),f=[];e:{var p=AC.get(t);if(p!==void 0){var m=By,_=t;switch(t){case"keypress":if(Mf(n)===0)break e;case"keydown":case"keyup":m=t5;break;case"focusin":_="focus",m=Qg;break;case"focusout":_="blur",m=Qg;break;case"beforeblur":case"afterblur":m=Qg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s5;break;case kC:case RC:case PC:m=HD;break;case bC:m=o5;break;case"scroll":m=BD;break;case"wheel":m=c5;break;case"copy":case"cut":case"paste":m=KD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ux}var g=(e&4)!==0,S=!g&&t==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y=a,w;y!==null;){w=y;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,v!==null&&(T=ih(y,v),T!=null&&g.push(uh(y,T,w)))),S)break;y=y.return}0<g.length&&(p=new m(p,_,null,n,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Nv&&(_=n.relatedTarget||n.fromElement)&&(Yo(_)||_[hr]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=a,_=_?Yo(_):null,_!==null&&(S=Ol(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=a),m!==_)){if(g=cx,T="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=ux,T="onPointerLeave",v="onPointerEnter",y="pointer"),S=m==null?p:vc(m),w=_==null?p:vc(_),p=new g(T,y+"leave",m,n,h),p.target=S,p.relatedTarget=w,T=null,Yo(h)===a&&(g=new g(v,y+"enter",_,n,h),g.target=w,g.relatedTarget=S,T=g),S=T,m&&_)t:{for(g=m,v=_,y=0,w=g;w;w=Yl(w))y++;for(w=0,T=v;T;T=Yl(T))w++;for(;0<y-w;)g=Yl(g),y--;for(;0<w-y;)v=Yl(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Yl(g),v=Yl(v)}g=null}else g=null;m!==null&&wx(f,p,m,g,!1),_!==null&&S!==null&&wx(f,S,_,g,!0)}}e:{if(p=a?vc(a):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=m5;else if(fx(p))if(xC)I=y5;else{I=_5;var x=g5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=v5);if(I&&(I=I(t,a))){wC(f,I,n,h);break e}x&&x(t,p,a),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&kv(p,"number",p.value)}switch(x=a?vc(a):window,t){case"focusin":(fx(x)||x.contentEditable==="true")&&(gc=x,Vv=a,Ou=null);break;case"focusout":Ou=Vv=gc=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,vx(f,n,h);break;case"selectionchange":if(x5)break;case"keydown":case"keyup":vx(f,n,h)}var E;if(Uy)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mc?yC(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(vC&&n.locale!=="ko"&&(mc||k!=="onCompositionStart"?k==="onCompositionEnd"&&mc&&(E=_C()):(Qr=h,Fy="value"in Qr?Qr.value:Qr.textContent,mc=!0)),x=pp(a,k),0<x.length&&(k=new ax(k,t,null,n,h),f.push({event:k,listeners:x}),E?k.data=E:(E=SC(n),E!==null&&(k.data=E)))),(E=u5?h5(t,n):d5(t,n))&&(a=pp(a,"onBeforeInput"),0<a.length&&(h=new ax("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:a}),h.data=E))}NC(f,e)})}function uh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pp(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=ih(t,n),r!=null&&i.unshift(uh(t,r,s)),r=ih(t,e),r!=null&&i.push(uh(t,r,s))),t=t.return}return i}function Yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wx(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,c=l.alternate,a=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&a!==null&&(l=a,s?(c=ih(n,r),c!=null&&o.unshift(uh(n,c,l))):s||(c=ih(n,r),c!=null&&o.push(uh(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var C5=/\r\n?/g,k5=/\u0000|\uFFFD/g;function xx(t){return(typeof t=="string"?t:""+t).replace(C5,`
`).replace(k5,"")}function Qd(t,e,n){if(e=xx(e),xx(t)!==e&&n)throw Error(Y(425))}function mp(){}var Bv=null,$v=null;function Uv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qv=typeof setTimeout=="function"?setTimeout:void 0,R5=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,P5=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(b5)}:qv;function b5(t){setTimeout(function(){throw t})}function i_(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),oh(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);oh(e)}function to(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ix(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),ks="__reactFiber$"+Ca,hh="__reactProps$"+Ca,hr="__reactContainer$"+Ca,Wv="__reactEvents$"+Ca,A5="__reactListeners$"+Ca,N5="__reactHandles$"+Ca;function Yo(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hr]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ix(t);t!==null;){if(n=t[ks])return n;t=Ix(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){return t=t[ks]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Em(t){return t[hh]||null}var Hv=[],yc=-1;function ko(t){return{current:t}}function jt(t){0>yc||(t.current=Hv[yc],Hv[yc]=null,yc--)}function Pt(t,e){yc++,Hv[yc]=t.current,t.current=e}var po={},li=ko(po),Ri=ko(!1),dl=po;function Kc(t,e){var n=t.type.contextTypes;if(!n)return po;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(t){return t=t.childContextTypes,t!=null}function gp(){jt(Ri),jt(li)}function Ex(t,e,n){if(li.current!==po)throw Error(Y(168));Pt(li,e),Pt(Ri,n)}function LC(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(Y(108,gD(t)||"Unknown",s));return Qt({},n,i)}function _p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||po,dl=li.current,Pt(li,t),Pt(Ri,Ri.current),!0}function Cx(t,e,n){var i=t.stateNode;if(!i)throw Error(Y(169));n?(t=LC(t,e,dl),i.__reactInternalMemoizedMergedChildContext=t,jt(Ri),jt(li),Pt(li,t)):jt(Ri),Pt(Ri,n)}var Ys=null,Cm=!1,s_=!1;function jC(t){Ys===null?Ys=[t]:Ys.push(t)}function D5(t){Cm=!0,jC(t)}function Ro(){if(!s_&&Ys!==null){s_=!0;var t=0,e=It;try{var n=Ys;for(It=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ys=null,Cm=!1}catch(s){throw Ys!==null&&(Ys=Ys.slice(t+1)),oC(Oy,Ro),s}finally{It=e,s_=!1}}return null}var Sc=[],wc=0,vp=null,yp=0,Gi=[],Ki=0,fl=null,Xs=1,Js="";function Fo(t,e){Sc[wc++]=yp,Sc[wc++]=vp,vp=t,yp=e}function OC(t,e,n){Gi[Ki++]=Xs,Gi[Ki++]=Js,Gi[Ki++]=fl,fl=t;var i=Xs;t=Js;var s=32-ps(i)-1;i&=~(1<<s),n+=1;var r=32-ps(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Xs=1<<32-ps(e)+s|n<<s|i,Js=r+t}else Xs=1<<r|n<<s|i,Js=t}function Wy(t){t.return!==null&&(Fo(t,1),OC(t,1,0))}function Hy(t){for(;t===vp;)vp=Sc[--wc],Sc[wc]=null,yp=Sc[--wc],Sc[wc]=null;for(;t===fl;)fl=Gi[--Ki],Gi[Ki]=null,Js=Gi[--Ki],Gi[Ki]=null,Xs=Gi[--Ki],Gi[Ki]=null}var Oi=null,ji=null,Vt=!1,hs=null;function MC(t,e){var n=Yi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,ji=to(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fl!==null?{id:Xs,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oi=t,ji=null,!0):!1;default:return!1}}function Gv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kv(t){if(Vt){var e=ji;if(e){var n=e;if(!kx(t,e)){if(Gv(t))throw Error(Y(418));e=to(n.nextSibling);var i=Oi;e&&kx(t,e)?MC(i,n):(t.flags=t.flags&-4097|2,Vt=!1,Oi=t)}}else{if(Gv(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Vt=!1,Oi=t}}}function Rx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function Yd(t){if(t!==Oi)return!1;if(!Vt)return Rx(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uv(t.type,t.memoizedProps)),e&&(e=ji)){if(Gv(t))throw zC(),Error(Y(418));for(;e;)MC(t,e),e=to(e.nextSibling)}if(Rx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ji=to(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ji=null}}else ji=Oi?to(t.stateNode.nextSibling):null;return!0}function zC(){for(var t=ji;t;)t=to(t.nextSibling)}function Qc(){ji=Oi=null,Vt=!1}function Gy(t){hs===null?hs=[t]:hs.push(t)}var L5=wr.ReactCurrentBatchConfig;function cs(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sp=ko(null),wp=null,xc=null,Ky=null;function Qy(){Ky=xc=wp=null}function Yy(t){var e=Sp.current;jt(Sp),t._currentValue=e}function Qv(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function jc(t,e){wp=t,Ky=xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(Ky!==t)if(t={context:t,memoizedValue:e,next:null},xc===null){if(wp===null)throw Error(Y(308));xc=t,wp.dependencies={lanes:0,firstContext:t}}else xc=xc.next=t;return e}var Xo=null;function Xy(t){Xo===null?Xo=[t]:Xo.push(t)}function VC(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Xy(e)):(n.next=s.next,s.next=n),e.interleaved=n,dr(t,i)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,mt&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,dr(t,n)}return s=i.interleaved,s===null?(e.next=e,Xy(i)):(e.next=s.next,s.next=e),i.interleaved=e,dr(t,n)}function zf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,My(t,n)}}function Px(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xp(t,e,n,i){var s=t.updateQueue;Vr=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,a=c.next;c.next=null,o===null?r=a:o.next=a,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=a:l.next=a,h.lastBaseUpdate=c))}if(r!==null){var f=s.baseState;o=0,h=a=c=null,l=r;do{var p=l.lane,m=l.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,g=l;switch(p=e,m=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(m,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,p=typeof _=="function"?_.call(m,f,p):_,p==null)break e;f=Qt({},f,p);break e;case 2:Vr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(a=h=m,c=f):h=h.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=a,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);ml|=o,t.lanes=o,t.memoizedState=f}}function bx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(Y(191,s));s.call(i)}}}var BC=new V2.Component().refs;function Yv(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var km={isMounted:function(t){return(t=t._reactInternals)?Ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=pi(),s=so(t),r=or(i,s);r.payload=e,n!=null&&(r.callback=n),e=no(t,r,s),e!==null&&(ms(e,t,s,i),zf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=pi(),s=so(t),r=or(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=no(t,r,s),e!==null&&(ms(e,t,s,i),zf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pi(),i=so(t),s=or(n,i);s.tag=2,e!=null&&(s.callback=e),e=no(t,s,i),e!==null&&(ms(e,t,i,n),zf(e,t,i))}};function Ax(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!ch(n,i)||!ch(s,r):!0}function $C(t,e,n){var i=!1,s=po,r=e.contextType;return typeof r=="object"&&r!==null?r=ns(r):(s=Pi(e)?dl:li.current,i=e.contextTypes,r=(i=i!=null)?Kc(t,s):po),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=km,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Nx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&km.enqueueReplaceState(e,e.state,null)}function Xv(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=BC,Jy(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ns(r):(r=Pi(e)?dl:li.current,s.context=Kc(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Yv(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&km.enqueueReplaceState(s,s.state,null),xp(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var i=n.stateNode}if(!i)throw Error(Y(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;l===BC&&(l=s.refs={}),o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Xd(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dx(t){var e=t._init;return e(t._payload)}function UC(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=ro(v,y),v.index=0,v.sibling=null,v}function r(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,T){return y===null||y.tag!==6?(y=h_(w,v.mode,T),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,T){var I=w.type;return I===pc?h(v,y,w.props.children,T,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===zr&&Dx(I)===y.type)?(T=s(y,w.props),T.ref=Qa(v,y,w),T.return=v,T):(T=qf(w.type,w.key,w.props,null,v.mode,T),T.ref=Qa(v,y,w),T.return=v,T)}function a(v,y,w,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=d_(w,v.mode,T),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function h(v,y,w,T,I){return y===null||y.tag!==7?(y=cl(w,v.mode,T,I),y.return=v,y):(y=s(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=h_(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fd:return w=qf(y.type,y.key,y.props,null,v.mode,w),w.ref=Qa(v,null,y),w.return=v,w;case fc:return y=d_(y,v.mode,w),y.return=v,y;case zr:var T=y._init;return f(v,T(y._payload),w)}if(Tu(y)||qa(y))return y=cl(y,v.mode,w,null),y.return=v,y;Xd(v,y)}return null}function p(v,y,w,T){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:l(v,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fd:return w.key===I?c(v,y,w,T):null;case fc:return w.key===I?a(v,y,w,T):null;case zr:return I=w._init,p(v,y,I(w._payload),T)}if(Tu(w)||qa(w))return I!==null?null:h(v,y,w,T,null);Xd(v,w)}return null}function m(v,y,w,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(w)||null,l(y,v,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fd:return v=v.get(T.key===null?w:T.key)||null,c(y,v,T,I);case fc:return v=v.get(T.key===null?w:T.key)||null,a(y,v,T,I);case zr:var x=T._init;return m(v,y,w,x(T._payload),I)}if(Tu(T)||qa(T))return v=v.get(w)||null,h(y,v,T,I,null);Xd(y,T)}return null}function _(v,y,w,T){for(var I=null,x=null,E=y,k=y=0,P=null;E!==null&&k<w.length;k++){E.index>k?(P=E,E=null):P=E.sibling;var j=p(v,E,w[k],T);if(j===null){E===null&&(E=P);break}t&&E&&j.alternate===null&&e(v,E),y=r(j,y,k),x===null?I=j:x.sibling=j,x=j,E=P}if(k===w.length)return n(v,E),Vt&&Fo(v,k),I;if(E===null){for(;k<w.length;k++)E=f(v,w[k],T),E!==null&&(y=r(E,y,k),x===null?I=E:x.sibling=E,x=E);return Vt&&Fo(v,k),I}for(E=i(v,E);k<w.length;k++)P=m(E,v,k,w[k],T),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?k:P.key),y=r(P,y,k),x===null?I=P:x.sibling=P,x=P);return t&&E.forEach(function(H){return e(v,H)}),Vt&&Fo(v,k),I}function g(v,y,w,T){var I=qa(w);if(typeof I!="function")throw Error(Y(150));if(w=I.call(w),w==null)throw Error(Y(151));for(var x=I=null,E=y,k=y=0,P=null,j=w.next();E!==null&&!j.done;k++,j=w.next()){E.index>k?(P=E,E=null):P=E.sibling;var H=p(v,E,j.value,T);if(H===null){E===null&&(E=P);break}t&&E&&H.alternate===null&&e(v,E),y=r(H,y,k),x===null?I=H:x.sibling=H,x=H,E=P}if(j.done)return n(v,E),Vt&&Fo(v,k),I;if(E===null){for(;!j.done;k++,j=w.next())j=f(v,j.value,T),j!==null&&(y=r(j,y,k),x===null?I=j:x.sibling=j,x=j);return Vt&&Fo(v,k),I}for(E=i(v,E);!j.done;k++,j=w.next())j=m(E,v,k,j.value,T),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?k:j.key),y=r(j,y,k),x===null?I=j:x.sibling=j,x=j);return t&&E.forEach(function(X){return e(v,X)}),Vt&&Fo(v,k),I}function S(v,y,w,T){if(typeof w=="object"&&w!==null&&w.type===pc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fd:e:{for(var I=w.key,x=y;x!==null;){if(x.key===I){if(I=w.type,I===pc){if(x.tag===7){n(v,x.sibling),y=s(x,w.props.children),y.return=v,v=y;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===zr&&Dx(I)===x.type){n(v,x.sibling),y=s(x,w.props),y.ref=Qa(v,x,w),y.return=v,v=y;break e}n(v,x);break}else e(v,x);x=x.sibling}w.type===pc?(y=cl(w.props.children,v.mode,T,w.key),y.return=v,v=y):(T=qf(w.type,w.key,w.props,null,v.mode,T),T.ref=Qa(v,y,w),T.return=v,v=T)}return o(v);case fc:e:{for(x=w.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=d_(w,v.mode,T),y.return=v,v=y}return o(v);case zr:return x=w._init,S(v,y,x(w._payload),T)}if(Tu(w))return _(v,y,w,T);if(qa(w))return g(v,y,w,T);Xd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,w),y.return=v,v=y):(n(v,y),y=h_(w,v.mode,T),y.return=v,v=y),o(v)):n(v,y)}return S}var Yc=UC(!0),qC=UC(!1),Zh={},Ms=ko(Zh),dh=ko(Zh),fh=ko(Zh);function Jo(t){if(t===Zh)throw Error(Y(174));return t}function Zy(t,e){switch(Pt(fh,e),Pt(dh,t),Pt(Ms,Zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pv(e,t)}jt(Ms),Pt(Ms,e)}function Xc(){jt(Ms),jt(dh),jt(fh)}function WC(t){Jo(fh.current);var e=Jo(Ms.current),n=Pv(e,t.type);e!==n&&(Pt(dh,t),Pt(Ms,n))}function e0(t){dh.current===t&&(jt(Ms),jt(dh))}var Ht=ko(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r_=[];function t0(){for(var t=0;t<r_.length;t++)r_[t]._workInProgressVersionPrimary=null;r_.length=0}var Vf=wr.ReactCurrentDispatcher,o_=wr.ReactCurrentBatchConfig,pl=0,Gt=null,Tn=null,bn=null,Ip=!1,Mu=!1,ph=0,j5=0;function Jn(){throw Error(Y(321))}function n0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function i0(t,e,n,i,s,r){if(pl=r,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vf.current=t===null||t.memoizedState===null?V5:F5,t=n(i,s),Mu){r=0;do{if(Mu=!1,ph=0,25<=r)throw Error(Y(301));r+=1,bn=Tn=null,e.updateQueue=null,Vf.current=B5,t=n(i,s)}while(Mu)}if(Vf.current=Ep,e=Tn!==null&&Tn.next!==null,pl=0,bn=Tn=Gt=null,Ip=!1,e)throw Error(Y(300));return t}function s0(){var t=ph!==0;return ph=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Gt.memoizedState=bn=t:bn=bn.next=t,bn}function is(){if(Tn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=bn===null?Gt.memoizedState:bn.next;if(e!==null)bn=e,Tn=t;else{if(t===null)throw Error(Y(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},bn===null?Gt.memoizedState=bn=t:bn=bn.next=t}return bn}function mh(t,e){return typeof e=="function"?e(t):e}function l_(t){var e=is(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=Tn,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,c=null,a=r;do{var h=a.lane;if((pl&h)===h)c!==null&&(c=c.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),i=a.hasEagerState?a.eagerState:t(i,a.action);else{var f={lane:h,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};c===null?(l=c=f,o=i):c=c.next=f,Gt.lanes|=h,ml|=h}a=a.next}while(a!==null&&a!==r);c===null?o=i:c.next=l,_s(i,e.memoizedState)||(Ti=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,Gt.lanes|=r,ml|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function c_(t){var e=is(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);_s(r,e.memoizedState)||(Ti=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function HC(){}function GC(t,e){var n=Gt,i=is(),s=e(),r=!_s(i.memoizedState,s);if(r&&(i.memoizedState=s,Ti=!0),i=i.queue,r0(YC.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,gh(9,QC.bind(null,n,i,s,e),void 0,null),Ln===null)throw Error(Y(349));pl&30||KC(n,e,s)}return s}function KC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QC(t,e,n,i){e.value=n,e.getSnapshot=i,XC(e)&&JC(t)}function YC(t,e,n){return n(function(){XC(e)&&JC(t)})}function XC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function JC(t){var e=dr(t,1);e!==null&&ms(e,t,1,-1)}function Lx(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},e.queue=t,t=t.dispatch=z5.bind(null,Gt,t),[e.memoizedState,t]}function gh(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function ZC(){return is().memoizedState}function Ff(t,e,n,i){var s=Cs();Gt.flags|=t,s.memoizedState=gh(1|e,n,void 0,i===void 0?null:i)}function Rm(t,e,n,i){var s=is();i=i===void 0?null:i;var r=void 0;if(Tn!==null){var o=Tn.memoizedState;if(r=o.destroy,i!==null&&n0(i,o.deps)){s.memoizedState=gh(e,n,r,i);return}}Gt.flags|=t,s.memoizedState=gh(1|e,n,r,i)}function jx(t,e){return Ff(8390656,8,t,e)}function r0(t,e){return Rm(2048,8,t,e)}function ek(t,e){return Rm(4,2,t,e)}function tk(t,e){return Rm(4,4,t,e)}function nk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ik(t,e,n){return n=n!=null?n.concat([t]):null,Rm(4,4,nk.bind(null,e,t),n)}function o0(){}function sk(t,e){var n=is();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&n0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function rk(t,e){var n=is();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&n0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ok(t,e,n){return pl&21?(_s(n,e)||(n=aC(),Gt.lanes|=n,ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=n)}function O5(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var i=o_.transition;o_.transition={};try{t(!1),e()}finally{It=n,o_.transition=i}}function lk(){return is().memoizedState}function M5(t,e,n){var i=so(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ck(t))ak(e,n);else if(n=VC(t,e,n,i),n!==null){var s=pi();ms(n,t,i,s),uk(n,e,i)}}function z5(t,e,n){var i=so(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ck(t))ak(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,_s(l,o)){var c=e.interleaved;c===null?(s.next=s,Xy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=VC(t,e,s,i),n!==null&&(s=pi(),ms(n,t,i,s),uk(n,e,i))}}function ck(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function ak(t,e){Mu=Ip=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uk(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,My(t,n)}}var Ep={readContext:ns,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},V5={readContext:ns,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:jx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ff(4194308,4,nk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ff(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Cs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=M5.bind(null,Gt,t),[i.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:Lx,useDebugValue:o0,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=Lx(!1),e=t[0];return t=O5.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Gt,s=Cs();if(Vt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Ln===null)throw Error(Y(349));pl&30||KC(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,jx(YC.bind(null,i,r,t),[t]),i.flags|=2048,gh(9,QC.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Cs(),e=Ln.identifierPrefix;if(Vt){var n=Js,i=Xs;n=(i&~(1<<32-ps(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ph++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F5={readContext:ns,useCallback:sk,useContext:ns,useEffect:r0,useImperativeHandle:ik,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:rk,useReducer:l_,useRef:ZC,useState:function(){return l_(mh)},useDebugValue:o0,useDeferredValue:function(t){var e=is();return ok(e,Tn.memoizedState,t)},useTransition:function(){var t=l_(mh)[0],e=is().memoizedState;return[t,e]},useMutableSource:HC,useSyncExternalStore:GC,useId:lk,unstable_isNewReconciler:!1},B5={readContext:ns,useCallback:sk,useContext:ns,useEffect:r0,useImperativeHandle:ik,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:rk,useReducer:c_,useRef:ZC,useState:function(){return c_(mh)},useDebugValue:o0,useDeferredValue:function(t){var e=is();return Tn===null?e.memoizedState=t:ok(e,Tn.memoizedState,t)},useTransition:function(){var t=c_(mh)[0],e=is().memoizedState;return[t,e]},useMutableSource:HC,useSyncExternalStore:GC,useId:lk,unstable_isNewReconciler:!1};function Jc(t,e){try{var n="",i=e;do n+=mD(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function a_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $5=typeof WeakMap=="function"?WeakMap:Map;function hk(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){kp||(kp=!0,c1=i),Jv(t,e)},n}function dk(t,e,n){n=or(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Jv(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Jv(t,e),typeof i!="function"&&(io===null?io=new Set([this]):io.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ox(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new $5;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=nL.bind(null,t,e,n),e.then(t,t))}function Mx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zx(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,no(n,e,1))),n.lanes|=1),t)}var U5=wr.ReactCurrentOwner,Ti=!1;function ui(t,e,n,i){e.child=t===null?qC(e,null,n,i):Yc(e,t.child,n,i)}function Vx(t,e,n,i,s){n=n.render;var r=e.ref;return jc(e,s),i=i0(t,e,n,i,r,s),n=s0(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(Vt&&n&&Wy(e),e.flags|=1,ui(t,e,i,s),e.child)}function Fx(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!p0(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,fk(t,e,r,i,s)):(t=qf(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:ch,n(o,i)&&t.ref===e.ref)return fr(t,e,s)}return e.flags|=1,t=ro(r,i),t.ref=e.ref,t.return=e,e.child=t}function fk(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(ch(r,i)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,fr(t,e,s)}return Zv(t,e,n,i,s)}function pk(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ic,Li),Li|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Ic,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Pt(Ic,Li),Li|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Pt(Ic,Li),Li|=i;return ui(t,e,s,n),e.child}function mk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zv(t,e,n,i,s){var r=Pi(n)?dl:li.current;return r=Kc(e,r),jc(e,s),n=i0(t,e,n,i,r,s),i=s0(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(Vt&&i&&Wy(e),e.flags|=1,ui(t,e,n,s),e.child)}function Bx(t,e,n,i,s){if(Pi(n)){var r=!0;_p(e)}else r=!1;if(jc(e,s),e.stateNode===null)Bf(t,e),$C(e,n,i),Xv(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=ns(a):(a=Pi(n)?dl:li.current,a=Kc(e,a));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==a)&&Nx(e,o,i,a),Vr=!1;var p=e.memoizedState;o.state=p,xp(e,i,o,s),c=e.memoizedState,l!==i||p!==c||Ri.current||Vr?(typeof h=="function"&&(Yv(e,n,h,i),c=e.memoizedState),(l=Vr||Ax(e,n,l,i,p,c,a))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=a,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,FC(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:cs(e.type,l),o.props=a,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ns(c):(c=Pi(n)?dl:li.current,c=Kc(e,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Nx(e,o,i,c),Vr=!1,p=e.memoizedState,o.state=p,xp(e,i,o,s);var _=e.memoizedState;l!==f||p!==_||Ri.current||Vr?(typeof m=="function"&&(Yv(e,n,m,i),_=e.memoizedState),(a=Vr||Ax(e,n,a,i,p,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=c,i=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return e1(t,e,n,i,r,s)}function e1(t,e,n,i,s,r){mk(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Cx(e,n,!1),fr(t,e,r);i=e.stateNode,U5.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Yc(e,t.child,null,r),e.child=Yc(e,null,l,r)):ui(t,e,l,r),e.memoizedState=i.state,s&&Cx(e,n,!0),e.child}function gk(t){var e=t.stateNode;e.pendingContext?Ex(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ex(t,e.context,!1),Zy(t,e.containerInfo)}function $x(t,e,n,i,s){return Qc(),Gy(s),e.flags|=256,ui(t,e,n,i),e.child}var t1={dehydrated:null,treeContext:null,retryLane:0};function n1(t){return{baseLanes:t,cachePool:null,transitions:null}}function _k(t,e,n){var i=e.pendingProps,s=Ht.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pt(Ht,s&1),t===null)return Kv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Am(o,i,0,null),t=cl(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=n1(n),e.memoizedState=t1,t):l0(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return q5(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=ro(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=ro(l,r):(r=cl(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?n1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=t1,i}return r=t.child,t=r.sibling,i=ro(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function l0(t,e){return e=Am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,n,i){return i!==null&&Gy(i),Yc(e,t.child,null,n),t=l0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q5(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=a_(Error(Y(422))),Jd(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Am({mode:"visible",children:i.children},s,0,null),r=cl(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Yc(e,t.child,null,o),e.child.memoizedState=n1(o),e.memoizedState=t1,r);if(!(e.mode&1))return Jd(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(Y(419)),i=a_(r,i,void 0),Jd(t,e,o,i)}if(l=(o&t.childLanes)!==0,Ti||l){if(i=Ln,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,dr(t,s),ms(i,t,s,-1))}return f0(),i=a_(Error(Y(421))),Jd(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iL.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,ji=to(s.nextSibling),Oi=e,Vt=!0,hs=null,t!==null&&(Gi[Ki++]=Xs,Gi[Ki++]=Js,Gi[Ki++]=fl,Xs=t.id,Js=t.overflow,fl=e),e=l0(e,i.children),e.flags|=4096,e)}function Ux(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Qv(t.return,e,n)}function u_(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function vk(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(ui(t,e,i.children,n),i=Ht.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ux(t,n,e);else if(t.tag===19)Ux(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Pt(Ht,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Tp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),u_(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}u_(e,!0,n,null,r);break;case"together":u_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function W5(t,e,n){switch(e.tag){case 3:gk(e),Qc();break;case 5:WC(e);break;case 1:Pi(e.type)&&_p(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Pt(Sp,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Pt(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?_k(t,e,n):(Pt(Ht,Ht.current&1),t=fr(t,e,n),t!==null?t.sibling:null);Pt(Ht,Ht.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return vk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(Ht,Ht.current),i)break;return null;case 22:case 23:return e.lanes=0,pk(t,e,n)}return fr(t,e,n)}var yk,i1,Sk,wk;yk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i1=function(){};Sk=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Jo(Ms.current);var r=null;switch(n){case"input":s=Ev(t,s),i=Ev(t,i),r=[];break;case"select":s=Qt({},s,{value:void 0}),i=Qt({},i,{value:void 0}),r=[];break;case"textarea":s=Rv(t,s),i=Rv(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=mp)}bv(n,i);var o;n=null;for(a in s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style"){var l=s[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(th.hasOwnProperty(a)?r||(r=[]):(r=r||[]).push(a,null));for(a in i){var c=i[a];if(l=s!=null?s[a]:void 0,i.hasOwnProperty(a)&&c!==l&&(c!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(a,n)),n=c;else a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(r=r||[]).push(a,c)):a==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(a,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(th.hasOwnProperty(a)?(c!=null&&a==="onScroll"&&bt("scroll",t),r||l===c||(r=[])):(r=r||[]).push(a,c))}n&&(r=r||[]).push("style",n);var a=r;(e.updateQueue=a)&&(e.flags|=4)}};wk=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ya(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function H5(t,e,n){var i=e.pendingProps;switch(Hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Pi(e.type)&&gp(),Zn(e),null;case 3:return i=e.stateNode,Xc(),jt(Ri),jt(li),t0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(h1(hs),hs=null))),i1(t,e),Zn(e),null;case 5:e0(e);var s=Jo(fh.current);if(n=e.type,t!==null&&e.stateNode!=null)Sk(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Y(166));return Zn(e),null}if(t=Jo(Ms.current),Yd(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[ks]=e,i[hh]=r,t=(e.mode&1)!==0,n){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(s=0;s<Eu.length;s++)bt(Eu[s],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":Jw(i,r),bt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},bt("invalid",i);break;case"textarea":ex(i,r),bt("invalid",i)}bv(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&Qd(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Qd(i.textContent,l,t),s=["children",""+l]):th.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&bt("scroll",i)}switch(n){case"input":Bd(i),Zw(i,r,!0);break;case"textarea":Bd(i),tx(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=mp)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ks]=e,t[hh]=i,yk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Av(n,i),n){case"dialog":bt("cancel",t),bt("close",t),s=i;break;case"iframe":case"object":case"embed":bt("load",t),s=i;break;case"video":case"audio":for(s=0;s<Eu.length;s++)bt(Eu[s],t);s=i;break;case"source":bt("error",t),s=i;break;case"img":case"image":case"link":bt("error",t),bt("load",t),s=i;break;case"details":bt("toggle",t),s=i;break;case"input":Jw(t,i),s=Ev(t,i),bt("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Qt({},i,{value:void 0}),bt("invalid",t);break;case"textarea":ex(t,i),s=Rv(t,i),bt("invalid",t);break;default:s=i}bv(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var c=l[r];r==="style"?X2(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q2(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&nh(t,c):typeof c=="number"&&nh(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(th.hasOwnProperty(r)?c!=null&&r==="onScroll"&&bt("scroll",t):c!=null&&Ay(t,r,c,o))}switch(n){case"input":Bd(t),Zw(t,i,!1);break;case"textarea":Bd(t),tx(t);break;case"option":i.value!=null&&t.setAttribute("value",""+fo(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Ac(t,!!i.multiple,r,!1):i.defaultValue!=null&&Ac(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mp)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)wk(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Jo(fh.current),Jo(Ms.current),Yd(e)){if(i=e.stateNode,n=e.memoizedProps,i[ks]=e,(r=i.nodeValue!==n)&&(t=Oi,t!==null))switch(t.tag){case 3:Qd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qd(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ks]=e,e.stateNode=i}return Zn(e),null;case 13:if(jt(Ht),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&ji!==null&&e.mode&1&&!(e.flags&128))zC(),Qc(),e.flags|=98560,r=!1;else if(r=Yd(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(Y(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[ks]=e}else Qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),r=!1}else hs!==null&&(h1(hs),hs=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?En===0&&(En=3):f0())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Xc(),i1(t,e),t===null&&ah(e.stateNode.containerInfo),Zn(e),null;case 10:return Yy(e.type._context),Zn(e),null;case 17:return Pi(e.type)&&gp(),Zn(e),null;case 19:if(jt(Ht),r=e.memoizedState,r===null)return Zn(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Ya(r,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tp(t),o!==null){for(e.flags|=128,Ya(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Ht,Ht.current&1|2),e.child}t=t.sibling}r.tail!==null&&dn()>Zc&&(e.flags|=128,i=!0,Ya(r,!1),e.lanes=4194304)}else{if(!i)if(t=Tp(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Vt)return Zn(e),null}else 2*dn()-r.renderingStartTime>Zc&&n!==1073741824&&(e.flags|=128,i=!0,Ya(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=dn(),e.sibling=null,n=Ht.current,Pt(Ht,i?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return d0(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Li&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function G5(t,e){switch(Hy(e),e.tag){case 1:return Pi(e.type)&&gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xc(),jt(Ri),jt(li),t0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e0(e),null;case 13:if(jt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Ht),null;case 4:return Xc(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var Zd=!1,ti=!1,K5=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){tn(t,e,i)}else n.current=null}function s1(t,e,n){try{n()}catch(i){tn(t,e,i)}}var qx=!1;function Q5(t,e){if(Bv=dp,t=EC(),qy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,a=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==r||i!==0&&f.nodeType!==3||(c=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++a===s&&(l=o),p===r&&++h===i&&(c=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($v={focusedElem:t,selectionRange:n},dp=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,S=_.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:cs(e.type,g),S);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(T){tn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return _=qx,qx=!1,_}function zu(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&s1(e,n,r)}s=s.next}while(s!==i)}}function Pm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function r1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xk(t){var e=t.alternate;e!==null&&(t.alternate=null,xk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[hh],delete e[Wv],delete e[A5],delete e[N5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tk(t){return t.tag===5||t.tag===3||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function o1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mp));else if(i!==4&&(t=t.child,t!==null))for(o1(t,e,n),t=t.sibling;t!==null;)o1(t,e,n),t=t.sibling}function l1(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(l1(t,e,n),t=t.sibling;t!==null;)l1(t,e,n),t=t.sibling}var qn=null,as=!1;function Pr(t,e,n){for(n=n.child;n!==null;)Ik(t,e,n),n=n.sibling}function Ik(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(wm,n)}catch{}switch(n.tag){case 5:ti||Tc(n,e);case 6:var i=qn,s=as;qn=null,Pr(t,e,n),qn=i,as=s,qn!==null&&(as?(t=qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(as?(t=qn,n=n.stateNode,t.nodeType===8?i_(t.parentNode,n):t.nodeType===1&&i_(t,n),oh(t)):i_(qn,n.stateNode));break;case 4:i=qn,s=as,qn=n.stateNode.containerInfo,as=!0,Pr(t,e,n),qn=i,as=s;break;case 0:case 11:case 14:case 15:if(!ti&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&s1(n,e,o),s=s.next}while(s!==i)}Pr(t,e,n);break;case 1:if(!ti&&(Tc(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){tn(n,e,l)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(ti=(i=ti)||n.memoizedState!==null,Pr(t,e,n),ti=i):Pr(t,e,n);break;default:Pr(t,e,n)}}function Hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new K5),e.forEach(function(i){var s=sL.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function os(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,as=!1;break e;case 3:qn=l.stateNode.containerInfo,as=!0;break e;case 4:qn=l.stateNode.containerInfo,as=!0;break e}l=l.return}if(qn===null)throw Error(Y(160));Ik(r,o,s),qn=null,as=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(a){tn(s,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ek(e,t),e=e.sibling}function Ek(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),Ts(t),i&4){try{zu(3,t,t.return),Pm(3,t)}catch(g){tn(t,t.return,g)}try{zu(5,t,t.return)}catch(g){tn(t,t.return,g)}}break;case 1:os(e,t),Ts(t),i&512&&n!==null&&Tc(n,n.return);break;case 5:if(os(e,t),Ts(t),i&512&&n!==null&&Tc(n,n.return),t.flags&32){var s=t.stateNode;try{nh(s,"")}catch(g){tn(t,t.return,g)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&H2(s,r),Av(l,o);var a=Av(l,r);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?X2(s,f):h==="dangerouslySetInnerHTML"?Q2(s,f):h==="children"?nh(s,f):Ay(s,h,f,a)}switch(l){case"input":Cv(s,r);break;case"textarea":G2(s,r);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var m=r.value;m!=null?Ac(s,!!r.multiple,m,!1):p!==!!r.multiple&&(r.defaultValue!=null?Ac(s,!!r.multiple,r.defaultValue,!0):Ac(s,!!r.multiple,r.multiple?[]:"",!1))}s[hh]=r}catch(g){tn(t,t.return,g)}}break;case 6:if(os(e,t),Ts(t),i&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(g){tn(t,t.return,g)}}break;case 3:if(os(e,t),Ts(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{oh(e.containerInfo)}catch(g){tn(t,t.return,g)}break;case 4:os(e,t),Ts(t);break;case 13:os(e,t),Ts(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(u0=dn())),i&4&&Hx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ti=(a=ti)||h,os(e,t),ti=a):os(e,t),Ts(t),i&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!h&&t.mode&1)for(xe=t,h=t.child;h!==null;){for(f=xe=h;xe!==null;){switch(p=xe,m=p.child,p.tag){case 0:case 11:case 14:case 15:zu(4,p,p.return);break;case 1:Tc(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){tn(i,n,g)}}break;case 5:Tc(p,p.return);break;case 22:if(p.memoizedState!==null){Kx(f);continue}}m!==null?(m.return=p,xe=m):Kx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,a?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y2("display",o))}catch(g){tn(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(g){tn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:os(e,t),Ts(t),i&4&&Hx(t);break;case 21:break;default:os(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tk(n)){var i=n;break e}n=n.return}throw Error(Y(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(nh(s,""),i.flags&=-33);var r=Wx(t);l1(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Wx(t);o1(t,l,o);break;default:throw Error(Y(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y5(t,e,n){xe=t,Ck(t)}function Ck(t,e,n){for(var i=(t.mode&1)!==0;xe!==null;){var s=xe,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Zd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ti;l=Zd;var a=ti;if(Zd=o,(ti=c)&&!a)for(xe=s;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?Qx(s):c!==null?(c.return=o,xe=c):Qx(s);for(;r!==null;)xe=r,Ck(r),r=r.sibling;xe=s,Zd=l,ti=a}Gx(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,xe=r):Gx(t)}}function Gx(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ti||Pm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ti)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cs(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&bx(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var h=a.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&oh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ti||e.flags&512&&r1(e)}catch(p){tn(e,e.return,p)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Kx(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Qx(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pm(4,e)}catch(c){tn(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){tn(e,s,c)}}var r=e.return;try{r1(e)}catch(c){tn(e,r,c)}break;case 5:var o=e.return;try{r1(e)}catch(c){tn(e,o,c)}}}catch(c){tn(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var X5=Math.ceil,Cp=wr.ReactCurrentDispatcher,c0=wr.ReactCurrentOwner,es=wr.ReactCurrentBatchConfig,mt=0,Ln=null,vn=null,Qn=0,Li=0,Ic=ko(0),En=0,_h=null,ml=0,bm=0,a0=0,Vu=null,xi=null,u0=0,Zc=1/0,Qs=null,kp=!1,c1=null,io=null,ef=!1,Yr=null,Rp=0,Fu=0,a1=null,$f=-1,Uf=0;function pi(){return mt&6?dn():$f!==-1?$f:$f=dn()}function so(t){return t.mode&1?mt&2&&Qn!==0?Qn&-Qn:L5.transition!==null?(Uf===0&&(Uf=aC()),Uf):(t=It,t!==0||(t=window.event,t=t===void 0?16:gC(t.type)),t):1}function ms(t,e,n,i){if(50<Fu)throw Fu=0,a1=null,Error(Y(185));Yh(t,n,i),(!(mt&2)||t!==Ln)&&(t===Ln&&(!(mt&2)&&(bm|=n),En===4&&Br(t,Qn)),bi(t,i),n===1&&mt===0&&!(e.mode&1)&&(Zc=dn()+500,Cm&&Ro()))}function bi(t,e){var n=t.callbackNode;LD(t,e);var i=hp(t,t===Ln?Qn:0);if(i===0)n!==null&&sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&sx(n),e===1)t.tag===0?D5(Yx.bind(null,t)):jC(Yx.bind(null,t)),P5(function(){!(mt&6)&&Ro()}),n=null;else{switch(uC(i)){case 1:n=Oy;break;case 4:n=lC;break;case 16:n=up;break;case 536870912:n=cC;break;default:n=up}n=Lk(n,kk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kk(t,e){if($f=-1,Uf=0,mt&6)throw Error(Y(327));var n=t.callbackNode;if(Oc()&&t.callbackNode!==n)return null;var i=hp(t,t===Ln?Qn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Pp(t,i);else{e=i;var s=mt;mt|=2;var r=Pk();(Ln!==t||Qn!==e)&&(Qs=null,Zc=dn()+500,ll(t,e));do try{eL();break}catch(l){Rk(t,l)}while(1);Qy(),Cp.current=r,mt=s,vn!==null?e=0:(Ln=null,Qn=0,e=En)}if(e!==0){if(e===2&&(s=Ov(t),s!==0&&(i=s,e=u1(t,s))),e===1)throw n=_h,ll(t,0),Br(t,i),bi(t,dn()),n;if(e===6)Br(t,i);else{if(s=t.current.alternate,!(i&30)&&!J5(s)&&(e=Pp(t,i),e===2&&(r=Ov(t),r!==0&&(i=r,e=u1(t,r))),e===1))throw n=_h,ll(t,0),Br(t,i),bi(t,dn()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(Y(345));case 2:Bo(t,xi,Qs);break;case 3:if(Br(t,i),(i&130023424)===i&&(e=u0+500-dn(),10<e)){if(hp(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){pi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qv(Bo.bind(null,t,xi,Qs),e);break}Bo(t,xi,Qs);break;case 4:if(Br(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-ps(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*X5(i/1960))-i,10<i){t.timeoutHandle=qv(Bo.bind(null,t,xi,Qs),i);break}Bo(t,xi,Qs);break;case 5:Bo(t,xi,Qs);break;default:throw Error(Y(329))}}}return bi(t,dn()),t.callbackNode===n?kk.bind(null,t):null}function u1(t,e){var n=Vu;return t.current.memoizedState.isDehydrated&&(ll(t,e).flags|=256),t=Pp(t,e),t!==2&&(e=xi,xi=n,e!==null&&h1(e)),t}function h1(t){xi===null?xi=t:xi.push.apply(xi,t)}function J5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!_s(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~a0,e&=~bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ps(e),i=1<<n;t[n]=-1,e&=~i}}function Yx(t){if(mt&6)throw Error(Y(327));Oc();var e=hp(t,0);if(!(e&1))return bi(t,dn()),null;var n=Pp(t,e);if(t.tag!==0&&n===2){var i=Ov(t);i!==0&&(e=i,n=u1(t,i))}if(n===1)throw n=_h,ll(t,0),Br(t,e),bi(t,dn()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bo(t,xi,Qs),bi(t,dn()),null}function h0(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(Zc=dn()+500,Cm&&Ro())}}function gl(t){Yr!==null&&Yr.tag===0&&!(mt&6)&&Oc();var e=mt;mt|=1;var n=es.transition,i=It;try{if(es.transition=null,It=1,t)return t()}finally{It=i,es.transition=n,mt=e,!(mt&6)&&Ro()}}function d0(){Li=Ic.current,jt(Ic)}function ll(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R5(n)),vn!==null)for(n=vn.return;n!==null;){var i=n;switch(Hy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&gp();break;case 3:Xc(),jt(Ri),jt(li),t0();break;case 5:e0(i);break;case 4:Xc();break;case 13:jt(Ht);break;case 19:jt(Ht);break;case 10:Yy(i.type._context);break;case 22:case 23:d0()}n=n.return}if(Ln=t,vn=t=ro(t.current,null),Qn=Li=e,En=0,_h=null,a0=bm=ml=0,xi=Vu=null,Xo!==null){for(e=0;e<Xo.length;e++)if(n=Xo[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Xo=null}return t}function Rk(t,e){do{var n=vn;try{if(Qy(),Vf.current=Ep,Ip){for(var i=Gt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ip=!1}if(pl=0,bn=Tn=Gt=null,Mu=!1,ph=0,c0.current=null,n===null||n.return===null){En=1,_h=e,vn=null;break}e:{var r=t,o=n.return,l=n,c=e;if(e=Qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var a=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Mx(o);if(m!==null){m.flags&=-257,zx(m,o,l,r,e),m.mode&1&&Ox(r,a,e),e=m,c=a;var _=e.updateQueue;if(_===null){var g=new Set;g.add(c),e.updateQueue=g}else _.add(c);break e}else{if(!(e&1)){Ox(r,a,e),f0();break e}c=Error(Y(426))}}else if(Vt&&l.mode&1){var S=Mx(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),zx(S,o,l,r,e),Gy(Jc(c,l));break e}}r=c=Jc(c,l),En!==4&&(En=2),Vu===null?Vu=[r]:Vu.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=hk(r,c,e);Px(r,v);break e;case 1:l=c;var y=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(io===null||!io.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var T=dk(r,l,e);Px(r,T);break e}}r=r.return}while(r!==null)}Ak(n)}catch(I){e=I,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(1)}function Pk(){var t=Cp.current;return Cp.current=Ep,t===null?Ep:t}function f0(){(En===0||En===3||En===2)&&(En=4),Ln===null||!(ml&268435455)&&!(bm&268435455)||Br(Ln,Qn)}function Pp(t,e){var n=mt;mt|=2;var i=Pk();(Ln!==t||Qn!==e)&&(Qs=null,ll(t,e));do try{Z5();break}catch(s){Rk(t,s)}while(1);if(Qy(),mt=n,Cp.current=i,vn!==null)throw Error(Y(261));return Ln=null,Qn=0,En}function Z5(){for(;vn!==null;)bk(vn)}function eL(){for(;vn!==null&&!ED();)bk(vn)}function bk(t){var e=Dk(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?Ak(t):vn=e,c0.current=null}function Ak(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G5(n,e),n!==null){n.flags&=32767,vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,vn=null;return}}else if(n=H5(n,e,Li),n!==null){vn=n;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);En===0&&(En=5)}function Bo(t,e,n){var i=It,s=es.transition;try{es.transition=null,It=1,tL(t,e,n,i)}finally{es.transition=s,It=i}return null}function tL(t,e,n,i){do Oc();while(Yr!==null);if(mt&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(jD(t,r),t===Ln&&(vn=Ln=null,Qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ef||(ef=!0,Lk(up,function(){return Oc(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=es.transition,es.transition=null;var o=It;It=1;var l=mt;mt|=4,c0.current=null,Q5(t,n),Ek(n,t),w5($v),dp=!!Bv,$v=Bv=null,t.current=n,Y5(n),CD(),mt=l,It=o,es.transition=r}else t.current=n;if(ef&&(ef=!1,Yr=t,Rp=s),r=t.pendingLanes,r===0&&(io=null),PD(n.stateNode),bi(t,dn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(kp)throw kp=!1,t=c1,c1=null,t;return Rp&1&&t.tag!==0&&Oc(),r=t.pendingLanes,r&1?t===a1?Fu++:(Fu=0,a1=t):Fu=0,Ro(),null}function Oc(){if(Yr!==null){var t=uC(Rp),e=es.transition,n=It;try{if(es.transition=null,It=16>t?16:t,Yr===null)var i=!1;else{if(t=Yr,Yr=null,Rp=0,mt&6)throw Error(Y(331));var s=mt;for(mt|=4,xe=t.current;xe!==null;){var r=xe,o=r.child;if(xe.flags&16){var l=r.deletions;if(l!==null){for(var c=0;c<l.length;c++){var a=l[c];for(xe=a;xe!==null;){var h=xe;switch(h.tag){case 0:case 11:case 15:zu(8,h,r)}var f=h.child;if(f!==null)f.return=h,xe=f;else for(;xe!==null;){h=xe;var p=h.sibling,m=h.return;if(xk(h),h===a){xe=null;break}if(p!==null){p.return=m,xe=p;break}xe=m}}}var _=r.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}xe=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,xe=o;else e:for(;xe!==null;){if(r=xe,r.flags&2048)switch(r.tag){case 0:case 11:case 15:zu(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,xe=v;break e}xe=r.return}}var y=t.current;for(xe=y;xe!==null;){o=xe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,xe=w;else e:for(o=y;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pm(9,l)}}catch(I){tn(l,l.return,I)}if(l===o){xe=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,xe=T;break e}xe=l.return}}if(mt=s,Ro(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(wm,t)}catch{}i=!0}return i}finally{It=n,es.transition=e}}return!1}function Xx(t,e,n){e=Jc(n,e),e=hk(t,e,1),t=no(t,e,1),e=pi(),t!==null&&(Yh(t,1,e),bi(t,e))}function tn(t,e,n){if(t.tag===3)Xx(t,t,n);else for(;e!==null;){if(e.tag===3){Xx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(io===null||!io.has(i))){t=Jc(n,t),t=dk(e,t,1),e=no(e,t,1),t=pi(),e!==null&&(Yh(e,1,t),bi(e,t));break}}e=e.return}}function nL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=pi(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Qn&n)===n&&(En===4||En===3&&(Qn&130023424)===Qn&&500>dn()-u0?ll(t,0):a0|=n),bi(t,e)}function Nk(t,e){e===0&&(t.mode&1?(e=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):e=1);var n=pi();t=dr(t,e),t!==null&&(Yh(t,e,n),bi(t,n))}function iL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nk(t,n)}function sL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Y(314))}i!==null&&i.delete(e),Nk(t,n)}var Dk;Dk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ri.current)Ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ti=!1,W5(t,e,n);Ti=!!(t.flags&131072)}else Ti=!1,Vt&&e.flags&1048576&&OC(e,yp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Bf(t,e),t=e.pendingProps;var s=Kc(e,li.current);jc(e,n),s=i0(null,e,i,t,s,n);var r=s0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(i)?(r=!0,_p(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jy(e),s.updater=km,e.stateNode=s,s._reactInternals=e,Xv(e,i,t,n),e=e1(null,e,i,!0,r,n)):(e.tag=0,Vt&&r&&Wy(e),ui(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Bf(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=oL(i),t=cs(i,t),s){case 0:e=Zv(null,e,i,t,n);break e;case 1:e=Bx(null,e,i,t,n);break e;case 11:e=Vx(null,e,i,t,n);break e;case 14:e=Fx(null,e,i,cs(i.type,t),n);break e}throw Error(Y(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:cs(i,s),Zv(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:cs(i,s),Bx(t,e,i,s,n);case 3:e:{if(gk(e),t===null)throw Error(Y(387));i=e.pendingProps,r=e.memoizedState,s=r.element,FC(t,e),xp(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Jc(Error(Y(423)),e),e=$x(t,e,i,n,s);break e}else if(i!==s){s=Jc(Error(Y(424)),e),e=$x(t,e,i,n,s);break e}else for(ji=to(e.stateNode.containerInfo.firstChild),Oi=e,Vt=!0,hs=null,n=qC(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qc(),i===s){e=fr(t,e,n);break e}ui(t,e,i,n)}e=e.child}return e;case 5:return WC(e),t===null&&Kv(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Uv(i,s)?o=null:r!==null&&Uv(i,r)&&(e.flags|=32),mk(t,e),ui(t,e,o,n),e.child;case 6:return t===null&&Kv(e),null;case 13:return _k(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Yc(e,null,i,n):ui(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:cs(i,s),Vx(t,e,i,s,n);case 7:return ui(t,e,e.pendingProps,n),e.child;case 8:return ui(t,e,e.pendingProps.children,n),e.child;case 12:return ui(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Pt(Sp,i._currentValue),i._currentValue=o,r!==null)if(_s(r.value,o)){if(r.children===s.children&&!Ri.current){e=fr(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=or(-1,n&-n),c.tag=2;var a=r.updateQueue;if(a!==null){a=a.shared;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Qv(r.return,n,e),l.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qv(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ui(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,jc(e,n),s=ns(s),i=i(s),e.flags|=1,ui(t,e,i,n),e.child;case 14:return i=e.type,s=cs(i,e.pendingProps),s=cs(i.type,s),Fx(t,e,i,s,n);case 15:return fk(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:cs(i,s),Bf(t,e),e.tag=1,Pi(i)?(t=!0,_p(e)):t=!1,jc(e,n),$C(e,i,s),Xv(e,i,s,n),e1(null,e,i,!0,t,n);case 19:return vk(t,e,n);case 22:return pk(t,e,n)}throw Error(Y(156,e.tag))};function Lk(t,e){return oC(t,e)}function rL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(t,e,n,i){return new rL(t,e,n,i)}function p0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oL(t){if(typeof t=="function")return p0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dy)return 11;if(t===Ly)return 14}return 2}function ro(t,e){var n=t.alternate;return n===null?(n=Yi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qf(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")p0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pc:return cl(n.children,s,r,e);case Ny:o=8,s|=8;break;case wv:return t=Yi(12,n,e,s|2),t.elementType=wv,t.lanes=r,t;case xv:return t=Yi(13,n,e,s),t.elementType=xv,t.lanes=r,t;case Tv:return t=Yi(19,n,e,s),t.elementType=Tv,t.lanes=r,t;case U2:return Am(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B2:o=10;break e;case $2:o=9;break e;case Dy:o=11;break e;case Ly:o=14;break e;case zr:o=16,i=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Yi(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function cl(t,e,n,i){return t=Yi(7,t,i,e),t.lanes=n,t}function Am(t,e,n,i){return t=Yi(22,t,i,e),t.elementType=U2,t.lanes=n,t.stateNode={isHidden:!1},t}function h_(t,e,n){return t=Yi(6,t,null,e),t.lanes=n,t}function d_(t,e,n){return e=Yi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lL(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hg(0),this.expirationTimes=Hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hg(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function m0(t,e,n,i,s,r,o,l,c){return t=new lL(t,e,n,l,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Yi(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(r),t}function cL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function jk(t){if(!t)return po;t=t._reactInternals;e:{if(Ol(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Pi(n))return LC(t,n,e)}return e}function Ok(t,e,n,i,s,r,o,l,c){return t=m0(n,i,!0,t,s,r,o,l,c),t.context=jk(null),n=t.current,i=pi(),s=so(n),r=or(i,s),r.callback=e??null,no(n,r,s),t.current.lanes=s,Yh(t,s,i),bi(t,i),t}function Nm(t,e,n,i){var s=e.current,r=pi(),o=so(s);return n=jk(n),e.context===null?e.context=n:e.pendingContext=n,e=or(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=no(s,e,o),t!==null&&(ms(t,s,o,r),zf(t,s,o)),o}function bp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g0(t,e){Jx(t,e),(t=t.alternate)&&Jx(t,e)}function aL(){return null}var Mk=typeof reportError=="function"?reportError:function(t){console.error(t)};function _0(t){this._internalRoot=t}Dm.prototype.render=_0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Nm(t,e,null,null)};Dm.prototype.unmount=_0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gl(function(){Nm(null,t,null,null)}),e[hr]=null}};function Dm(t){this._internalRoot=t}Dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=fC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&mC(t)}};function v0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zx(){}function uL(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var a=bp(o);r.call(a)}}var o=Ok(e,i,t,0,null,!1,!1,"",Zx);return t._reactRootContainer=o,t[hr]=o.current,ah(t.nodeType===8?t.parentNode:t),gl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var a=bp(c);l.call(a)}}var c=m0(t,0,!1,null,null,!1,!1,"",Zx);return t._reactRootContainer=c,t[hr]=c.current,ah(t.nodeType===8?t.parentNode:t),gl(function(){Nm(e,c,n,i)}),c}function jm(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var c=bp(o);l.call(c)}}Nm(e,o,t,s)}else o=uL(n,e,t,s,i);return bp(o)}hC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Iu(e.pendingLanes);n!==0&&(My(e,n|1),bi(e,dn()),!(mt&6)&&(Zc=dn()+500,Ro()))}break;case 13:gl(function(){var i=dr(t,1);if(i!==null){var s=pi();ms(i,t,1,s)}}),g0(t,1)}};zy=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=pi();ms(e,t,134217728,n)}g0(t,134217728)}};dC=function(t){if(t.tag===13){var e=so(t),n=dr(t,e);if(n!==null){var i=pi();ms(n,t,e,i)}g0(t,e)}};fC=function(){return It};pC=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};Dv=function(t,e,n){switch(e){case"input":if(Cv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Em(i);if(!s)throw Error(Y(90));W2(i),Cv(i,s)}}}break;case"textarea":G2(t,n);break;case"select":e=n.value,e!=null&&Ac(t,!!n.multiple,e,!1)}};eC=h0;tC=gl;var hL={usingClientEntryPoint:!1,Events:[Jh,vc,Em,J2,Z2,h0]},Xa={findFiberByHostInstance:Yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dL={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sC(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{wm=tf.inject(dL),Os=tf}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hL;Bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(e))throw Error(Y(200));return cL(t,e,null,n)};Bi.createRoot=function(t,e){if(!v0(t))throw Error(Y(299));var n=!1,i="",s=Mk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=m0(t,1,!1,null,null,n,!1,i,s),t[hr]=e.current,ah(t.nodeType===8?t.parentNode:t),new _0(e)};Bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=sC(e),t=t===null?null:t.stateNode,t};Bi.flushSync=function(t){return gl(t)};Bi.hydrate=function(t,e,n){if(!Lm(e))throw Error(Y(200));return jm(null,t,e,!0,n)};Bi.hydrateRoot=function(t,e,n){if(!v0(t))throw Error(Y(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Mk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ok(e,null,t,1,n??null,s,!1,r,o),t[hr]=e.current,ah(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dm(e)};Bi.render=function(t,e,n){if(!Lm(e))throw Error(Y(200));return jm(null,t,e,!1,n)};Bi.unmountComponentAtNode=function(t){if(!Lm(t))throw Error(Y(40));return t._reactRootContainer?(gl(function(){jm(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};Bi.unstable_batchedUpdates=h0;Bi.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Lm(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return jm(t,e,n,!1,i)};Bi.version="18.2.0-next-9e3b772b8-20220608";function zk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zk)}catch(t){console.error(t)}}zk(),O2.exports=Bi;var y0=O2.exports;const fL=Kh(y0),pL=I2({__proto__:null,default:fL},[y0]);var eT=y0;yv.createRoot=eT.createRoot,yv.hydrateRoot=eT.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nn(){return nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nn.apply(this,arguments)}var un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(un||(un={}));const tT="popstate";function mL(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:o,hash:l}=i.location;return vh("",{pathname:r,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:_l(s)}return _L(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ea(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gL(){return Math.random().toString(36).substr(2,8)}function nT(t,e){return{usr:t.state,key:t.key,idx:e}}function vh(t,e,n,i){return n===void 0&&(n=null),nn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xr(e):e,{state:n,key:e&&e.key||i||gL()})}function _l(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function xr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function _L(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=un.Pop,c=null,a=h();a==null&&(a=0,o.replaceState(nn({},o.state,{idx:a}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=un.Pop;let S=h(),v=S==null?null:S-a;a=S,c&&c({action:l,location:g.location,delta:v})}function p(S,v){l=un.Push;let y=vh(g.location,S,v);n&&n(y,S),a=h()+1;let w=nT(y,a),T=g.createHref(y);try{o.pushState(w,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}r&&c&&c({action:l,location:g.location,delta:1})}function m(S,v){l=un.Replace;let y=vh(g.location,S,v);n&&n(y,S),a=h();let w=nT(y,a),T=g.createHref(y);o.replaceState(w,"",T),r&&c&&c({action:l,location:g.location,delta:0})}function _(S){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:_l(S);return y=y.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return t(s,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tT,f),c=S,()=>{s.removeEventListener(tT,f),c=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let v=_(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(S){return o.go(S)}};return g}var en;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(en||(en={}));const vL=new Set(["lazy","caseSensitive","path","id","index","children"]);function yL(t){return t.index===!0}function d1(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((s,r)=>{let o=[...n,r],l=typeof s.id=="string"?s.id:o.join("-");if(tt(s.index!==!0||!s.children,"Cannot specify children on an index route"),tt(!i[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),yL(s)){let c=nn({},s,e(s),{id:l});return i[l]=c,c}else{let c=nn({},s,e(s),{id:l,children:void 0});return i[l]=c,s.children&&(c.children=d1(s.children,e,o,i)),c}})}function Ec(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?xr(e):e,s=ka(i.pathname||"/",n);if(s==null)return null;let r=Vk(t);wL(r);let o=null;for(let l=0;o==null&&l<r.length;++l){let c=DL(s);o=bL(r[l],c)}return o}function SL(t,e){let{route:n,pathname:i,params:s}=t;return{id:n.id,pathname:i,params:s,data:e[n.id],handle:n.handle}}function Vk(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let a=lr([i,c.relativePath]),h=n.concat(c);r.children&&r.children.length>0&&(tt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),Vk(r.children,e,h,a)),!(r.path==null&&!r.index)&&e.push({path:a,score:RL(a,r.index),routesMeta:h})};return t.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,o);else for(let c of Fk(r.path))s(r,o,c)}),e}function Fk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Fk(i.join("/")),l=[];return l.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function wL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const xL=/^:[\w-]+$/,TL=3,IL=2,EL=1,CL=10,kL=-2,iT=t=>t==="*";function RL(t,e){let n=t.split("/"),i=n.length;return n.some(iT)&&(i+=kL),e&&(i+=IL),n.filter(s=>!iT(s)).reduce((s,r)=>s+(xL.test(r)?TL:r===""?EL:CL),i)}function PL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function bL(t,e){let{routesMeta:n}=t,i={},s="/",r=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,a=s==="/"?e:e.slice(s.length)||"/",h=AL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},a);if(!h)return null;Object.assign(i,h.params);let f=l.route;r.push({params:i,pathname:lr([s,h.pathname]),pathnameBase:OL(lr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=lr([s,h.pathnameBase]))}return r}function AL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=NL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((a,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let g=l[f]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const _=l[f];return m&&!_?a[p]=void 0:a[p]=(_||"").replace(/%2F/g,"/"),a},{}),pathname:r,pathnameBase:o,pattern:t}}function NL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function DL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ka(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function LL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?xr(t):t;return{pathname:n?n.startsWith("/")?n:jL(n,e):e,search:ML(i),hash:zL(s)}}function jL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function f_(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S0(t,e){let n=Bk(t);return e?n.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function w0(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=xr(t):(s=nn({},t),tt(!s.pathname||!s.pathname.includes("?"),f_("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),f_("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),f_("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=LL(s,l),a=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(a||h)&&(c.pathname+="/"),c}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),OL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ML=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class x0{constructor(e,n,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function $k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uk=["post","put","patch","delete"],VL=new Set(Uk),FL=["get",...Uk],BL=new Set(FL),$L=new Set([301,302,303,307,308]),UL=new Set([307,308]),p_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Wk="remix-router-transitions";function HL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;s=R=>({hasErrorBoundary:C(R)})}else s=WL;let r={},o=d1(t.routes,s,void 0,r),l,c=t.basename||"/",a=nn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),h=null,f=new Set,p=null,m=null,_=null,g=t.hydrationData!=null,S=Ec(o,t.history.location,c),v=null;if(S==null){let C=Hi(404,{pathname:t.history.location.pathname}),{matches:R,route:L}=hT(o);S=R,v={[L.id]:C}}let y,w=S.some(C=>C.route.lazy),T=S.some(C=>C.route.loader);if(w)y=!1;else if(!T)y=!0;else if(a.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,R=t.hydrationData?t.hydrationData.errors:null;y=S.every(L=>L.route.loader&&L.route.loader.hydrate!==!0&&(C&&C[L.route.id]!==void 0||R&&R[L.route.id]!==void 0))}else y=t.hydrationData!=null;let I,x={historyAction:t.history.action,location:t.history.location,matches:S,initialized:y,navigation:p_,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},E=un.Pop,k=!1,P,j=!1,H=new Map,X=null,K=!1,ne=!1,te=[],me=[],J=new Map,O=0,F=-1,B=new Map,G=new Set,Q=new Map,ge=new Map,z=new Set,ue=new Map,re=new Map,M=!1;function V(){if(h=t.history.listen(C=>{let{action:R,location:L,delta:D}=C;if(M){M=!1;return}ea(re.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=ut({currentLocation:x.location,nextLocation:L,historyAction:R});if(se&&D!=null){M=!0,t.history.go(D*-1),yt(se,{state:"blocked",location:L,proceed(){yt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),t.history.go(D)},reset(){let Ce=new Map(x.blockers);Ce.set(se,Ja),ce({blockers:Ce})}});return}return we(R,L)}),n){i6(e,H);let C=()=>s6(e,H);e.addEventListener("pagehide",C),X=()=>e.removeEventListener("pagehide",C)}return x.initialized||we(un.Pop,x.location,{initialHydration:!0}),I}function le(){h&&h(),X&&X(),f.clear(),P&&P.abort(),x.fetchers.forEach((C,R)=>De(R)),x.blockers.forEach((C,R)=>vt(R))}function fe(C){return f.add(C),()=>f.delete(C)}function ce(C,R){R===void 0&&(R={}),x=nn({},x,C);let L=[],D=[];a.v7_fetcherPersist&&x.fetchers.forEach((se,Ce)=>{se.state==="idle"&&(z.has(Ce)?D.push(Ce):L.push(Ce))}),[...f].forEach(se=>se(x,{deletedFetchers:D,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),a.v7_fetcherPersist&&(L.forEach(se=>x.fetchers.delete(se)),D.forEach(se=>De(se)))}function Te(C,R,L){var D,se;let{flushSync:Ce}=L===void 0?{}:L,Se=x.actionData!=null&&x.navigation.formMethod!=null&&us(x.navigation.formMethod)&&x.navigation.state==="loading"&&((D=C.state)==null?void 0:D._isRedirect)!==!0,_e;R.actionData?Object.keys(R.actionData).length>0?_e=R.actionData:_e=null:Se?_e=x.actionData:_e=null;let pe=R.loaderData?uT(x.loaderData,R.loaderData,R.matches||[],R.errors):x.loaderData,be=x.blockers;be.size>0&&(be=new Map(be),be.forEach((Fe,Je)=>be.set(Je,Ja)));let Xe=k===!0||x.navigation.formMethod!=null&&us(x.navigation.formMethod)&&((se=C.state)==null?void 0:se._isRedirect)!==!0;l&&(o=l,l=void 0),K||E===un.Pop||(E===un.Push?t.history.push(C,C.state):E===un.Replace&&t.history.replace(C,C.state));let Ie;if(E===un.Pop){let Fe=H.get(x.location.pathname);Fe&&Fe.has(C.pathname)?Ie={currentLocation:x.location,nextLocation:C}:H.has(C.pathname)&&(Ie={currentLocation:C,nextLocation:x.location})}else if(j){let Fe=H.get(x.location.pathname);Fe?Fe.add(C.pathname):(Fe=new Set([C.pathname]),H.set(x.location.pathname,Fe)),Ie={currentLocation:x.location,nextLocation:C}}ce(nn({},R,{actionData:_e,loaderData:pe,historyAction:E,location:C,initialized:!0,navigation:p_,revalidation:"idle",restoreScrollPosition:Jt(C,R.matches||x.matches),preventScrollReset:Xe,blockers:be}),{viewTransitionOpts:Ie,flushSync:Ce===!0}),E=un.Pop,k=!1,j=!1,K=!1,ne=!1,te=[],me=[]}async function ye(C,R){if(typeof C=="number"){t.history.go(C);return}let L=f1(x.location,x.matches,c,a.v7_prependBasename,C,a.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:D,submission:se,error:Ce}=sT(a.v7_normalizeFormMethod,!1,L,R),Se=x.location,_e=vh(x.location,D,R&&R.state);_e=nn({},_e,t.history.encodeLocation(_e));let pe=R&&R.replace!=null?R.replace:void 0,be=un.Push;pe===!0?be=un.Replace:pe===!1||se!=null&&us(se.formMethod)&&se.formAction===x.location.pathname+x.location.search&&(be=un.Replace);let Xe=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,Ie=(R&&R.unstable_flushSync)===!0,Fe=ut({currentLocation:Se,nextLocation:_e,historyAction:be});if(Fe){yt(Fe,{state:"blocked",location:_e,proceed(){yt(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),ye(C,R)},reset(){let Je=new Map(x.blockers);Je.set(Fe,Ja),ce({blockers:Je})}});return}return await we(be,_e,{submission:se,pendingError:Ce,preventScrollReset:Xe,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:Ie})}function Re(){if(We(),ce({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){we(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}we(E||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function we(C,R,L){P&&P.abort(),P=null,E=C,K=(L&&L.startUninterruptedRevalidation)===!0,an(x.location,x.matches),k=(L&&L.preventScrollReset)===!0,j=(L&&L.enableViewTransition)===!0;let D=l||o,se=L&&L.overrideNavigation,Ce=Ec(D,R,c),Se=(L&&L.flushSync)===!0;if(!Ce){let Je=Hi(404,{pathname:R.pathname}),{matches:St,route:et}=hT(D);qt(),Te(R,{matches:St,loaderData:{},errors:{[et.id]:Je}},{flushSync:Se});return}if(x.initialized&&!ne&&XL(x.location,R)&&!(L&&L.submission&&us(L.submission.formMethod))){Te(R,{matches:Ce},{flushSync:Se});return}P=new AbortController;let _e=eu(t.history,R,P.signal,L&&L.submission),pe,be;if(L&&L.pendingError)be={[Bu(Ce).route.id]:L.pendingError};else if(L&&L.submission&&us(L.submission.formMethod)){let Je=await Le(_e,R,L.submission,Ce,{replace:L.replace,flushSync:Se});if(Je.shortCircuited)return;pe=Je.pendingActionData,be=Je.pendingActionError,se=m_(R,L.submission),Se=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:Xe,loaderData:Ie,errors:Fe}=await je(_e,R,Ce,se,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,Se,pe,be);Xe||(P=null,Te(R,nn({matches:Ce},pe?{actionData:pe}:{},{loaderData:Ie,errors:Fe})))}async function Le(C,R,L,D,se){se===void 0&&(se={}),We();let Ce=t6(R,L);ce({navigation:Ce},{flushSync:se.flushSync===!0});let Se,_e=m1(D,R);if(!_e.route.action&&!_e.route.lazy)Se={type:en.error,error:Hi(405,{method:C.method,pathname:R.pathname,routeId:_e.route.id})};else if(Se=await Za("action",C,_e,D,r,s,c,a.v7_relativeSplatPath),C.signal.aborted)return{shortCircuited:!0};if(el(Se)){let pe;return se&&se.replace!=null?pe=se.replace:pe=Se.location===x.location.pathname+x.location.search,await ze(x,Se,{submission:L,replace:pe}),{shortCircuited:!0}}if(Cc(Se)){let pe=Bu(D,_e.route.id);return(se&&se.replace)!==!0&&(E=un.Push),{pendingActionData:{},pendingActionError:{[pe.route.id]:Se.error}}}if(Zo(Se))throw Hi(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Se.data}}}async function je(C,R,L,D,se,Ce,Se,_e,pe,be,Xe){let Ie=D||m_(R,se),Fe=se||Ce||pT(Ie),Je=l||o,[St,et]=rT(t.history,x,L,Fe,R,a.v7_partialHydration&&_e===!0,ne,te,me,z,Q,G,Je,c,be,Xe);if(qt(_t=>!(L&&L.some(xt=>xt.route.id===_t))||St&&St.some(xt=>xt.route.id===_t)),F=++O,St.length===0&&et.length===0){let _t=st();return Te(R,nn({matches:L,loaderData:{},errors:Xe||null},be?{actionData:be}:{},_t?{fetchers:new Map(x.fetchers)}:{}),{flushSync:pe}),{shortCircuited:!0}}if(!K&&(!a.v7_partialHydration||!_e)){et.forEach(xt=>{let ci=x.fetchers.get(xt.key),Hs=tu(void 0,ci?ci.data:void 0);x.fetchers.set(xt.key,Hs)});let _t=be||x.actionData;ce(nn({navigation:Ie},_t?Object.keys(_t).length===0?{actionData:null}:{actionData:_t}:{},et.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:pe})}et.forEach(_t=>{J.has(_t.key)&&Oe(_t.key),_t.controller&&J.set(_t.key,_t.controller)});let zt=()=>et.forEach(_t=>Oe(_t.key));P&&P.signal.addEventListener("abort",zt);let{results:ee,loaderResults:Zt,fetcherResults:wn}=await Ve(x.matches,L,St,et,C);if(C.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",zt),et.forEach(_t=>J.delete(_t.key));let Bn=dT(ee);if(Bn){if(Bn.idx>=St.length){let _t=et[Bn.idx-St.length].key;G.add(_t)}return await ze(x,Bn.result,{replace:Se}),{shortCircuited:!0}}let{loaderData:$n,errors:kr}=aT(x,L,St,Zt,Xe,et,wn,ue);ue.forEach((_t,xt)=>{_t.subscribe(ci=>{(ci||_t.done)&&ue.delete(xt)})});let Rr=st(),rs=$(F),Ws=Rr||rs||et.length>0;return nn({loaderData:$n,errors:kr},Ws?{fetchers:new Map(x.fetchers)}:{})}function Ne(C,R,L,D){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(C)&&Oe(C);let se=(D&&D.unstable_flushSync)===!0,Ce=l||o,Se=f1(x.location,x.matches,c,a.v7_prependBasename,L,a.v7_relativeSplatPath,R,D==null?void 0:D.relative),_e=Ec(Ce,Se,c);if(!_e){Be(C,R,Hi(404,{pathname:Se}),{flushSync:se});return}let{path:pe,submission:be,error:Xe}=sT(a.v7_normalizeFormMethod,!0,Se,D);if(Xe){Be(C,R,Xe,{flushSync:se});return}let Ie=m1(_e,pe);if(k=(D&&D.preventScrollReset)===!0,be&&us(be.formMethod)){Z(C,R,pe,Ie,_e,se,be);return}Q.set(C,{routeId:R,path:pe}),qe(C,R,pe,Ie,_e,se,be)}async function Z(C,R,L,D,se,Ce,Se){if(We(),Q.delete(C),!D.route.action&&!D.route.lazy){let xt=Hi(405,{method:Se.formMethod,pathname:L,routeId:R});Be(C,R,xt,{flushSync:Ce});return}let _e=x.fetchers.get(C);Me(C,n6(Se,_e),{flushSync:Ce});let pe=new AbortController,be=eu(t.history,L,pe.signal,Se);J.set(C,pe);let Xe=O,Ie=await Za("action",be,D,se,r,s,c,a.v7_relativeSplatPath);if(be.signal.aborted){J.get(C)===pe&&J.delete(C);return}if(a.v7_fetcherPersist&&z.has(C)){if(el(Ie)||Cc(Ie)){Me(C,Mr(void 0));return}}else{if(el(Ie))if(J.delete(C),F>Xe){Me(C,Mr(void 0));return}else return G.add(C),Me(C,tu(Se)),ze(x,Ie,{fetcherSubmission:Se});if(Cc(Ie)){Be(C,R,Ie.error);return}}if(Zo(Ie))throw Hi(400,{type:"defer-action"});let Fe=x.navigation.location||x.location,Je=eu(t.history,Fe,pe.signal),St=l||o,et=x.navigation.state!=="idle"?Ec(St,x.navigation.location,c):x.matches;tt(et,"Didn't find any matches after fetcher action");let zt=++O;B.set(C,zt);let ee=tu(Se,Ie.data);x.fetchers.set(C,ee);let[Zt,wn]=rT(t.history,x,et,Se,Fe,!1,ne,te,me,z,Q,G,St,c,{[D.route.id]:Ie.data},void 0);wn.filter(xt=>xt.key!==C).forEach(xt=>{let ci=xt.key,Hs=x.fetchers.get(ci),Ql=tu(void 0,Hs?Hs.data:void 0);x.fetchers.set(ci,Ql),J.has(ci)&&Oe(ci),xt.controller&&J.set(ci,xt.controller)}),ce({fetchers:new Map(x.fetchers)});let Bn=()=>wn.forEach(xt=>Oe(xt.key));pe.signal.addEventListener("abort",Bn);let{results:$n,loaderResults:kr,fetcherResults:Rr}=await Ve(x.matches,et,Zt,wn,Je);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",Bn),B.delete(C),J.delete(C),wn.forEach(xt=>J.delete(xt.key));let rs=dT($n);if(rs){if(rs.idx>=Zt.length){let xt=wn[rs.idx-Zt.length].key;G.add(xt)}return ze(x,rs.result)}let{loaderData:Ws,errors:_t}=aT(x,x.matches,Zt,kr,void 0,wn,Rr,ue);if(x.fetchers.has(C)){let xt=Mr(Ie.data);x.fetchers.set(C,xt)}$(zt),x.navigation.state==="loading"&&zt>F?(tt(E,"Expected pending action"),P&&P.abort(),Te(x.navigation.location,{matches:et,loaderData:Ws,errors:_t,fetchers:new Map(x.fetchers)})):(ce({errors:_t,loaderData:uT(x.loaderData,Ws,et,_t),fetchers:new Map(x.fetchers)}),ne=!1)}async function qe(C,R,L,D,se,Ce,Se){let _e=x.fetchers.get(C);Me(C,tu(Se,_e?_e.data:void 0),{flushSync:Ce});let pe=new AbortController,be=eu(t.history,L,pe.signal);J.set(C,pe);let Xe=O,Ie=await Za("loader",be,D,se,r,s,c,a.v7_relativeSplatPath);if(Zo(Ie)&&(Ie=await Kk(Ie,be.signal,!0)||Ie),J.get(C)===pe&&J.delete(C),!be.signal.aborted){if(z.has(C)){Me(C,Mr(void 0));return}if(el(Ie))if(F>Xe){Me(C,Mr(void 0));return}else{G.add(C),await ze(x,Ie);return}if(Cc(Ie)){Be(C,R,Ie.error);return}tt(!Zo(Ie),"Unhandled fetcher deferred data"),Me(C,Mr(Ie.data))}}async function ze(C,R,L){let{submission:D,fetcherSubmission:se,replace:Ce}=L===void 0?{}:L;R.revalidate&&(ne=!0);let Se=vh(C.location,R.location,{_isRedirect:!0});if(tt(Se,"Expected a location on the redirect navigation"),n){let Fe=!1;if(R.reloadDocument)Fe=!0;else if(qk.test(R.location)){const Je=t.history.createURL(R.location);Fe=Je.origin!==e.location.origin||ka(Je.pathname,c)==null}if(Fe){Ce?e.location.replace(R.location):e.location.assign(R.location);return}}P=null;let _e=Ce===!0?un.Replace:un.Push,{formMethod:pe,formAction:be,formEncType:Xe}=C.navigation;!D&&!se&&pe&&be&&Xe&&(D=pT(C.navigation));let Ie=D||se;if(UL.has(R.status)&&Ie&&us(Ie.formMethod))await we(_e,Se,{submission:nn({},Ie,{formAction:R.location}),preventScrollReset:k});else{let Fe=m_(Se,D);await we(_e,Se,{overrideNavigation:Fe,fetcherSubmission:se,preventScrollReset:k})}}async function Ve(C,R,L,D,se){let Ce=await Promise.all([...L.map(pe=>Za("loader",se,pe,R,r,s,c,a.v7_relativeSplatPath)),...D.map(pe=>pe.matches&&pe.match&&pe.controller?Za("loader",eu(t.history,pe.path,pe.controller.signal),pe.match,pe.matches,r,s,c,a.v7_relativeSplatPath):{type:en.error,error:Hi(404,{pathname:pe.path})})]),Se=Ce.slice(0,L.length),_e=Ce.slice(L.length);return await Promise.all([fT(C,L,Se,Se.map(()=>se.signal),!1,x.loaderData),fT(C,D.map(pe=>pe.match),_e,D.map(pe=>pe.controller?pe.controller.signal:null),!0)]),{results:Ce,loaderResults:Se,fetcherResults:_e}}function We(){ne=!0,te.push(...qt()),Q.forEach((C,R)=>{J.has(R)&&(me.push(R),Oe(R))})}function Me(C,R,L){L===void 0&&(L={}),x.fetchers.set(C,R),ce({fetchers:new Map(x.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Be(C,R,L,D){D===void 0&&(D={});let se=Bu(x.matches,R);De(C),ce({errors:{[se.route.id]:L},fetchers:new Map(x.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function He(C){return a.v7_fetcherPersist&&(ge.set(C,(ge.get(C)||0)+1),z.has(C)&&z.delete(C)),x.fetchers.get(C)||qL}function De(C){let R=x.fetchers.get(C);J.has(C)&&!(R&&R.state==="loading"&&B.has(C))&&Oe(C),Q.delete(C),B.delete(C),G.delete(C),z.delete(C),x.fetchers.delete(C)}function Ye(C){if(a.v7_fetcherPersist){let R=(ge.get(C)||0)-1;R<=0?(ge.delete(C),z.add(C)):ge.set(C,R)}else De(C);ce({fetchers:new Map(x.fetchers)})}function Oe(C){let R=J.get(C);tt(R,"Expected fetch controller: "+C),R.abort(),J.delete(C)}function it(C){for(let R of C){let L=He(R),D=Mr(L.data);x.fetchers.set(R,D)}}function st(){let C=[],R=!1;for(let L of G){let D=x.fetchers.get(L);tt(D,"Expected fetcher: "+L),D.state==="loading"&&(G.delete(L),C.push(L),R=!0)}return it(C),R}function $(C){let R=[];for(let[L,D]of B)if(D<C){let se=x.fetchers.get(L);tt(se,"Expected fetcher: "+L),se.state==="loading"&&(Oe(L),B.delete(L),R.push(L))}return it(R),R.length>0}function Qe(C,R){let L=x.blockers.get(C)||Ja;return re.get(C)!==R&&re.set(C,R),L}function vt(C){x.blockers.delete(C),re.delete(C)}function yt(C,R){let L=x.blockers.get(C)||Ja;tt(L.state==="unblocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="proceeding"||L.state==="blocked"&&R.state==="unblocked"||L.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+R.state);let D=new Map(x.blockers);D.set(C,R),ce({blockers:D})}function ut(C){let{currentLocation:R,nextLocation:L,historyAction:D}=C;if(re.size===0)return;re.size>1&&ea(!1,"A router only supports one blocker at a time");let se=Array.from(re.entries()),[Ce,Se]=se[se.length-1],_e=x.blockers.get(Ce);if(!(_e&&_e.state==="proceeding")&&Se({currentLocation:R,nextLocation:L,historyAction:D}))return Ce}function qt(C){let R=[];return ue.forEach((L,D)=>{(!C||C(D))&&(L.cancel(),R.push(D),ue.delete(D))}),R}function mn(C,R,L){if(p=C,_=R,m=L||null,!g&&x.navigation===p_){g=!0;let D=Jt(x.location,x.matches);D!=null&&ce({restoreScrollPosition:D})}return()=>{p=null,_=null,m=null}}function Xt(C,R){return m&&m(C,R.map(D=>SL(D,x.loaderData)))||C.key}function an(C,R){if(p&&_){let L=Xt(C,R);p[L]=_()}}function Jt(C,R){if(p){let L=Xt(C,R),D=p[L];if(typeof D=="number")return D}return null}function Mt(C){r={},l=d1(C,s,void 0,r)}return I={get basename(){return c},get future(){return a},get state(){return x},get routes(){return o},get window(){return e},initialize:V,subscribe:fe,enableScrollRestoration:mn,navigate:ye,fetch:Ne,revalidate:Re,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:He,deleteFetcher:Ye,dispose:le,getBlocker:Qe,deleteBlocker:vt,_internalFetchControllers:J,_internalActiveDeferreds:ue,_internalSetRoutes:Mt},I}function GL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function f1(t,e,n,i,s,r,o,l){let c,a;if(o){c=[];for(let f of e)if(c.push(f),f.route.id===o){a=f;break}}else c=e,a=e[e.length-1];let h=w0(s||".",S0(c,r),ka(t.pathname,n)||t.pathname,l==="path");return s==null&&(h.search=t.search,h.hash=t.hash),(s==null||s===""||s===".")&&a&&a.route.index&&!T0(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(h.pathname=h.pathname==="/"?n:lr([n,h.pathname])),_l(h)}function sT(t,e,n,i){if(!i||!GL(i))return{path:n};if(i.formMethod&&!e6(i.formMethod))return{path:n,error:Hi(405,{method:i.formMethod})};let s=()=>({path:n,error:Hi(400,{type:"invalid-body"})}),r=i.formMethod||"get",o=t?r.toUpperCase():r.toLowerCase(),l=Gk(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!us(o))return s();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((m,_)=>{let[g,S]=_;return""+m+g+"="+S+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!us(o))return s();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}tt(typeof FormData=="function","FormData is not available in this environment");let c,a;if(i.formData)c=p1(i.formData),a=i.formData;else if(i.body instanceof FormData)c=p1(i.body),a=i.body;else if(i.body instanceof URLSearchParams)c=i.body,a=cT(c);else if(i.body==null)c=new URLSearchParams,a=new FormData;else try{c=new URLSearchParams(i.body),a=cT(c)}catch{return s()}let h={formMethod:o,formAction:l,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(us(h.formMethod))return{path:n,submission:h};let f=xr(n);return e&&f.search&&T0(f.search)&&c.append("index",""),f.search="?"+c,{path:_l(f),submission:h}}function KL(t,e){let n=t;if(e){let i=t.findIndex(s=>s.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function rT(t,e,n,i,s,r,o,l,c,a,h,f,p,m,_,g){let S=g?Object.values(g)[0]:_?Object.values(_)[0]:void 0,v=t.createURL(e.location),y=t.createURL(s),w=g?Object.keys(g)[0]:void 0,I=KL(n,w).filter((E,k)=>{let{route:P}=E;if(P.lazy)return!0;if(P.loader==null)return!1;if(r)return P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(QL(e.loaderData,e.matches[k],E)||l.some(X=>X===E.route.id))return!0;let j=e.matches[k],H=E;return oT(E,nn({currentUrl:v,currentParams:j.params,nextUrl:y,nextParams:H.params},i,{actionResult:S,defaultShouldRevalidate:o||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||Hk(j,H)}))}),x=[];return h.forEach((E,k)=>{if(r||!n.some(K=>K.route.id===E.routeId)||a.has(k))return;let P=Ec(p,E.path,m);if(!P){x.push({key:k,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(k),H=m1(P,E.path),X=!1;f.has(k)?X=!1:c.includes(k)?X=!0:j&&j.state!=="idle"&&j.data===void 0?X=o:X=oT(H,nn({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},i,{actionResult:S,defaultShouldRevalidate:o})),X&&x.push({key:k,routeId:E.routeId,path:E.path,matches:P,match:H,controller:new AbortController})}),[I,x]}function QL(t,e,n){let i=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return i||s}function Hk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function oT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function lT(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let s=n[t.id];tt(s,"No route found in manifest");let r={};for(let o in i){let c=s[o]!==void 0&&o!=="hasErrorBoundary";ea(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!vL.has(o)&&(r[o]=i[o])}Object.assign(s,r),Object.assign(s,nn({},e(s),{lazy:void 0}))}async function Za(t,e,n,i,s,r,o,l,c){c===void 0&&(c={});let a,h,f,p=g=>{let S,v=new Promise((y,w)=>S=w);return f=()=>S(),e.signal.addEventListener("abort",f),Promise.race([g({request:e,params:n.params,context:c.requestContext}),v])};try{let g=n.route[t];if(n.route.lazy)if(g){let S,v=await Promise.all([p(g).catch(y=>{S=y}),lT(n.route,r,s)]);if(S)throw S;h=v[0]}else if(await lT(n.route,r,s),g=n.route[t],g)h=await p(g);else if(t==="action"){let S=new URL(e.url),v=S.pathname+S.search;throw Hi(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:en.data,data:void 0};else if(g)h=await p(g);else{let S=new URL(e.url),v=S.pathname+S.search;throw Hi(404,{pathname:v})}tt(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){a=en.error,h=g}finally{f&&e.signal.removeEventListener("abort",f)}if(ZL(h)){let g=h.status;if($L.has(g)){let v=h.headers.get("Location");if(tt(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!qk.test(v))v=f1(new URL(e.url),i.slice(0,i.indexOf(n)+1),o,!0,v,l);else if(!c.isStaticRequest){let y=new URL(e.url),w=v.startsWith("//")?new URL(y.protocol+v):new URL(v),T=ka(w.pathname,o)!=null;w.origin===y.origin&&T&&(v=w.pathname+w.search+w.hash)}if(c.isStaticRequest)throw h.headers.set("Location",v),h;return{type:en.redirect,status:g,location:v,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(c.isRouteRequest)throw{type:a===en.error?en.error:en.data,response:h};let S;try{let v=h.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?h.body==null?S=null:S=await h.json():S=await h.text()}catch(v){return{type:en.error,error:v}}return a===en.error?{type:a,error:new x0(g,h.statusText,S),headers:h.headers}:{type:en.data,data:S,statusCode:h.status,headers:h.headers}}if(a===en.error)return{type:a,error:h};if(JL(h)){var m,_;return{type:en.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((_=h.init)==null?void 0:_.headers)&&new Headers(h.init.headers)}}return{type:en.data,data:h}}function eu(t,e,n,i){let s=t.createURL(Gk(e)).toString(),r={signal:n};if(i&&us(i.formMethod)){let{formMethod:o,formEncType:l}=i;r.method=o.toUpperCase(),l==="application/json"?(r.headers=new Headers({"Content-Type":l}),r.body=JSON.stringify(i.json)):l==="text/plain"?r.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?r.body=p1(i.formData):r.body=i.formData}return new Request(s,r)}function p1(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function cT(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function YL(t,e,n,i,s){let r={},o=null,l,c=!1,a={};return n.forEach((h,f)=>{let p=e[f].route.id;if(tt(!el(h),"Cannot handle redirect results in processLoaderData"),Cc(h)){let m=Bu(t,p),_=h.error;i&&(_=Object.values(i)[0],i=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=_),r[p]=void 0,c||(c=!0,l=$k(h.error)?h.error.status:500),h.headers&&(a[p]=h.headers)}else Zo(h)?(s.set(p,h.deferredData),r[p]=h.deferredData.data):r[p]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(l=h.statusCode),h.headers&&(a[p]=h.headers)}),i&&(o=i,r[Object.keys(i)[0]]=void 0),{loaderData:r,errors:o,statusCode:l||200,loaderHeaders:a}}function aT(t,e,n,i,s,r,o,l){let{loaderData:c,errors:a}=YL(e,n,i,s,l);for(let h=0;h<r.length;h++){let{key:f,match:p,controller:m}=r[h];tt(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let _=o[h];if(!(m&&m.signal.aborted))if(Cc(_)){let g=Bu(t.matches,p==null?void 0:p.route.id);a&&a[g.route.id]||(a=nn({},a,{[g.route.id]:_.error})),t.fetchers.delete(f)}else if(el(_))tt(!1,"Unhandled fetcher revalidation redirect");else if(Zo(_))tt(!1,"Unhandled fetcher deferred data");else{let g=Mr(_.data);t.fetchers.set(f,g)}}return{loaderData:c,errors:a}}function uT(t,e,n,i){let s=nn({},e);for(let r of n){let o=r.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&r.route.loader&&(s[o]=t[o]),i&&i.hasOwnProperty(o))break}return s}function Bu(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function hT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hi(t,e){let{pathname:n,routeId:i,method:s,type:r}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",s&&n&&i?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":r==="defer-action"?l="defer() is not supported in actions":r==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",s&&n&&i?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new x0(t||500,o,new Error(l),!0)}function dT(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(el(n))return{result:n,idx:e}}}function Gk(t){let e=typeof t=="string"?xr(t):t;return _l(nn({},e,{hash:""}))}function XL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Zo(t){return t.type===en.deferred}function Cc(t){return t.type===en.error}function el(t){return(t&&t.type)===en.redirect}function JL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ZL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function e6(t){return BL.has(t.toLowerCase())}function us(t){return VL.has(t.toLowerCase())}async function fT(t,e,n,i,s,r){for(let o=0;o<n.length;o++){let l=n[o],c=e[o];if(!c)continue;let a=t.find(f=>f.route.id===c.route.id),h=a!=null&&!Hk(a,c)&&(r&&r[c.route.id])!==void 0;if(Zo(l)&&(s||h)){let f=i[o];tt(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Kk(l,f,s).then(p=>{p&&(n[o]=p||n[o])})}}}async function Kk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:en.data,data:t.deferredData.unwrappedData}}catch(s){return{type:en.error,error:s}}return{type:en.data,data:t.deferredData.data}}}function T0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function m1(t,e){let n=typeof e=="string"?xr(e).search:e.search;if(t[t.length-1].route.index&&T0(n||""))return t[t.length-1];let i=Bk(t);return i[i.length-1]}function pT(t){let{formMethod:e,formAction:n,formEncType:i,text:s,formData:r,json:o}=t;if(!(!e||!n||!i)){if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:s};if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function m_(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function t6(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function n6(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Mr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function i6(t,e){try{let n=t.sessionStorage.getItem(Wk);if(n){let i=JSON.parse(n);for(let[s,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(s,new Set(r||[]))}}catch{}}function s6(t,e){if(e.size>0){let n={};for(let[i,s]of e)n[i]=[...s];try{t.sessionStorage.setItem(Wk,JSON.stringify(n))}catch(i){ea(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yh.apply(this,arguments)}const Om=d.createContext(null),Qk=d.createContext(null),Ml=d.createContext(null),Mm=d.createContext(null),Po=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Yk=d.createContext(null);function r6(t,e){let{relative:n}=e===void 0?{}:e;ed()||tt(!1);let{basename:i,navigator:s}=d.useContext(Ml),{hash:r,pathname:o,search:l}=Jk(t,{relative:n}),c=o;return i!=="/"&&(c=o==="/"?i:lr([i,o])),s.createHref({pathname:c,search:l,hash:r})}function ed(){return d.useContext(Mm)!=null}function zm(){return ed()||tt(!1),d.useContext(Mm).location}function Xk(t){d.useContext(Ml).static||d.useLayoutEffect(t)}function o6(){let{isDataRoute:t}=d.useContext(Po);return t?y6():l6()}function l6(){ed()||tt(!1);let t=d.useContext(Om),{basename:e,future:n,navigator:i}=d.useContext(Ml),{matches:s}=d.useContext(Po),{pathname:r}=zm(),o=JSON.stringify(S0(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return Xk(()=>{l.current=!0}),d.useCallback(function(a,h){if(h===void 0&&(h={}),!l.current)return;if(typeof a=="number"){i.go(a);return}let f=w0(a,JSON.parse(o),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:lr([e,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[e,i,o,r,t])}const c6=d.createContext(null);function a6(t){let e=d.useContext(Po).outlet;return e&&d.createElement(c6.Provider,{value:t},e)}function Jk(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=d.useContext(Ml),{matches:s}=d.useContext(Po),{pathname:r}=zm(),o=JSON.stringify(S0(s,i.v7_relativeSplatPath));return d.useMemo(()=>w0(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function u6(t,e,n,i){ed()||tt(!1);let{navigator:s}=d.useContext(Ml),{matches:r}=d.useContext(Po),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let a=zm(),h;if(e){var f;let S=typeof e=="string"?xr(e):e;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||tt(!1),h=S}else h=a;let p=h.pathname||"/",m=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=Ec(t,{pathname:m}),g=m6(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:lr([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:lr([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,n,i);return e&&g?d.createElement(Mm.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:un.Pop}},g):g}function h6(){let t=tR(),e=$k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},e),n?d.createElement("pre",{style:s},n):null,r)}const d6=d.createElement(h6,null);class f6 extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?d.createElement(Po.Provider,{value:this.props.routeContext},d.createElement(Yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p6(t){let{routeContext:e,match:n,children:i}=t,s=d.useContext(Om);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Po.Provider,{value:e},i)}function m6(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id]));h>=0||tt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,a=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(a=h),f.route.id){let{loaderData:p,errors:m}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){c=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,_=!1,g=null,S=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||d6,c&&(a<0&&p===0?(S6("route-fallback",!1),_=!0,S=null):a===p&&(_=!0,S=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let w;return m?w=g:_?w=S:f.route.Component?w=d.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,d.createElement(p6,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?d.createElement(f6,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Zk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zk||{}),Ap=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ap||{});function g6(t){let e=d.useContext(Om);return e||tt(!1),e}function _6(t){let e=d.useContext(Qk);return e||tt(!1),e}function v6(t){let e=d.useContext(Po);return e||tt(!1),e}function eR(t){let e=v6(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function tR(){var t;let e=d.useContext(Yk),n=_6(Ap.UseRouteError),i=eR(Ap.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function y6(){let{router:t}=g6(Zk.UseNavigateStable),e=eR(Ap.UseNavigateStable),n=d.useRef(!1);return Xk(()=>{n.current=!0}),d.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yh({fromRouteId:e},r)))},[t,e])}const mT={};function S6(t,e,n){!e&&!mT[t]&&(mT[t]=!0)}function gT(t){return a6(t.context)}function w6(t){let{basename:e="/",children:n=null,location:i,navigationType:s=un.Pop,navigator:r,static:o=!1,future:l}=t;ed()&&tt(!1);let c=e.replace(/^\/*/,"/"),a=d.useMemo(()=>({basename:c,navigator:r,static:o,future:yh({v7_relativeSplatPath:!1},l)}),[c,l,r,o]);typeof i=="string"&&(i=xr(i));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:_="default"}=i,g=d.useMemo(()=>{let S=ka(h,c);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:_},navigationType:s}},[c,h,f,p,m,_,s]);return g==null?null:d.createElement(Ml.Provider,{value:a},d.createElement(Mm.Provider,{children:n,value:g}))}new Promise(()=>{});function x6(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:d.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:d.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:d.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sh.apply(this,arguments)}function T6(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function I6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E6(t,e){return t.button===0&&(!e||e==="_self")&&!I6(t)}const C6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],k6="6";try{window.__reactRouterVersion=k6}catch{}function R6(t,e){return HL({basename:e==null?void 0:e.basename,future:Sh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:mL({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||P6(),routes:t,mapRouteProperties:x6,window:e==null?void 0:e.window}).initialize()}function P6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sh({},e,{errors:b6(e.errors)})),e}function b6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")n[i]=new x0(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let r=window[s.__subType];if(typeof r=="function")try{let o=new r(s.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let r=new Error(s.message);r.stack="",n[i]=r}}else n[i]=s;return n}const A6=d.createContext({isTransitioning:!1}),N6=d.createContext(new Map),D6="startTransition",_T=iD[D6],L6="flushSync",vT=pL[L6];function j6(t){_T?_T(t):t()}function nu(t){vT?vT(t):t()}let O6=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function M6(t){let{fallbackElement:e,router:n,future:i}=t,[s,r]=d.useState(n.state),[o,l]=d.useState(),[c,a]=d.useState({isTransitioning:!1}),[h,f]=d.useState(),[p,m]=d.useState(),[_,g]=d.useState(),S=d.useRef(new Map),{v7_startTransition:v}=i||{},y=d.useCallback(E=>{v?j6(E):E()},[v]),w=d.useCallback((E,k)=>{let{deletedFetchers:P,unstable_flushSync:j,unstable_viewTransitionOpts:H}=k;P.forEach(K=>S.current.delete(K)),E.fetchers.forEach((K,ne)=>{K.data!==void 0&&S.current.set(ne,K.data)});let X=n.window==null||typeof n.window.document.startViewTransition!="function";if(!H||X){j?nu(()=>r(E)):y(()=>r(E));return}if(j){nu(()=>{p&&(h&&h.resolve(),p.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let K=n.window.document.startViewTransition(()=>{nu(()=>r(E))});K.finished.finally(()=>{nu(()=>{f(void 0),m(void 0),l(void 0),a({isTransitioning:!1})})}),nu(()=>m(K));return}p?(h&&h.resolve(),p.skipTransition(),g({state:E,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(l(E),a({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,p,h,S,y]);d.useLayoutEffect(()=>n.subscribe(w),[n,w]),d.useEffect(()=>{c.isTransitioning&&!c.flushSync&&f(new O6)},[c]),d.useEffect(()=>{if(h&&o&&n.window){let E=o,k=h.promise,P=n.window.document.startViewTransition(async()=>{y(()=>r(E)),await k});P.finished.finally(()=>{f(void 0),m(void 0),l(void 0),a({isTransitioning:!1})}),m(P)}},[y,o,h,n.window]),d.useEffect(()=>{h&&o&&s.location.key===o.location.key&&h.resolve()},[h,p,s.location,o]),d.useEffect(()=>{!c.isTransitioning&&_&&(l(_.state),a({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),g(void 0))},[c.isTransitioning,_]),d.useEffect(()=>{},[]);let T=d.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,k,P)=>n.navigate(E,{state:k,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(E,k,P)=>n.navigate(E,{replace:!0,state:k,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),I=n.basename||"/",x=d.useMemo(()=>({router:n,navigator:T,static:!1,basename:I}),[n,T,I]);return d.createElement(d.Fragment,null,d.createElement(Om.Provider,{value:x},d.createElement(Qk.Provider,{value:s},d.createElement(N6.Provider,{value:S.current},d.createElement(A6.Provider,{value:c},d.createElement(w6,{basename:I,location:s.location,navigationType:s.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},s.initialized||n.future.v7_partialHydration?d.createElement(z6,{routes:n.routes,future:n.future,state:s}):e))))),null)}function z6(t){let{routes:e,future:n,state:i}=t;return u6(e,void 0,i,n)}const V6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B6=d.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:l,target:c,to:a,preventScrollReset:h,unstable_viewTransition:f}=e,p=T6(e,C6),{basename:m}=d.useContext(Ml),_,g=!1;if(typeof a=="string"&&F6.test(a)&&(_=a,V6))try{let w=new URL(window.location.href),T=a.startsWith("//")?new URL(w.protocol+a):new URL(a),I=ka(T.pathname,m);T.origin===w.origin&&I!=null?a=I+T.search+T.hash:g=!0}catch{}let S=r6(a,{relative:s}),v=$6(a,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:f});function y(w){i&&i(w),w.defaultPrevented||v(w)}return d.createElement("a",Sh({},p,{href:_||S,onClick:g||r?i:y,ref:n,target:c}))});var yT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yT||(yT={}));var ST;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ST||(ST={}));function $6(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=o6(),a=zm(),h=Jk(t,{relative:o});return d.useCallback(f=>{if(E6(f,n)){f.preventDefault();let p=i!==void 0?i:_l(a)===_l(h);c(t,{replace:p,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:l})}},[a,c,h,i,s,n,t,r,o,l])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw Ra(e)},Ra=function(t){return new Error("Firebase Database ("+nR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},U6=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,a=c?t[s+2]:0,h=r>>2,f=(r&3)<<4|l>>4;let p=(l&15)<<2|a>>6,m=a&63;c||(m=64,o||(p=64)),i.push(n[h],n[f],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const a=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||a==null||f==null)throw new q6;const p=r<<2|l>>4;if(i.push(p),a!==64){const m=l<<4&240|a>>2;if(i.push(m),f!==64){const _=a<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(t){const e=iR(t);return I0.encodeByteArray(e,!0)},Np=function(t){return sR(t).replace(/\./g,"")},Dp=function(t){try{return I0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){return wh(void 0,t)}function wh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!H6(n)||(t[n]=wh(t[n],e[n]));return t}function H6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=()=>G6().__FIREBASE_DEFAULTS__,Q6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dp(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return K6()||Q6()||Y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rR=t=>{var e,n;return(n=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oR=t=>{const e=rR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},lR=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config},cR=t=>{var e;return(e=Vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Np(JSON.stringify(n)),Np(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function X6(){var t;const e=(t=Vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof self=="object"&&self.self===self}function J6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z6(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hR(){return nR.NODE_ADMIN===!0}function dR(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function ej(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="FirebaseError";class xs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tj,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?nj(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new xs(s,l,i)}}function nj(t,e){return t.replace(ij,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const ij=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=xh(Dp(r[0])||""),n=xh(Dp(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},sj=function(t){const e=pR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rj=function(t){const e=pR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ta(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function g1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lp(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function vl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(wT(r)&&wT(o)){if(!vl(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function wT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const p=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],a,h;for(let f=0;f<80;f++){f<40?f<20?(a=l^r&(o^l),h=1518500249):(a=r^o^l,h=1859775393):f<60?(a=r&o|l&(r|o),h=2400959708):(a=r^o^l,h=3395469782);const p=(s<<5|s>>>27)+a+c+h+i[f]&4294967295;c=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function mR(t,e){const n=new lj(t,e);return n.subscribe.bind(n)}class lj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=g_),s.error===void 0&&(s.error=g_),s.complete===void 0&&(s.complete=g_);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g_(){}function k0(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,he(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Bm=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Fm;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dj(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hj(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hj(t){return t===$o?void 0:t}function dj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=[];var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const _R={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},fj=Ze.INFO,pj={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},mj=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=pj[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class td{constructor(e){this.name=e,this._logLevel=fj,this._logHandler=mj,this._userLogHandler=null,R0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}function gj(t){R0.forEach(e=>{e.setLogLevel(t)})}function _j(t,e){for(const n of R0){let i=null;e&&e.level&&(i=_R[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,r,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");r>=(i??s.logLevel)&&t({level:Ze[r].toLowerCase(),message:l,args:o,type:s.name})}}}const vj=(t,e)=>e.some(n=>t instanceof n);let xT,TT;function yj(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sj(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vR=new WeakMap,_1=new WeakMap,yR=new WeakMap,__=new WeakMap,P0=new WeakMap;function wj(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(oo(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vR.set(n,t)}).catch(()=>{}),P0.set(e,t),e}function xj(t){if(_1.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});_1.set(t,e)}let v1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tj(t){v1=t(v1)}function Ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(v_(this),e,...n);return yR.set(i,e.sort?e.sort():[e]),oo(i)}:Sj().includes(t)?function(...e){return t.apply(v_(this),e),oo(vR.get(this))}:function(...e){return oo(t.apply(v_(this),e))}}function Ej(t){return typeof t=="function"?Ij(t):(t instanceof IDBTransaction&&xj(t),vj(t,yj())?new Proxy(t,v1):t)}function oo(t){if(t instanceof IDBRequest)return wj(t);if(__.has(t))return __.get(t);const e=Ej(t);return e!==t&&(__.set(t,e),P0.set(e,t)),e}const v_=t=>P0.get(t);function Cj(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=oo(o);return i&&o.addEventListener("upgradeneeded",c=>{i(oo(o.result),c.oldVersion,c.newVersion,oo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",a=>s(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const kj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],y_=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y_.get(e))return y_.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Rj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||kj.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let a=c.store;return i&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),s&&c.done]))[0]};return y_.set(e,r),r}Tj(t=>({...t,get:(e,n,i)=>IT(e,n)||t.get(e,n,i),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",y1="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new td("@firebase/app"),Aj="@firebase/app-compat",Nj="@firebase/analytics-compat",Dj="@firebase/analytics",Lj="@firebase/app-check-compat",jj="@firebase/app-check",Oj="@firebase/auth",Mj="@firebase/auth-compat",zj="@firebase/database",Vj="@firebase/database-compat",Fj="@firebase/functions",Bj="@firebase/functions-compat",$j="@firebase/installations",Uj="@firebase/installations-compat",qj="@firebase/messaging",Wj="@firebase/messaging-compat",Hj="@firebase/performance",Gj="@firebase/performance-compat",Kj="@firebase/remote-config",Qj="@firebase/remote-config-compat",Yj="@firebase/storage",Xj="@firebase/storage-compat",Jj="@firebase/firestore",Zj="@firebase/firestore-compat",eO="firebase",tO="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]",nO={[jp]:"fire-core",[Aj]:"fire-core-compat",[Dj]:"fire-analytics",[Nj]:"fire-analytics-compat",[jj]:"fire-app-check",[Lj]:"fire-app-check-compat",[Oj]:"fire-auth",[Mj]:"fire-auth-compat",[zj]:"fire-rtdb",[Vj]:"fire-rtdb-compat",[Fj]:"fire-fn",[Bj]:"fire-fn-compat",[$j]:"fire-iid",[Uj]:"fire-iid-compat",[qj]:"fire-fcm",[Wj]:"fire-fcm-compat",[Hj]:"fire-perf",[Gj]:"fire-perf-compat",[Kj]:"fire-rc",[Qj]:"fire-rc-compat",[Yj]:"fire-gcs",[Xj]:"fire-gcs-compat",[Jj]:"fire-fst",[Zj]:"fire-fst-compat","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,na=new Map,ia=new Map;function Th(t,e){try{t.container.addComponent(e)}catch(n){yl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function SR(t,e){t.container.addOrOverwriteComponent(e)}function Fs(t){const e=t.name;if(ia.has(e))return yl.debug(`There were multiple attempts to register component ${e}.`),!1;ia.set(e,t);for(const n of go.values())Th(n,t);for(const n of na.values())Th(n,t);return!0}function Fl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iO(t,e,n=mo){Fl(t,e).clearInstance(n)}function wR(t){return t.options!==void 0}function Ps(t){return t.settings!==void 0}function sO(){ia.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new zl("app","Firebase",rO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xR=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends xR{constructor(e,n,i,s){const r=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:i,automaticDataCollectionEnabled:r};if(e.apiKey!==void 0)super(e,o,s);else{const l=e;super(l.options,o,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,si(jp,y1,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){b0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ts.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=tO;function $m(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:mo,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ts.create("bad-app-name",{appName:String(s)});if(n||(n=lR()),!n)throw ts.create("no-options");const r=go.get(s);if(r){if(vl(n,r.options)&&vl(i,r.config))return r;throw ts.create("duplicate-app",{appName:s})}const o=new gR(s);for(const c of ia.values())o.addComponent(c);const l=new xR(n,i,o);return go.set(s,l),l}function lO(t,e){if(aR())throw ts.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;wR(t)?n=t.options:n=t;const i=Object.assign(Object.assign({},e),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=a=>[...a].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ts.create("finalization-registry-not-supported",{});const r=""+s(JSON.stringify(i)),o=na.get(r);if(o)return o.incRefCount(e.releaseOnDeref),o;const l=new gR(r);for(const a of ia.values())l.addComponent(a);const c=new oO(n,e,r,l);return na.set(r,c),c}function Um(t=mo){const e=go.get(t);if(!e&&t===mo&&lR())return $m();if(!e)throw ts.create("no-app",{appName:t});return e}function cO(){return Array.from(go.values())}async function b0(t){let e=!1;const n=t.name;go.has(n)?(e=!0,go.delete(n)):na.has(n)&&t.decRefCount()<=0&&(na.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(i=>i.delete())),t.isDeleted=!0)}function si(t,e,n){var i;let s=(i=nO[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yl.warn(l.join(" "));return}Fs(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function TR(t,e){if(t!==null&&typeof t!="function")throw ts.create("invalid-log-argument");_j(t,e)}function IR(t){gj(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",uO=1,Ih="firebase-heartbeat-store";let S_=null;function ER(){return S_||(S_=Cj(aO,uO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),S_}async function hO(t){try{const n=(await ER()).transaction(Ih),i=await n.objectStore(Ih).get(CR(t));return await n.done,i}catch(e){if(e instanceof xs)yl.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yl.warn(n.message)}}}async function ET(t,e){try{const i=(await ER()).transaction(Ih,"readwrite");await i.objectStore(Ih).put(e,CR(t)),await i.done}catch(n){if(n instanceof xs)yl.warn(n.message);else{const i=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yl.warn(i.message)}}}function CR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1024,fO=30*24*60*60*1e3;class pO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=CT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=fO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CT(),{heartbeatsToSend:i,unsentEntries:s}=mO(this._heartbeatsCache.heartbeats),r=Np(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function CT(){return new Date().toISOString().substring(0,10)}function mO(t,e=dO){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),kT(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?ej().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ET(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ET(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kT(t){return Np(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){Fs(new ys("platform-logger",e=>new Pj(e),"PRIVATE")),Fs(new ys("heartbeat",e=>new pO(e),"PRIVATE")),si(jp,y1,t),si(jp,y1,"esm2017"),si("fire-js","")}_O("");const vO=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:xs,SDK_VERSION:Us,_DEFAULT_ENTRY_NAME:mo,_addComponent:Th,_addOrOverwriteComponent:SR,_apps:go,_clearComponents:sO,_components:ia,_getProvider:Fl,_isFirebaseApp:wR,_isFirebaseServerApp:Ps,_registerComponent:Fs,_removeServiceInstance:iO,_serverApps:na,deleteApp:b0,getApp:Um,getApps:cO,initializeApp:$m,initializeServerApp:lO,onLog:TR,registerVersion:si,setLogLevel:IR},Symbol.toStringTag,{value:"Module"}));var yO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de,A0=A0||{},$e=yO||self;function qm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SO(t){return Object.prototype.hasOwnProperty.call(t,w_)&&t[w_]||(t[w_]=++wO)}var w_="closure_uid_"+(1e9*Math.random()>>>0),wO=0;function xO(t,e,n){return t.call.apply(t.bind,arguments)}function TO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function ri(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ri=xO:ri=TO,ri.apply(null,arguments)}function nf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Mn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,r){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(i,o)}}function bo(){this.s=this.s,this.o=this.o}var IO=0;bo.prototype.s=!1;bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IO!=0)&&SO(this)};bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function N0(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function RT(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(qm(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let o=0;o<r;o++)t[s+o]=i[o]}else t.push(i)}}function oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var EO=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};$e.addEventListener("test",n,e),$e.removeEventListener("test",n,e)}catch{}return t}();function Eh(t){return/^[\s\xa0]*$/.test(t)}function Wm(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function Rs(t){return Wm().indexOf(t)!=-1}function D0(t){return D0[" "](t),t}D0[" "]=function(){};function CO(t,e){var n=vM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kO=Rs("Opera"),sa=Rs("Trident")||Rs("MSIE"),RR=Rs("Edge"),S1=RR||sa,PR=Rs("Gecko")&&!(Wm().toLowerCase().indexOf("webkit")!=-1&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),RO=Wm().toLowerCase().indexOf("webkit")!=-1&&!Rs("Edge");function bR(){var t=$e.document;return t?t.documentMode:void 0}var w1;e:{var x_="",T_=function(){var t=Wm();if(PR)return/rv:([^\);]+)(\)|;)/.exec(t);if(RR)return/Edge\/([\d\.]+)/.exec(t);if(sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RO)return/WebKit\/(\S+)/.exec(t);if(kO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(T_&&(x_=T_?T_[1]:""),sa){var I_=bR();if(I_!=null&&I_>parseFloat(x_)){w1=String(I_);break e}}w1=x_}var x1;if($e.document&&sa){var PT=bR();x1=PT||parseInt(w1,10)||void 0}else x1=void 0;var PO=x1;function Ch(t,e){if(oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PR){e:{try{D0(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ch.$.h.call(this)}}Mn(Ch,oi);var bO={2:"touch",3:"pen",4:"mouse"};Ch.prototype.h=function(){Ch.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var id="closure_listenable_"+(1e6*Math.random()|0),AO=0;function NO(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++AO,this.fa=this.ia=!1}function Hm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function L0(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function DO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AR(t){const e={};for(const n in t)e[n]=t[n];return e}const bT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NR(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<bT.length;r++)n=bT[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Gm(t){this.src=t,this.g={},this.h=0}Gm.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=I1(t,e,i,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new NO(e,this.src,r,!!i,s),e.ia=n,t.push(e)),e};function T1(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=kR(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Hm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function I1(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==i)return s}return-1}var j0="closure_lm_"+(1e6*Math.random()|0),E_={};function DR(t,e,n,i,s){if(i&&i.once)return jR(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)DR(t,e[r],n,i,s);return null}return n=z0(n),t&&t[id]?t.O(e,n,nd(i)?!!i.capture:!!i,s):LR(t,e,n,!1,i,s)}function LR(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=nd(s)?!!s.capture:!!s,l=M0(t);if(l||(t[j0]=l=new Gm(t)),n=l.add(e,n,i,o,r),n.proxy)return n;if(i=LO(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)EO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(MR(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LO(){function t(n){return e.call(t.src,t.listener,n)}const e=jO;return t}function jR(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)jR(t,e[r],n,i,s);return null}return n=z0(n),t&&t[id]?t.P(e,n,nd(i)?!!i.capture:!!i,s):LR(t,e,n,!0,i,s)}function OR(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)OR(t,e[r],n,i,s);else i=nd(i)?!!i.capture:!!i,n=z0(n),t&&t[id]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=I1(r,n,i,s),-1<n&&(Hm(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=M0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=I1(e,n,i,s)),(n=-1<t?e[t]:null)&&O0(n))}function O0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[id])T1(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(MR(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=M0(e))?(T1(n,t),n.h==0&&(n.src=null,e[j0]=null)):Hm(t)}}}function MR(t){return t in E_?E_[t]:E_[t]="on"+t}function jO(t,e){if(t.fa)t=!0;else{e=new Ch(e,this);var n=t.listener,i=t.la||t.src;t.ia&&O0(t),t=n.call(i,e)}return t}function M0(t){return t=t[j0],t instanceof Gm?t:null}var C_="__closure_events_fn_"+(1e9*Math.random()>>>0);function z0(t){return typeof t=="function"?t:(t[C_]||(t[C_]=function(e){return t.handleEvent(e)}),t[C_])}function On(){bo.call(this),this.i=new Gm(this),this.S=this,this.J=null}Mn(On,bo);On.prototype[id]=!0;On.prototype.removeEventListener=function(t,e,n,i){OR(this,t,e,n,i)};function Yn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new oi(e,t);else if(e instanceof oi)e.target=e.target||t;else{var s=e;e=new oi(i,t),NR(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=sf(o,i,!0,e)&&s}if(o=e.g=t,s=sf(o,i,!0,e)&&s,s=sf(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=sf(o,i,!1,e)&&s}On.prototype.N=function(){if(On.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Hm(n[i]);delete t.g[e],t.h--}}this.J=null};On.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};On.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function sf(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&T1(t.i,o),s=l.call(c,i)!==!1&&s}}return s&&!i.defaultPrevented}var V0=$e.JSON.stringify;class OO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function MO(){var t=F0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class zO{constructor(){this.h=this.g=null}add(e,n){const i=zR.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var zR=new OO(()=>new VO,t=>t.reset());class VO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function FO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BO(t){$e.setTimeout(()=>{throw t},0)}let kh,Rh=!1,F0=new zO,VR=()=>{const t=$e.Promise.resolve(void 0);kh=()=>{t.then($O)}};var $O=()=>{for(var t;t=MO();){try{t.h.call(t.g)}catch(n){BO(n)}var e=zR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rh=!1};function Km(t,e){On.call(this),this.h=t||1,this.g=e||$e,this.j=ri(this.qb,this),this.l=Date.now()}Mn(Km,On);de=Km.prototype;de.ga=!1;de.T=null;de.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yn(this,"tick"),this.ga&&(B0(this),this.start()))}};de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function B0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}de.N=function(){Km.$.N.call(this),B0(this),delete this.g};function $0(t,e,n){if(typeof t=="function")n&&(t=ri(t,n));else if(t&&typeof t.handleEvent=="function")t=ri(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function FR(t){t.g=$0(()=>{t.g=null,t.i&&(t.i=!1,FR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class UO extends bo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FR(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ph(t){bo.call(this),this.h=t,this.g={}}Mn(Ph,bo);var AT=[];function BR(t,e,n,i){Array.isArray(n)||(n&&(AT[0]=n.toString()),n=AT);for(var s=0;s<n.length;s++){var r=DR(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function $R(t){L0(t.g,function(e,n){this.g.hasOwnProperty(n)&&O0(e)},t),t.g={}}Ph.prototype.N=function(){Ph.$.N.call(this),$R(this)};Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qm(){this.g=!0}Qm.prototype.Ea=function(){this.g=!1};function qO(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var o="",l=r.split("&"),c=0;c<l.length;c++){var a=l[c].split("=");if(1<a.length){var h=a[0];a=a[1];var f=h.split("_");o=2<=f.length&&f[1]=="type"?o+(h+"="+a+"&"):o+(h+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function WO(t,e,n,i,s,r,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+o})}function kc(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GO(t,n)+(i?" "+i:"")})}function HO(t,e){t.info(function(){return"TIMEOUT: "+e})}Qm.prototype.info=function(){};function GO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return V0(n)}catch{return e}}var Bl={},NT=null;function Ym(){return NT=NT||new On}Bl.Ta="serverreachability";function UR(t){oi.call(this,Bl.Ta,t)}Mn(UR,oi);function bh(t){const e=Ym();Yn(e,new UR(e))}Bl.STAT_EVENT="statevent";function qR(t,e){oi.call(this,Bl.STAT_EVENT,t),this.stat=e}Mn(qR,oi);function fi(t){const e=Ym();Yn(e,new qR(e,t))}Bl.Ua="timingevent";function WR(t,e){oi.call(this,Bl.Ua,t),this.size=e}Mn(WR,oi);function sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}var Xm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function U0(){}U0.prototype.h=null;function DT(t){return t.h||(t.h=t.i())}function GR(){}var rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function q0(){oi.call(this,"d")}Mn(q0,oi);function W0(){oi.call(this,"c")}Mn(W0,oi);var E1;function Jm(){}Mn(Jm,U0);Jm.prototype.g=function(){return new XMLHttpRequest};Jm.prototype.i=function(){return{}};E1=new Jm;function od(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Ph(this),this.P=KO,t=S1?125:void 0,this.V=new Km(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KR}function KR(){this.i=null,this.g="",this.h=!1}var KO=45e3,QR={},C1={};de=od.prototype;de.setTimeout=function(t){this.P=t};function k1(t,e,n){t.L=1,t.A=eg(pr(e)),t.u=n,t.S=!0,YR(t,null)}function YR(t,e){t.G=Date.now(),ld(t),t.B=pr(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),sP(n.i,"t",i),t.o=0,n=t.l.J,t.h=new KR,t.g=EP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new UO(ri(t.Pa,t,t.g),t.O)),BR(t.U,t.g,"readystatechange",t.nb),e=t.I?AR(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),bh(),qO(t.j,t.v,t.B,t.m,t.W,t.u)}de.nb=function(t){t=t.target;const e=this.M;e&&bs(t)==3?e.l():this.Pa(t)};de.Pa=function(t){try{if(t==this.g)e:{const h=bs(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||S1||this.g&&(this.h.h||this.g.ja()||MT(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?bh(3):bh(2)),Zm(this);var n=this.g.da();this.ca=n;t:if(XR(this)){var i=MT(this.g);t="";var s=i.length,r=bs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),$u(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,WO(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eh(l)){var a=l;break t}}a=null}if(n=a)kc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,R1(this,n);else{this.i=!1,this.s=3,fi(12),tl(this),$u(this);break e}}this.S?(JR(this,h,o),S1&&this.i&&h==3&&(BR(this.U,this.V,"tick",this.mb),this.V.start())):(kc(this.j,this.m,o,null),R1(this,o)),h==4&&tl(this),this.i&&!this.J&&(h==4?wP(this.l,this):(this.i=!1,ld(this)))}else mM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,fi(12)):(this.s=0,fi(13)),tl(this),$u(this)}}}catch{}finally{}};function XR(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function JR(t,e,n){let i=!0,s;for(;!t.J&&t.o<n.length;)if(s=QO(t,n),s==C1){e==4&&(t.s=4,fi(14),i=!1),kc(t.j,t.m,null,"[Incomplete Response]");break}else if(s==QR){t.s=4,fi(15),kc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else kc(t.j,t.m,s,null),R1(t,s);XR(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,fi(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),X0(e),e.M=!0,fi(11))):(kc(t.j,t.m,n,"[Invalid Chunked Response]"),tl(t),$u(t))}de.mb=function(){if(this.g){var t=bs(this.g),e=this.g.ja();this.o<e.length&&(Zm(this),JR(this,t,e),this.i&&t!=4&&ld(this))}};function QO(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?C1:(n=Number(e.substring(n,i)),isNaN(n)?QR:(i+=1,i+n>e.length?C1:(e=e.slice(i,i+n),t.o=i+n,e)))}de.cancel=function(){this.J=!0,tl(this)};function ld(t){t.Y=Date.now()+t.P,ZR(t,t.P)}function ZR(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=sd(ri(t.lb,t),e)}function Zm(t){t.C&&($e.clearTimeout(t.C),t.C=null)}de.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(HO(this.j,this.B),this.L!=2&&(bh(),fi(17)),tl(this),this.s=2,$u(this)):ZR(this,this.Y-t)};function $u(t){t.l.H==0||t.J||wP(t.l,t)}function tl(t){Zm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,B0(t.V),$R(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function R1(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||P1(n.i,t))){if(!t.K&&P1(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)zp(n),sg(n);else break e;Y0(n),fi(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=sd(ri(n.ib,n),6e3));if(1>=lP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else nl(n,11)}else if((t.K||n.g==t)&&zp(n),!Eh(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let a=s[e];if(n.V=a[0],a=a[1],n.H==2)if(a[0]=="c"){n.K=a[1],n.pa=a[2];const h=a[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=a[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=a[5];p!=null&&typeof p=="number"&&0<p&&(i=1.5*p,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var r=i.i;r.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(H0(r,r.h),r.h=null))}if(i.F){const g=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Dt(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=IP(i,i.J?i.pa:null,i.Y),o.K){cP(i.i,o);var l=o,c=i.L;c&&l.setTimeout(c),l.C&&(Zm(l),ld(l)),i.g=o}else yP(i);0<n.j.length&&rg(n)}else a[0]!="stop"&&a[0]!="close"||nl(n,7);else n.H==3&&(a[0]=="stop"||a[0]=="close"?a[0]=="stop"?nl(n,7):Q0(n):a[0]!="noop"&&n.h&&n.h.Aa(a),n.A=0)}}bh(4)}catch{}}function YO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(qm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function XO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function eP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=XO(t),i=YO(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var tP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function al(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof al){this.h=t.h,Op(this,t.j),this.s=t.s,this.g=t.g,Mp(this,t.m),this.l=t.l;var e=t.i,n=new Ah;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),LT(this,n),this.o=t.o}else t&&(e=String(t).match(tP))?(this.h=!1,Op(this,e[1]||"",!0),this.s=Cu(e[2]||""),this.g=Cu(e[3]||"",!0),Mp(this,e[4]),this.l=Cu(e[5]||"",!0),LT(this,e[6]||"",!0),this.o=Cu(e[7]||"")):(this.h=!1,this.i=new Ah(null,this.h))}al.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ku(e,jT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ku(e,jT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ku(n,n.charAt(0)=="/"?tM:eM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ku(n,iM)),t.join("")};function pr(t){return new al(t)}function Op(t,e,n){t.j=n?Cu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LT(t,e,n){e instanceof Ah?(t.i=e,sM(t.i,t.h)):(n||(e=ku(e,nM)),t.i=new Ah(e,t.h))}function Dt(t,e,n){t.i.set(e,n)}function eg(t){return Dt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ku(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ZO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ZO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var jT=/[#\/\?@]/g,eM=/[#\?:]/g,tM=/[#\?]/g,nM=/[#\?@]/g,iM=/#/g;function Ah(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ao(t){t.g||(t.g=new Map,t.h=0,t.i&&JO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}de=Ah.prototype;de.add=function(t,e){Ao(this),this.i=null,t=Pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nP(t,e){Ao(t),e=Pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iP(t,e){return Ao(t),e=Pa(t,e),t.g.has(e)}de.forEach=function(t,e){Ao(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};de.ta=function(){Ao(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};de.Z=function(t){Ao(this);let e=[];if(typeof t=="string")iP(this,t)&&(e=e.concat(this.g.get(Pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};de.set=function(t,e){return Ao(this),this.i=null,t=Pa(this,t),iP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};de.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sP(t,e,n){nP(t,e),0<n.length&&(t.i=null,t.g.set(Pa(t,e),N0(n)),t.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),t.push(s)}}return this.i=t.join("&")};function Pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sM(t,e){e&&!t.j&&(Ao(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(nP(this,i),sP(this,s,n))},t)),t.j=e}var rM=class{constructor(t,e){this.g=t,this.map=e}};function rP(t){this.l=t||oM,$e.PerformanceNavigationTiming?(t=$e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oM=10;function oP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lP(t){return t.h?1:t.g?t.g.size:0}function P1(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function H0(t,e){t.g?t.g.add(e):t.h=e}function cP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rP.prototype.cancel=function(){if(this.i=aP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return N0(t.i)}var lM=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function cM(){this.g=new lM}function aM(t,e,n){const i=n||"";try{eP(t,function(s,r){let o=s;nd(s)&&(o=V0(s)),e.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function uM(t,e){const n=new Qm;if($e.Image){const i=new Image;i.onload=nf(rf,n,i,"TestLoadImage: loaded",!0,e),i.onerror=nf(rf,n,i,"TestLoadImage: error",!1,e),i.onabort=nf(rf,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=nf(rf,n,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function rf(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function tg(t){this.l=t.ec||null,this.j=t.ob||!1}Mn(tg,U0);tg.prototype.g=function(){return new ng(this.l,this.j)};tg.prototype.i=function(t){return function(){return t}}({});function ng(t,e){On.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=G0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mn(ng,On);var G0=0;de=ng.prototype;de.open=function(t,e){if(this.readyState!=G0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nh(this)};de.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cd(this)),this.readyState=G0};de.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nh(this)),this.g&&(this.readyState=3,Nh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}de.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cd(this):Nh(this),this.readyState==3&&uP(this)}};de.Za=function(t){this.g&&(this.response=this.responseText=t,cd(this))};de.Ya=function(t){this.g&&(this.response=t,cd(this))};de.ka=function(){this.g&&cd(this)};function cd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nh(t)}de.setRequestHeader=function(t,e){this.v.append(t,e)};de.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Nh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ng.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hM=$e.JSON.parse;function rn(t){On.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hP,this.L=this.M=!1}Mn(rn,On);var hP="",dM=/^https?$/i,fM=["POST","PUT"];de=rn.prototype;de.Oa=function(t){this.M=t};de.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():E1.g(),this.C=this.u?DT(this.u):DT(E1),this.g.onreadystatechange=ri(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){OT(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=$e.FormData&&t instanceof $e.FormData,!(0<=kR(fM,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pP(this),0<this.B&&((this.L=pM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.ua,this)):this.A=$0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){OT(this,r)}};function pM(t){return sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}de.ua=function(){typeof A0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))};function OT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dP(t),ig(t)}function dP(t){t.F||(t.F=!0,Yn(t,"complete"),Yn(t,"error"))}de.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yn(this,"complete"),Yn(this,"abort"),ig(this))};de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ig(this,!0)),rn.$.N.call(this)};de.La=function(){this.s||(this.G||this.v||this.l?fP(this):this.kb())};de.kb=function(){fP(this)};function fP(t){if(t.h&&typeof A0<"u"&&(!t.C[1]||bs(t)!=4||t.da()!=2)){if(t.v&&bs(t)==4)$0(t.La,0,t);else if(Yn(t,"readystatechange"),bs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var s=String(t.I).match(tP)[1]||null;!s&&$e.self&&$e.self.location&&(s=$e.self.location.protocol.slice(0,-1)),i=!dM.test(s?s.toLowerCase():"")}n=i}if(n)Yn(t,"complete"),Yn(t,"success");else{t.m=6;try{var r=2<bs(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",dP(t)}}finally{ig(t)}}}}function ig(t,e){if(t.g){pP(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yn(t,"ready");try{n.onreadystatechange=i}catch{}}}function pP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}de.isActive=function(){return!!this.g};function bs(t){return t.g?t.g.readyState:0}de.da=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}};de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hM(e)}};function MT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mM(t){const e={};t=(t.g&&2<=bs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Eh(t[i]))continue;var n=FO(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[s]||[];e[s]=r,r.push(n)}DO(e,function(i){return i.join(", ")})}de.Ia=function(){return this.m};de.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mP(t){let e="";return L0(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function K0(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=mP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Dt(t,e,n))}function iu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gP(t){this.Ga=0,this.j=[],this.l=new Qm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=iu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=iu("baseRetryDelayMs",5e3,t),this.hb=iu("retryDelaySeedMs",1e4,t),this.eb=iu("forwardChannelMaxRetries",2,t),this.xa=iu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new rP(t&&t.concurrentRequestLimit),this.Ja=new cM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}de=gP.prototype;de.ra=8;de.H=1;function Q0(t){if(_P(t),t.H==3){var e=t.W++,n=pr(t.I);if(Dt(n,"SID",t.K),Dt(n,"RID",e),Dt(n,"TYPE","terminate"),ad(t,n),e=new od(t,t.l,e),e.L=2,e.A=eg(pr(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&$e.Image&&(new Image().src=e.A,n=!0),n||(e.g=EP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ld(e)}TP(t)}function sg(t){t.g&&(X0(t),t.g.cancel(),t.g=null)}function _P(t){sg(t),t.u&&($e.clearTimeout(t.u),t.u=null),zp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&$e.clearTimeout(t.m),t.m=null)}function rg(t){if(!oP(t.i)&&!t.m){t.m=!0;var e=t.Na;kh||VR(),Rh||(kh(),Rh=!0),F0.add(e,t),t.C=0}}function gM(t,e){return lP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sd(ri(t.Na,t,e),xP(t,t.C)),t.C++,!0)}de.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new od(this,this.l,t);let r=this.s;if(this.U&&(r?(r=AR(r),NR(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vP(this,s,e),n=pr(this.I),Dt(n,"RID",t),Dt(n,"CVER",22),this.F&&Dt(n,"X-HTTP-Session-Id",this.F),ad(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(mP(r)))+"&"+e:this.o&&K0(n,this.o,r)),H0(this.i,s),this.bb&&Dt(n,"TYPE","init"),this.P?(Dt(n,"$req",e),Dt(n,"SID","null"),s.aa=!0,k1(s,n,null)):k1(s,n,e),this.H=2}}else this.H==3&&(t?zT(this,t):this.j.length==0||oP(this.i)||zT(this))};function zT(t,e){var n;e?n=e.m:n=t.W++;const i=pr(t.I);Dt(i,"SID",t.K),Dt(i,"RID",n),Dt(i,"AID",t.V),ad(t,i),t.o&&t.s&&K0(i,t.o,t.s),n=new od(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),H0(t.i,n),k1(n,i,e)}function ad(t,e){t.na&&L0(t.na,function(n,i){Dt(e,i,n)}),t.h&&eP({},function(n,i){Dt(e,i,n)})}function vP(t,e,n){n=Math.min(t.j.length,n);var i=t.h?ri(t.h.Va,t.h,t):null;e:{var s=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let l=!0;for(let c=0;c<n;c++){let a=s[c].g;const h=s[c].map;if(a-=r,0>a)r=Math.max(0,s[c].g-100),l=!1;else try{aM(h,o,"req"+a+"_")}catch{i&&i(h)}}if(l){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function yP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;kh||VR(),Rh||(kh(),Rh=!0),F0.add(e,t),t.A=0}}function Y0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sd(ri(t.Ma,t),xP(t,t.A)),t.A++,!0)}de.Ma=function(){if(this.u=null,SP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sd(ri(this.jb,this),t)}};de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),sg(this),SP(this))};function X0(t){t.B!=null&&($e.clearTimeout(t.B),t.B=null)}function SP(t){t.g=new od(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pr(t.wa);Dt(e,"RID","rpc"),Dt(e,"SID",t.K),Dt(e,"AID",t.V),Dt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Dt(e,"TO",t.qa),Dt(e,"TYPE","xmlhttp"),ad(t,e),t.o&&t.s&&K0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=eg(pr(e)),n.u=null,n.S=!0,YR(n,t)}de.ib=function(){this.v!=null&&(this.v=null,sg(this),Y0(this),fi(19))};function zp(t){t.v!=null&&($e.clearTimeout(t.v),t.v=null)}function wP(t,e){var n=null;if(t.g==e){zp(t),X0(t),t.g=null;var i=2}else if(P1(t.i,e))n=e.F,cP(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;i=Ym(),Yn(i,new WR(i,n)),rg(t)}else yP(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(i==1&&gM(t,e)||i==2&&Y0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:nl(t,5);break;case 4:nl(t,10);break;case 3:nl(t,6);break;default:nl(t,2)}}}function xP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function nl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=ri(t.pb,t);n||(n=new al("//www.google.com/images/cleardot.gif"),$e.location&&$e.location.protocol=="http"||Op(n,"https"),eg(n)),uM(n.toString(),i)}else fi(2);t.H=0,t.h&&t.h.za(e),TP(t),_P(t)}de.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))};function TP(t){if(t.H=0,t.ma=[],t.h){const e=aP(t.i);(e.length!=0||t.j.length!=0)&&(RT(t.ma,e),RT(t.ma,t.j),t.i.i.length=0,N0(t.j),t.j.length=0),t.h.ya()}}function IP(t,e,n){var i=n instanceof al?pr(n):new al(n);if(i.g!="")e&&(i.g=e+"."+i.g),Mp(i,i.m);else{var s=$e.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new al(null);i&&Op(r,i),e&&(r.g=e),s&&Mp(r,s),n&&(r.l=n),i=r}return n=t.F,e=t.Da,n&&e&&Dt(i,n,e),Dt(i,"VER",t.ra),ad(t,i),i}function EP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rn(new tg({ob:n})):new rn(t.va),e.Oa(t.J),e}de.isActive=function(){return!!this.h&&this.h.isActive(this)};function CP(){}de=CP.prototype;de.Ba=function(){};de.Aa=function(){};de.za=function(){};de.ya=function(){};de.isActive=function(){return!0};de.Va=function(){};function Vp(){if(sa&&!(10<=Number(PO)))throw Error("Environmental error: no available transport.")}Vp.prototype.g=function(t,e){return new Vi(t,e)};function Vi(t,e){On.call(this),this.g=new gP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Eh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ba(this)}Mn(Vi,On);Vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IP(t,null,t.Y),rg(t)};Vi.prototype.close=function(){Q0(this.g)};Vi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=V0(t),t=n);e.j.push(new rM(e.fb++,t)),e.H==3&&rg(e)};Vi.prototype.N=function(){this.g.h=null,delete this.j,Q0(this.g),delete this.g,Vi.$.N.call(this)};function kP(t){q0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mn(kP,q0);function RP(){W0.call(this),this.status=1}Mn(RP,W0);function ba(t){this.g=t}Mn(ba,CP);ba.prototype.Ba=function(){Yn(this.g,"a")};ba.prototype.Aa=function(t){Yn(this.g,new kP(t))};ba.prototype.za=function(t){Yn(this.g,new RP)};ba.prototype.ya=function(){Yn(this.g,"b")};function _M(){this.blockSize=-1}function Ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mn(Ss,_M);Ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function k_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var r=t.g[3],o=e+(r^n&(s^r))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(r^n&(s^r))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(s^e&(n^s))+i[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=s+(n^r&(e^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(e^s&(r^e))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^r&(n^s))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^r&(n^s))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(e^n))+i[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(r^e))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^r)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^r)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^s)+i[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=s+(r^e^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^e)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~r))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~r))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~s))+i[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=s+(e^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}Ss.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,r=0;r<e;){if(s==0)for(;r<=n;)k_(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(i[s++]=t.charCodeAt(r++),s==this.blockSize){k_(this,i),s=0;break}}else for(;r<e;)if(i[s++]=t[r++],s==this.blockSize){k_(this,i),s=0;break}}this.h=s,this.i+=e};Ss.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Et(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var r=t[s]|0;i&&r==e||(n[s]=r,i=!1)}this.g=n}var vM={};function J0(t){return-128<=t&&128>t?CO(t,function(e){return new Et([e|0],0>e?-1:0)}):new Et([t|0],0>t?-1:0)}function As(t){if(isNaN(t)||!isFinite(t))return Mc;if(0>t)return Wn(As(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=b1;return new Et(e,0)}function PP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Wn(PP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=As(Math.pow(e,8)),i=Mc,s=0;s<t.length;s+=8){var r=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+r),e);8>r?(r=As(Math.pow(e,r)),i=i.R(r).add(As(o))):(i=i.R(n),i=i.add(As(o)))}return i}var b1=4294967296,Mc=J0(0),A1=J0(1),VT=J0(16777216);de=Et.prototype;de.ea=function(){if(Qi(this))return-Wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:b1+i)*e,e*=b1}return t};de.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zs(this))return"0";if(Qi(this))return"-"+Wn(this).toString(t);for(var e=As(Math.pow(t,6)),n=this,i="";;){var s=Bp(n,e).g;n=Fp(n,s.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Zs(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};de.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qi(t){return t.h==-1}de.X=function(t){return t=Fp(this,t),Qi(t)?-1:Zs(t)?0:1};function Wn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Et(n,~t.h).add(A1)}de.abs=function(){return Qi(this)?Wn(this):this};de.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var r=i+(this.D(s)&65535)+(t.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Et(n,n[n.length-1]&-2147483648?-1:0)};function Fp(t,e){return t.add(Wn(e))}de.R=function(t){if(Zs(this)||Zs(t))return Mc;if(Qi(this))return Qi(t)?Wn(this).R(Wn(t)):Wn(Wn(this).R(t));if(Qi(t))return Wn(this.R(Wn(t)));if(0>this.X(VT)&&0>t.X(VT))return As(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*i+2*s]+=o*c,of(n,2*i+2*s),n[2*i+2*s+1]+=r*c,of(n,2*i+2*s+1),n[2*i+2*s+1]+=o*l,of(n,2*i+2*s+1),n[2*i+2*s+2]+=r*l,of(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Et(n,0)};function of(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function su(t,e){this.g=t,this.h=e}function Bp(t,e){if(Zs(e))throw Error("division by zero");if(Zs(t))return new su(Mc,Mc);if(Qi(t))return e=Bp(Wn(t),e),new su(Wn(e.g),Wn(e.h));if(Qi(e))return e=Bp(t,Wn(e)),new su(Wn(e.g),e.h);if(30<t.g.length){if(Qi(t)||Qi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=A1,i=e;0>=i.X(t);)n=FT(n),i=FT(i);var s=Xl(n,1),r=Xl(i,1);for(i=Xl(i,2),n=Xl(n,2);!Zs(i);){var o=r.add(i);0>=o.X(t)&&(s=s.add(n),r=o),i=Xl(i,1),n=Xl(n,1)}return e=Fp(t,s.R(e)),new su(s,e)}for(s=Mc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=As(n),o=r.R(e);Qi(o)||0<o.X(t);)n-=i,r=As(n),o=r.R(e);Zs(r)&&(r=A1),s=s.add(r),t=Fp(t,o)}return new su(s,t)}de.gb=function(t){return Bp(this,t).h};de.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Et(n,this.h&t.h)};de.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Et(n,this.h|t.h)};de.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Et(n,this.h^t.h)};function FT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Et(n,t.h)}function Xl(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],r=0;r<i;r++)s[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new Et(s,t.h)}Vp.prototype.createWebChannel=Vp.prototype.g;Vi.prototype.send=Vi.prototype.u;Vi.prototype.open=Vi.prototype.m;Vi.prototype.close=Vi.prototype.close;Xm.NO_ERROR=0;Xm.TIMEOUT=8;Xm.HTTP_ERROR=6;HR.COMPLETE="complete";GR.EventType=rd;rd.OPEN="a";rd.CLOSE="b";rd.ERROR="c";rd.MESSAGE="d";On.prototype.listen=On.prototype.O;rn.prototype.listenOnce=rn.prototype.P;rn.prototype.getLastError=rn.prototype.Sa;rn.prototype.getLastErrorCode=rn.prototype.Ia;rn.prototype.getStatus=rn.prototype.da;rn.prototype.getResponseJson=rn.prototype.Wa;rn.prototype.getResponseText=rn.prototype.ja;rn.prototype.send=rn.prototype.ha;rn.prototype.setWithCredentials=rn.prototype.Oa;Ss.prototype.digest=Ss.prototype.l;Ss.prototype.reset=Ss.prototype.reset;Ss.prototype.update=Ss.prototype.j;Et.prototype.add=Et.prototype.add;Et.prototype.multiply=Et.prototype.R;Et.prototype.modulo=Et.prototype.gb;Et.prototype.compare=Et.prototype.X;Et.prototype.toNumber=Et.prototype.ea;Et.prototype.toString=Et.prototype.toString;Et.prototype.getBits=Et.prototype.D;Et.fromNumber=As;Et.fromString=PP;var yM=function(){return new Vp},SM=function(){return Ym()},R_=Xm,wM=HR,xM=Bl,BT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lf=GR,TM=rn,IM=Ss,zc=Et;const $T="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new td("@firebase/firestore");function cc(){return _o.logLevel}function EM(t){_o.setLogLevel(t)}function W(t,...e){if(_o.logLevel<=Ze.DEBUG){const n=e.map(Z0);_o.debug(`Firestore (${Aa}): ${t}`,...n)}}function fn(t,...e){if(_o.logLevel<=Ze.ERROR){const n=e.map(Z0);_o.error(`Firestore (${Aa}): ${t}`,...n)}}function ws(t,...e){if(_o.logLevel<=Ze.WARN){const n=e.map(Z0);_o.warn(`Firestore (${Aa}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function ke(t,e){t||ve()}function CM(t,e){t||ve()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class RM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PM{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let r=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new jn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ke(typeof i.accessToken=="string"),new bP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new An(e)}}class bM{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AM{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new bM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=r=>{r.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new NM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=LM(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Ge(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}function NP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ut(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ut(0,0))}static max(){return new Pe(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,i){n===void 0?n=0:n>e.length&&ve(),i===void 0?i=e.length-n:i>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Dh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dh?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Dh{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new q(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const jM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Dh{construct(e,n,i){return new Bt(e,n,i)}static isValidIdentifier(e){return jM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new q(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(i+=l,s++):(r(),s++)}if(r(),o)throw new q(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ot.fromString(e))}static fromName(e){return new oe(ot.fromString(e).popFirst(5))}static empty(){return new oe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,i,s){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=s}}function N1(t){return t.fields.find(e=>e.kind===2)}function Uo(t){return t.fields.filter(e=>e.kind!==2)}$p.UNKNOWN_ID=-1;class Wf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Lh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Lh(0,Fi.min())}}function DP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(i===1e9?new Ut(n+1,0):new Ut(n,i));return new Fi(s,oe.empty(),e)}function LP(t){return new Fi(t.readTime,t.key,-1)}class Fi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fi(Pe.min(),oe.empty(),-1)}static max(){return new Fi(Pe.max(),oe.empty(),-1)}}function eS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==jP)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,i)=>{n(e)})}static reject(e){return new b((n,i)=>{i(e)})}static waitFor(e){return new b((n,i)=>{let s=0,r=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++r,o&&r===s&&n()},c=>i(c))}),o=!0,r===s&&n()})}static or(e){let n=b.resolve(!1);for(const i of e)n=n.next(s=>s?b.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new b((i,s)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const a=c;n(e[a]).next(h=>{o[a]=h,++l,l===r&&i(o)},h=>s(h))}})}static doWhile(e,n){return new b((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new jn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Uu(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=tS(i.target.error);this.V.reject(new Uu(e,s))}}static open(e,n,i,s){try{return new og(n,e.transaction(s,i))}catch(r){throw new Uu(n,r)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new MM(n)}}class Xi{constructor(e,n,i){this.name=e,this.version=n,this.p=i,Xi.S(yn())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),Wo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fR())return!1;if(Xi.C())return!0;const e=yn(),n=Xi.S(e),i=0<n&&n<10,s=Xi.v(e),r=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||r)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=r=>{const o=r.target.result;n(o)},s.onblocked=()=>{i(new Uu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=r=>{const o=r.target.error;o.name==="VersionError"?i(new q(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new q(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new Uu(e,o))},s.onupgradeneeded=r=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',r.oldVersion);const o=r.target.result;this.p.N(o,s.transaction,r.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,s){const r=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=og.open(this.db,e,r?"readonly":"readwrite",i),c=s(l).next(a=>(l.g(),a)).catch(a=>(l.abort(a),b.reject(a))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,a=c.name!=="FirebaseError"&&o<3;if(W("SimpleDb","Transaction failed with error:",c.message,"Retrying:",a),this.close(),!a)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class OM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Wo(this.k.delete())}}class Uu extends q{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Do(t){return t.name==="IndexedDbTransactionError"}class MM{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Wo(i)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),Wo(this.store.add(e))}get(e){return Wo(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),Wo(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),Wo(this.store.count())}W(e,n){const i=this.options(e,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const r=s.getAll(i.range);return new b((o,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{o(c.target.result)}})}{const r=this.cursor(i),o=[];return this.G(r,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new b((s,r)=>{i.onerror=o=>{r(o.target.error)},i.onsuccess=o=>{s(o.target.result)}})}H(e,n){W("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const s=this.cursor(i);return this.G(s,(r,o,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const s=this.cursor(i);return this.G(s,n)}Z(e){const n=this.cursor({});return new b((i,s)=>{n.onerror=r=>{const o=tS(r.target.error);s(o)},n.onsuccess=r=>{const o=r.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():i()}):i()}})}G(e,n){const i=[];return new b((s,r)=>{e.onerror=o=>{r(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new OM(l),a=n(l.primaryKey,l.value,c);if(a instanceof b){const h=a.catch(f=>(c.done(),b.reject(f)));i.push(h)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>b.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wo(t){return new b((e,n)=>{t.onsuccess=i=>{const s=i.target.result;e(s)},t.onerror=i=>{const s=tS(i.target.error);n(s)}})}let UT=!1;function tS(t){const e=Xi.S(yn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UT||(UT=!0,setTimeout(()=>{throw i},0)),i}}return t}class zM{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){W("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Do(n)?W("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await No(n)}await this.ee(6e4)})}}class VM{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const i=new Set;let s=n,r=!0;return b.doWhile(()=>r===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return W("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,s).next(l=>{s-=l,i.add(o)});r=!1})).next(()=>n-s)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,i).next(r=>{const o=r.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,r)).next(l=>(W("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>o.size)}))}ie(e,n){let i=e;return n.changes.forEach((s,r)=>{const o=LP(r);eS(o,i)>0&&(i=o)}),new Fi(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ii._e=-1;function ud(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function MP(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qT(e)),e=FM(t.get(n),e);return qT(e)}function FM(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function qT(t){return t+""}function Ns(t){const e=t.length;if(ke(e>=2),e===2)return ke(t.charAt(0)===""&&t.charAt(1)===""),ot.emptyPath();const n=e-2,i=[];let s="";for(let r=0;r<e;){const o=t.indexOf("",r);switch((o<0||o>n)&&ve(),t.charAt(o+1)){case"":const l=t.substring(r,o);let c;s.length===0?c=l:(s+=l,c=s,s=""),i.push(c);break;case"":s+=t.substring(r,o),s+="\0";break;case"":s+=t.substring(r,o+1);break;default:ve()}r=o+2}return new ot(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e){return[t,mi(e)]}function zP(t,e,n){return[t,mi(e),n]}const BM={},$M=["prefixPath","collectionGroup","readTime","documentId"],UM=["prefixPath","collectionGroup","documentId"],qM=["collectionGroup","readTime","prefixPath","documentId"],WM=["canonicalId","targetId"],HM=["targetId","path"],GM=["path","targetId"],KM=["collectionId","parent"],QM=["indexId","uid"],YM=["uid","sequenceNumber"],XM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JM=["indexId","uid","orderedDocumentKey"],ZM=["userId","collectionPath","documentId"],ez=["userId","collectionPath","largestBatchId"],tz=["userId","collectionGroup","largestBatchId"],VP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nz=[...VP,"documentOverlays"],FP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BP=FP,$P=[...BP,"indexConfiguration","indexState","indexEntries"],iz=$P;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends OP{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function zn(t,e){const n=ae(t);return Xi.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class L1{constructor(e,n){this.comparator=e,this.root=n||lo.EMPTY}insert(e,n){return new L1(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new L1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}},cf=class{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lo=class Ks{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ks.RED,this.left=s??Ks.EMPTY,this.right=r??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Ks(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ks.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}};lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1;lo.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,i,s,r){return this}insert(e,n,i){return new lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Rt(Bt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new qP("Invalid base64 string: "+r):r}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const rz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(ke(!!t),typeof t=="string"){let e=0;const n=rz.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nS(t){const e=t.mapValue.fields.__previous_value__;return lg(e)?nS(e):e}function Oh(t){const e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n,i,s,r,o,l,c,a){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=a}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gf={nullValue:"NULL_VALUE"};function Sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lg(t)?4:WP(t)?9007199254740991:10:ve()}function Bs(t,e){if(t===e)return!0;const n=Sl(t);if(n!==Sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oh(t).isEqual(Oh(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=mr(s.timestampValue),l=mr(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return vo(s.bytesValue).isEqual(vo(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return sn(s.geoPointValue.latitude)===sn(r.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return sn(s.integerValue)===sn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=sn(s.doubleValue),l=sn(r.doubleValue);return o===l?jh(o)===jh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:return function(s,r){const o=s.mapValue.fields||{},l=r.mapValue.fields||{};if(HT(o)!==HT(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Bs(o[c],l[c])))return!1;return!0}(t,e);default:return ve()}}function Mh(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function So(t,e){if(t===e)return 0;const n=Sl(t),i=Sl(e);if(n!==i)return Ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=sn(r.integerValue||r.doubleValue),c=sn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return KT(t.timestampValue,e.timestampValue);case 4:return KT(Oh(t),Oh(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(r,o){const l=vo(r),c=vo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let a=0;a<l.length&&a<c.length;a++){const h=Ge(l[a],c[a]);if(h!==0)return h}return Ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Ge(sn(r.latitude),sn(o.latitude));return l!==0?l:Ge(sn(r.longitude),sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const l=r.values||[],c=o.values||[];for(let a=0;a<l.length&&a<c.length;++a){const h=So(l[a],c[a]);if(h)return h}return Ge(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Xr.mapValue&&o===Xr.mapValue)return 0;if(r===Xr.mapValue)return 1;if(o===Xr.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),a=o.fields||{},h=Object.keys(a);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Ge(c[f],h[f]);if(p!==0)return p;const m=So(l[c[f]],a[h[f]]);if(m!==0)return m}return Ge(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function KT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=mr(t),i=mr(e),s=Ge(n.seconds,i.seconds);return s!==0?s:Ge(n.nanos,i.nanos)}function oa(t){return j1(t)}function j1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=mr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=j1(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${j1(n.fields[o])}`;return s+"}"}(t.mapValue):ve()}function wl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O1(t){return!!t&&"integerValue"in t}function zh(t){return!!t&&"arrayValue"in t}function QT(t){return!!t&&"nullValue"in t}function YT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $l(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=qu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function lz(t){return"nullValue"in t?Gf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?wl(yo.empty(),oe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ve()}function cz(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?wl(yo.empty(),oe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Xr:ve()}function XT(t,e){const n=So(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function JT(t,e){const n=So(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=Bt.emptyPath(),i={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,i,s),i={},s=[],n=l.popLast()}o?i[l.lastSegment()]=qu(o):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){$l(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Kn(qu(this.value))}}function HP(t){const e=[];return $l(t.fields,(n,i)=>{const s=new Bt([n]);if(Kf(i)){const r=HP(i.mapValue).fields;if(r.length===0)e.push(s);else for(const o of r)e.push(s.child(o))}else e.push(s)}),new Ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,i,s,r,o,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Lt(e,0,Pe.min(),Pe.min(),Pe.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,s){return new Lt(e,1,n,Pe.min(),i,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,Pe.min(),Pe.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,Pe.min(),Pe.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.position=e,this.inclusive=n}}function ZT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(r.field.isKeyField()?i=oe.comparator(oe.fromName(o.referenceValue),n.key):i=So(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function eI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function az(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{}class lt extends GP{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new uz(e,n,i):n==="array-contains"?new fz(e,i):n==="in"?new ZP(e,i):n==="not-in"?new pz(e,i):n==="array-contains-any"?new mz(e,i):new lt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new hz(e,i):new dz(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&Sl(this.value)===Sl(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tt extends GP{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Tt(e,n)}matches(e){return la(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function la(t){return t.op==="and"}function M1(t){return t.op==="or"}function iS(t){return KP(t)&&la(t)}function KP(t){for(const e of t.filters)if(e instanceof Tt)return!1;return!0}function z1(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(iS(t))return t.filters.map(e=>z1(e)).join(",");{const e=t.filters.map(n=>z1(n)).join(",");return`${t.op}(${e})`}}function QP(t,e){return t instanceof lt?function(i,s){return s instanceof lt&&i.op===s.op&&i.field.isEqual(s.field)&&Bs(i.value,s.value)}(t,e):t instanceof Tt?function(i,s){return s instanceof Tt&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,l)=>r&&QP(o,s.filters[l]),!0):!1}(t,e):void ve()}function YP(t,e){const n=t.filters.concat(e);return Tt.create(n,t.op)}function XP(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Tt?function(n){return n.op.toString()+" {"+n.getFilters().map(XP).join(" ,")+"}"}(t):"Filter"}class uz extends lt{constructor(e,n,i){super(e,n,i),this.key=oe.fromName(i.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class hz extends lt{constructor(e,n){super(e,"in",n),this.keys=JP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dz extends lt{constructor(e,n){super(e,"not-in",n),this.keys=JP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>oe.fromName(i.referenceValue))}class fz extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zh(n)&&Mh(n.arrayValue,this.value)}}class ZP extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class pz extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mh(this.value.arrayValue,n)}}class mz extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Mh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n=null,i=[],s=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=l,this.ce=null}}function V1(t,e=null,n=[],i=[],s=null,r=null,o=null){return new gz(t,e,n,i,s,r,o)}function xl(t){const e=ae(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>z1(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>oa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>oa(i)).join(",")),e.ce=n}return e.ce}function hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!az(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eI(t.startAt,e.startAt)&&eI(t.endAt,e.endAt)}function Up(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qp(t,e){return t.filters.filter(n=>n instanceof lt&&n.field.isEqual(e))}function tI(t,e,n){let i=Gf,s=!0;for(const r of qp(t,e)){let o=Gf,l=!0;switch(r.op){case"<":case"<=":o=lz(r.value);break;case"==":case"in":case">=":o=r.value;break;case">":o=r.value,l=!1;break;case"!=":case"not-in":o=Gf}XT({value:i,inclusive:s},{value:o,inclusive:l})<0&&(i=o,s=l)}if(n!==null){for(let r=0;r<t.orderBy.length;++r)if(t.orderBy[r].field.isEqual(e)){const o=n.position[r];XT({value:i,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(i=o,s=n.inclusive);break}}return{value:i,inclusive:s}}function nI(t,e,n){let i=Xr,s=!0;for(const r of qp(t,e)){let o=Xr,l=!0;switch(r.op){case">=":case">":o=cz(r.value),l=!1;break;case"==":case"in":case"<=":o=r.value;break;case"<":o=r.value,l=!1;break;case"!=":case"not-in":o=Xr}JT({value:i,inclusive:s},{value:o,inclusive:l})>0&&(i=o,s=l)}if(n!==null){for(let r=0;r<t.orderBy.length;++r)if(t.orderBy[r].field.isEqual(e)){const o=n.position[r];JT({value:i,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(i=o,s=n.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n=null,i=[],s=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function eb(t,e,n,i,s,r,o,l){return new Tr(t,e,n,i,s,r,o,l)}function Na(t){return new Tr(t)}function iI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sS(t){return t.collectionGroup!==null}function Vc(t){const e=ae(t);if(e.le===null){e.le=[];const n=new Set;for(const r of e.explicitOrderBy)e.le.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Rt(Bt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(a=>{a.isInequality()&&(l=l.add(a.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.le.push(new Vh(r,i))}),n.has(Bt.keyField().canonicalString())||e.le.push(new Vh(Bt.keyField(),i))}return e.le}function gi(t){const e=ae(t);return e.he||(e.he=_z(e,Vc(t))),e.he}function _z(t,e){if(t.limitType==="F")return V1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Vh(s.field,r)});const n=t.endAt?new wo(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new wo(t.startAt.position,t.startAt.inclusive):null;return V1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function F1(t,e){const n=t.filters.concat([e]);return new Tr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wp(t,e,n){return new Tr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return hd(gi(t),gi(e))&&t.limitType===e.limitType}function tb(t){return`${xl(gi(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XP(s)).join(", ")}]`),ud(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>oa(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>oa(s)).join(",")),`Target(${i})`}(gi(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):oe.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Vc(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(o,l,c){const a=ZT(o,l,c);return o.inclusive?a<=0:a<0}(i.startAt,Vc(i),s)||i.endAt&&!function(o,l,c){const a=ZT(o,l,c);return o.inclusive?a>=0:a>0}(i.endAt,Vc(i),s))}(t,e)}function nb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ib(t){return(e,n)=>{let i=!1;for(const s of Vc(t)){const r=vz(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function vz(t,e,n){const i=t.field.isKeyField()?oe.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),a=l.data.field(r);return c!==null&&a!==null?So(c,a):ve()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$l(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return UP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Yt(oe.comparator);function Ci(){return yz}const sb=new Yt(oe.comparator);function Ru(...t){let e=sb;for(const n of t)e=e.insert(n.key,n);return e}function rb(t){let e=sb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ds(){return Wu()}function ob(){return Wu()}function Wu(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sz=new Yt(oe.comparator),wz=new Rt(oe.comparator);function Ke(...t){let e=wz;for(const n of t)e=e.add(n);return e}const xz=new Rt(Ge);function rS(){return xz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function cb(t){return{integerValue:""+t}}function ab(t,e){return MP(e)?cb(e):lb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function Tz(t,e,n){return t instanceof ca?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&lg(r)&&(r=nS(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):t instanceof Tl?hb(t,e):t instanceof Il?db(t,e):function(s,r){const o=ub(s,r),l=sI(o)+sI(s.Ie);return O1(o)&&O1(s.Ie)?cb(l):lb(s.serializer,l)}(t,e)}function Iz(t,e,n){return t instanceof Tl?hb(t,e):t instanceof Il?db(t,e):n}function ub(t,e){return t instanceof aa?function(i){return O1(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class ca extends cg{}class Tl extends cg{constructor(e){super(),this.elements=e}}function hb(t,e){const n=fb(e);for(const i of t.elements)n.some(s=>Bs(s,i))||n.push(i);return{arrayValue:{values:n}}}class Il extends cg{constructor(e){super(),this.elements=e}}function db(t,e){let n=fb(e);for(const i of t.elements)n=n.filter(s=>!Bs(s,i));return{arrayValue:{values:n}}}class aa extends cg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function sI(t){return sn(t.integerValue||t.doubleValue)}function fb(t){return zh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.field=e,this.transform=n}}function Ez(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Tl&&s instanceof Tl||i instanceof Il&&s instanceof Il?ra(i.elements,s.elements,Bs):i instanceof aa&&s instanceof aa?Bs(i.Ie,s.Ie):i instanceof ca&&s instanceof ca}(t.transform,e.transform)}class Cz{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ag{}function pb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new La(t.key,$t.none()):new Da(t.key,t.data,$t.none());{const n=t.data,i=Kn.empty();let s=new Rt(Bt.comparator);for(let r of e.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Ir(t.key,i,new Ei(s.toArray()),$t.none())}}function kz(t,e,n){t instanceof Da?function(s,r,o){const l=s.value.clone(),c=oI(s.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(s,r,o){if(!Qf(s.precondition,r))return void r.convertToUnknownDocument(o.version);const l=oI(s.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(mb(s)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hu(t,e,n,i){return t instanceof Da?function(r,o,l,c){if(!Qf(r.precondition,o))return l;const a=r.value.clone(),h=lI(r.fieldTransforms,c,o);return a.setAll(h),o.convertToFoundDocument(o.version,a).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ir?function(r,o,l,c){if(!Qf(r.precondition,o))return l;const a=lI(r.fieldTransforms,c,o),h=o.data;return h.setAll(mb(r)),h.setAll(a),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(r,o,l){return Qf(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Rz(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=ub(i.transform,s||null);r!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,r))}return n||null}function rI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ra(i,s,(r,o)=>Ez(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Da extends ag{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ir extends ag{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function mb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function oI(t,e,n){const i=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,l=e.data.field(r.field);i.set(r.field,Iz(o,l,n[s]))}return i}function lI(t,e,n){const i=new Map;for(const s of t){const r=s.transform,o=n.data.field(s.field);i.set(s.field,Tz(r,o,e))}return i}class La extends ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oS extends ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&kz(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ob();return this.mutations.forEach(s=>{const r=e.get(s.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(s.key)?null:l;const c=pb(o,l);c!==null&&i.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,i)=>rI(n,i))&&ra(this.baseMutations,e.baseMutations,(n,i)=>rI(n,i))}}class cS{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ke(e.mutations.length===i.length);let s=function(){return Sz}();const r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new cS(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,dt;function gb(t){switch(t){default:return ve();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function _b(t){if(t===void 0)return fn("GRPC error has no .code"),N.UNKNOWN;switch(t){case gn.OK:return N.OK;case gn.CANCELLED:return N.CANCELLED;case gn.UNKNOWN:return N.UNKNOWN;case gn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case gn.INTERNAL:return N.INTERNAL;case gn.UNAVAILABLE:return N.UNAVAILABLE;case gn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case gn.NOT_FOUND:return N.NOT_FOUND;case gn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case gn.ABORTED:return N.ABORTED;case gn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case gn.DATA_LOSS:return N.DATA_LOSS;default:return ve()}}(dt=gn||(gn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new zc([4294967295,4294967295],0);function cI(t){const e=vb().encode(t),n=new IM;return n.update(e),new Uint8Array(n.digest())}function aI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new zc([n,i],0),new zc([s,r],0)]}class uS{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(i<0)throw new Pu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zc.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(zc.fromNumber(i)));return s.compare(bz)===1&&(s=new zc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=cI(e),[i,s]=aI(n);for(let r=0;r<this.hashCount;r++){const o=this.de(i,s,r);if(!this.Ae(o))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new uS(r,s,n);return i.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=cI(e),[i,s]=aI(n);for(let r=0;r<this.hashCount;r++){const o=this.de(i,s,r);this.Re(o)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new md(Pe.min(),s,new Yt(Ge),Ci(),Ke())}}class gd{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new gd(i,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class yb{constructor(e,n){this.targetId=e,this.fe=n}}class Sb{constructor(e,n,i=Cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class uI{constructor(){this.ge=0,this.pe=dI(),this.ye=Cn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ke(),n=Ke(),i=Ke();return this.pe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ve()}}),new gd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=dI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Az{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ci(),this.Qe=hI(),this.Ke=new Yt(Ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const r=s.target;if(Up(r))if(i===0){const o=new oe(r.path);this.We(n,o,Lt.newNoDocument(o,Pe.min()))}else ke(i===1);else{const o=this.Ze(n);if(o!==i){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const a=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,a)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let o,l;try{o=vo(i).toUint8Array()}catch(c){if(c instanceof qP)return ws("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new uS(o,s,r)}catch(c){return ws(c instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Be.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const o=this.Be.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((r,o)=>{const l=this.Ye(o);if(l){if(r.current&&Up(l.target)){const c=new oe(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Lt.newNoDocument(c,e))}r.De&&(n.set(o,r.ve()),r.Fe())}});let i=Ke();this.Qe.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const a=this.Ye(c);return!a||a.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.qe.forEach((r,o)=>o.setReadTime(e));const s=new md(e,n,this.Ke,this.qe,i);return this.qe=Ci(),this.Qe=hI(),this.Ke=new Yt(Ge),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new uI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Rt(Ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new uI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function hI(){return new Yt(oe.comparator)}function dI(){return new Yt(oe.comparator)}const Nz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Dz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Lz=(()=>({and:"AND",or:"OR"}))();class jz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B1(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function ua(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oz(t,e){return ua(t,e.toTimestamp())}function pn(t){return ke(!!t),Pe.fromTimestamp(function(n){const i=mr(n);return new Ut(i.seconds,i.nanos)}(t))}function hS(t,e){return $1(t,e).canonicalString()}function $1(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xb(t){const e=ot.fromString(t);return ke(Nb(e)),e}function Fh(t,e){return hS(t.databaseId,e.path)}function zs(t,e){const n=xb(e);if(n.get(1)!==t.databaseId.projectId)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Eb(n))}function Tb(t,e){return hS(t.databaseId,e)}function Ib(t){const e=xb(t);return e.length===4?ot.emptyPath():Eb(e)}function U1(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Eb(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fI(t,e,n){return{name:Fh(t,e),fields:n.value.mapValue.fields}}function Cb(t,e,n){const i=zs(t,e.name),s=pn(e.updateTime),r=e.createTime?pn(e.createTime):Pe.min(),o=new Kn({mapValue:{fields:e.fields}}),l=Lt.newFoundDocument(i,s,r,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Mz(t,e){return"found"in e?function(i,s){ke(!!s.found),s.found.name,s.found.updateTime;const r=zs(i,s.found.name),o=pn(s.found.updateTime),l=s.found.createTime?pn(s.found.createTime):Pe.min(),c=new Kn({mapValue:{fields:s.found.fields}});return Lt.newFoundDocument(r,o,l,c)}(t,e):"missing"in e?function(i,s){ke(!!s.missing),ke(!!s.readTime);const r=zs(i,s.missing),o=pn(s.readTime);return Lt.newNoDocument(r,o)}(t,e):ve()}function zz(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(a,h){return a.useProto3Json?(ke(h===void 0||typeof h=="string"),Cn.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Cn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(a){const h=a.code===void 0?N.UNKNOWN:_b(a.code);return new q(h,a.message||"")}(o);n=new Sb(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=zs(t,i.document.name),r=pn(i.document.updateTime),o=i.document.createTime?pn(i.document.createTime):Pe.min(),l=new Kn({mapValue:{fields:i.document.fields}}),c=Lt.newFoundDocument(s,r,o,l),a=i.targetIds||[],h=i.removedTargetIds||[];n=new Yf(a,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=zs(t,i.document),r=i.readTime?pn(i.readTime):Pe.min(),o=Lt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Yf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=zs(t,i.document),r=i.removedTargetIds||[];n=new Yf([],r,s,null)}else{if(!("filter"in e))return ve();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new Pz(s,r),l=i.targetId;n=new yb(l,o)}}return n}function Bh(t,e){let n;if(e instanceof Da)n={update:fI(t,e.key,e.value)};else if(e instanceof La)n={delete:Fh(t,e.key)};else if(e instanceof Ir)n={update:fI(t,e.key,e.data),updateMask:qz(e.fieldMask)};else{if(!(e instanceof oS))return ve();n={verify:Fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof ca)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof aa)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ve()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Oz(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ve()}(t,e.precondition)),n}function q1(t,e){const n=e.currentDocument?function(r){return r.updateTime!==void 0?$t.updateTime(pn(r.updateTime)):r.exists!==void 0?$t.exists(r.exists):$t.none()}(e.currentDocument):$t.none(),i=e.updateTransforms?e.updateTransforms.map(s=>function(o,l){let c=null;if("setToServerValue"in l)ke(l.setToServerValue==="REQUEST_TIME"),c=new ca;else if("appendMissingElements"in l){const h=l.appendMissingElements.values||[];c=new Tl(h)}else if("removeAllFromArray"in l){const h=l.removeAllFromArray.values||[];c=new Il(h)}else"increment"in l?c=new aa(o,l.increment):ve();const a=Bt.fromServerFormat(l.fieldPath);return new pd(a,c)}(t,s)):[];if(e.update){e.update.name;const s=zs(t,e.update.name),r=new Kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const a=c.fieldPaths||[];return new Ei(a.map(h=>Bt.fromServerFormat(h)))}(e.updateMask);return new Ir(s,r,o,n,i)}return new Da(s,r,n,i)}if(e.delete){const s=zs(t,e.delete);return new La(s,n)}if(e.verify){const s=zs(t,e.verify);return new oS(s,n)}return ve()}function Vz(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,r){let o=s.updateTime?pn(s.updateTime):pn(r);return o.isEqual(Pe.min())&&(o=pn(r)),new Cz(o,s.transformResults||[])}(n,e))):[]}function kb(t,e){return{documents:[Tb(t,e.path)]}}function Rb(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Tb(t,s);const r=function(a){if(a.length!==0)return Ab(Tt.create(a,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(a){if(a.length!==0)return a.map(h=>function(p){return{field:uc(p.field),direction:Bz(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=B1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),{ut:n,parent:s}}function Pb(t){let e=Ib(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ke(i===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(f){const p=bb(f);return p instanceof Tt&&iS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Vh(hc(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,ud(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new wo(m,p)}(n.startAt));let a=null;return n.endAt&&(a=function(f){const p=!f.before,m=f.values||[];return new wo(m,p)}(n.endAt)),eb(e,s,o,r,l,"F",c,a)}function Fz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hc(n.unaryFilter.field);return lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=hc(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hc(n.unaryFilter.field);return lt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hc(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(hc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tt.create(n.compositeFilter.filters.map(i=>bb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function Bz(t){return Nz[t]}function $z(t){return Dz[t]}function Uz(t){return Lz[t]}function uc(t){return{fieldPath:t.canonicalString()}}function hc(t){return Bt.fromServerFormat(t.fieldPath)}function Ab(t){return t instanceof lt?function(n){if(n.op==="=="){if(YT(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NAN"}};if(QT(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YT(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NAN"}};if(QT(n.value))return{unaryFilter:{field:uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(n.field),op:$z(n.op),value:n.value}}}(t):t instanceof Tt?function(n){const i=n.getFilters().map(s=>Ab(s));return i.length===1?i[0]:{compositeFilter:{op:Uz(n.op),filters:i}}}(t):ve()}function qz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i,s,r=Pe.min(),o=Pe.min(),l=Cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.ct=e}}function Wz(t,e){let n;if(e.document)n=Cb(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=oe.fromSegments(e.noDocument.path),s=Cl(e.noDocument.readTime);n=Lt.newNoDocument(i,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const i=oe.fromSegments(e.unknownDocument.path),s=Cl(e.unknownDocument.version);n=Lt.newUnknownDocument(i,s)}}return e.readTime&&n.setReadTime(function(s){const r=new Ut(s[0],s[1]);return Pe.fromTimestamp(r)}(e.readTime)),n}function pI(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Hp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(r,o){return{name:Fh(r,o.key),fields:o.data.value.mapValue.fields,updateTime:ua(r,o.version.toTimestamp()),createTime:ua(r,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return ve();i.unknownDocument={path:n.path.toArray(),version:El(e.version)}}return i}function Hp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function El(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cl(t){const e=new Ut(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function Ho(t,e){const n=(e.baseMutations||[]).map(r=>q1(t.ct,r));for(let r=0;r<e.mutations.length-1;++r){const o=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){const l=e.mutations[r+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}const i=e.mutations.map(r=>q1(t.ct,r)),s=Ut.fromMillis(e.localWriteTimeMs);return new lS(e.batchId,s,n,i)}function bu(t){const e=Cl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Cl(t.lastLimboFreeSnapshotVersion):Pe.min();let i;return i=function(r){return r.documents!==void 0}(t.query)?function(r){return ke(r.documents.length===1),gi(Na(Ib(r.documents[0])))}(t.query):function(r){return gi(Pb(r))}(t.query),new er(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Cn.fromBase64String(t.resumeToken))}function Lb(t,e){const n=El(e.snapshotVersion),i=El(e.lastLimboFreeSnapshotVersion);let s;s=Up(e.target)?kb(t.ct,e.target):Rb(t.ct,e.target).ut;const r=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:n,resumeToken:r,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function dS(t){const e=Pb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wp(e,e.limit,"L"):e}function P_(t,e){return new aS(e.largestBatchId,q1(t.ct,e.overlayMutation))}function mI(t,e){const n=e.path.lastSegment();return[t,mi(e.path.popLast()),n]}function gI(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:El(i.readTime),documentKey:mi(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{getBundleMetadata(e,n){return _I(e).get(n).next(i=>{if(i)return function(r){return{id:r.bundleId,createTime:Cl(r.createTime),version:r.version}}(i)})}saveBundleMetadata(e,n){return _I(e).put(function(s){return{bundleId:s.id,createTime:El(pn(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return vI(e).get(n).next(i=>{if(i)return function(r){return{name:r.name,query:dS(r.bundledQuery),readTime:Cl(r.readTime)}}(i)})}saveNamedQuery(e,n){return vI(e).put(function(s){return{name:s.name,readTime:El(pn(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function _I(t){return zn(t,"bundles")}function vI(t){return zn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const i=n.uid||"";return new ug(e,i)}getOverlay(e,n){return ru(e).get(mI(this.userId,n)).next(i=>i?P_(this.serializer,i):null)}getOverlays(e,n){const i=Ds();return b.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){const s=[];return i.forEach((r,o)=>{const l=new aS(n,o);s.push(this.ht(e,l))}),b.waitFor(s)}removeOverlaysForBatchId(e,n,i){const s=new Set;n.forEach(o=>s.add(mi(o.getCollectionPath())));const r=[];return s.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);r.push(ru(e).H("collectionPathOverlayIndex",l))}),b.waitFor(r)}getOverlaysForCollection(e,n,i){const s=Ds(),r=mi(n),o=IDBKeyRange.bound([this.userId,r,i],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ru(e).W("collectionPathOverlayIndex",o).next(l=>{for(const c of l){const a=P_(this.serializer,c);s.set(a.getKey(),a)}return s})}getOverlaysForCollectionGroup(e,n,i,s){const r=Ds();let o;const l=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ru(e).Y({index:"collectionGroupOverlayIndex",range:l},(c,a,h)=>{const f=P_(this.serializer,a);r.size()<s||f.largestBatchId===o?(r.set(f.getKey(),f),o=f.largestBatchId):h.done()}).next(()=>r)}ht(e,n){return ru(e).put(function(s,r,o){const[l,c,a]=mI(r,o.mutation.key);return{userId:r,collectionPath:c,documentId:a,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Bh(s.ct,o.mutation)}}(this.serializer,this.userId,n))}}function ru(t){return zn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(sn(e.integerValue));else if("doubleValue"in e){const i=sn(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),jh(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=mr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(vo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?WP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ve()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const i=e.fields||{};this.Et(n,55);for(const s of Object.keys(i))this.Rt(s,n),this.It(i[s],n)}wt(e,n){const i=e.values||[];this.Et(n,50);for(const s of i)this.It(s,n)}gt(e,n){this.Et(n,37),oe.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Go.bt=new Go;function Gz(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function yI(t){const e=64-function(i){let s=0;for(let r=0;r<8;++r){const o=Gz(255&i[r]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class Kz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{const s=n.codePointAt(0);this.Ct(240|s>>>18),this.Ct(128|63&s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s)}}this.vt()}Nt(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{const s=n.codePointAt(0);this.Mt(240|s>>>18),this.Mt(128|63&s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s)}}this.xt()}Lt(e){const n=this.Bt(e),i=yI(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let s=n.length-i;s<n.length;++s)this.buffer[this.position++]=255&n[s]}qt(e){const n=this.Bt(e),i=yI(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let s=n.length-i;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let s=1;s<n.length;++s)n[s]^=i?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class Qz{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Yz{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ou{constructor(){this.Gt=new Kz,this.zt=new Qz(this.Gt),this.jt=new Yz(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,i,s){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=s}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ko(this.indexId,this.documentKey,this.arrayValue,i)}}function br(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=SI(t.arrayValue,e.arrayValue),n!==0?n:(n=SI(t.directionalValue,e.directionalValue),n!==0?n:oe.comparator(t.documentKey,e.documentKey)))}function SI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.Yt=new Rt((n,i)=>Bt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(ke(e.collectionGroup===this.collectionId),this.en)return!1;const n=N1(e);if(n!==void 0&&!this.nn(n))return!1;const i=Uo(e);let s=new Set,r=0,o=0;for(;r<i.length&&this.nn(i[r]);++r)s=s.add(i[r].fieldPath.canonicalString());if(r===i.length)return!0;if(this.Yt.size>0){const l=this.Yt.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=i[r];if(!this.rn(l,c)||!this.sn(this.Zt[o++],c))return!1}++r}for(;r<i.length;++r){const l=i[r];if(o>=this.Zt.length||!this.sn(this.Zt[o++],l))return!1}return!0}on(){if(this.en)return null;let e=new Rt(Bt.comparator);const n=[];for(const i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Wf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new Wf(i.field,0))}for(const i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new Wf(i.field,i.dir==="asc"?0:1)));return new $p($p.UNKNOWN_ID,this.collectionId,n,Lh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){var e,n;if(ke(t instanceof lt||t instanceof Tt),t instanceof lt){if(t instanceof ZP){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(r=>lt.create(t.field,"==",r)))||[];return Tt.create(s,"or")}return t}const i=t.filters.map(s=>jb(s));return Tt.create(i,t.op)}function Xz(t){if(t.getFilters().length===0)return[];const e=G1(jb(t));return ke(Ob(e)),W1(e)||H1(e)?[e]:e.getFilters()}function W1(t){return t instanceof lt}function H1(t){return t instanceof Tt&&iS(t)}function Ob(t){return W1(t)||H1(t)||function(n){if(n instanceof Tt&&M1(n)){for(const i of n.getFilters())if(!W1(i)&&!H1(i))return!1;return!0}return!1}(t)}function G1(t){if(ke(t instanceof lt||t instanceof Tt),t instanceof lt)return t;if(t.filters.length===1)return G1(t.filters[0]);const e=t.filters.map(i=>G1(i));let n=Tt.create(e,t.op);return n=Gp(n),Ob(n)?n:(ke(n instanceof Tt),ke(la(n)),ke(n.filters.length>1),n.filters.reduce((i,s)=>fS(i,s)))}function fS(t,e){let n;return ke(t instanceof lt||t instanceof Tt),ke(e instanceof lt||e instanceof Tt),n=t instanceof lt?e instanceof lt?function(s,r){return Tt.create([s,r],"and")}(t,e):xI(t,e):e instanceof lt?xI(e,t):function(s,r){if(ke(s.filters.length>0&&r.filters.length>0),la(s)&&la(r))return YP(s,r.getFilters());const o=M1(s)?s:r,l=M1(s)?r:s,c=o.filters.map(a=>fS(a,l));return Tt.create(c,"or")}(t,e),Gp(n)}function xI(t,e){if(la(e))return YP(e,t.getFilters());{const n=e.filters.map(i=>fS(t,i));return Tt.create(n,"or")}}function Gp(t){if(ke(t instanceof lt||t instanceof Tt),t instanceof lt)return t;const e=t.getFilters();if(e.length===1)return Gp(e[0]);if(KP(t))return t;const n=e.map(s=>Gp(s)),i=[];return n.forEach(s=>{s instanceof lt?i.push(s):s instanceof Tt&&(s.op===t.op?i.push(...s.filters):i.push(s))}),i.length===1?i[0]:Tt.create(i,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this._n=new pS}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Fi.min())}updateCollectionGroup(e,n,i){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class pS{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Rt(ot.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Uint8Array(0);class Zz{constructor(e,n){this.databaseId=n,this.an=new pS,this.un=new Lo(i=>xl(i),(i,s)=>hd(i,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const i=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const r={collectionId:i,parent:mi(s)};return TI(e).put(r)}return b.resolve()}getCollectionParents(e,n){const i=[],s=IDBKeyRange.bound([n,""],[NP(n),""],!1,!0);return TI(e).W(s).next(r=>{for(const o of r){if(o.collectionId!==n)break;i.push(Ns(o.parent))}return i})}addFieldIndex(e,n){const i=lu(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete s.indexId;const r=i.add(s);if(n.indexState){const o=ec(e);return r.next(l=>{o.put(gI(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return r.next()}deleteFieldIndex(e,n){const i=lu(e),s=ec(e),r=Zl(e);return i.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=lu(e),i=Zl(e),s=ec(e);return n.H().next(()=>i.H()).next(()=>s.H())}createTargetIndexes(e,n){return b.forEach(this.cn(n),i=>this.getIndexType(e,i).next(s=>{if(s===0||s===1){const r=new wI(i).on();if(r!=null)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,n){const i=Zl(e);let s=!0;const r=new Map;return b.forEach(this.cn(n),o=>this.ln(e,o).next(l=>{s&&(s=!!l),r.set(o,l)})).next(()=>{if(s){let o=Ke();const l=[];return b.forEach(r,(c,a)=>{W("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(c)} to execute ${xl(n)}`);const h=function(w,T){const I=N1(T);if(I===void 0)return null;for(const x of qp(w,I.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null}(a,c),f=function(w,T){const I=new Map;for(const x of Uo(T))for(const E of qp(w,x.fieldPath))switch(E.op){case"==":case"in":I.set(x.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return I.set(x.fieldPath.canonicalString(),E.value),Array.from(I.values())}return null}(a,c),p=function(w,T){const I=[];let x=!0;for(const E of Uo(T)){const k=E.kind===0?tI(w,E.fieldPath,w.startAt):nI(w,E.fieldPath,w.startAt);I.push(k.value),x&&(x=k.inclusive)}return new wo(I,x)}(a,c),m=function(w,T){const I=[];let x=!0;for(const E of Uo(T)){const k=E.kind===0?nI(w,E.fieldPath,w.endAt):tI(w,E.fieldPath,w.endAt);I.push(k.value),x&&(x=k.inclusive)}return new wo(I,x)}(a,c),_=this.hn(c,a,p),g=this.hn(c,a,m),S=this.Pn(c,a,f),v=this.In(c.indexId,h,_,p.inclusive,g,m.inclusive,S);return b.forEach(v,y=>i.j(y,n.limit).next(w=>{w.forEach(T=>{const I=oe.fromSegments(T.documentKey);o.has(I)||(o=o.add(I),l.push(I))})}))}).next(()=>l)}return b.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Xz(Tt.create(e.filters,"and")).map(i=>V1(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,s,r,o,l){const c=(n!=null?n.length:1)*Math.max(i.length,r.length),a=c/(n!=null?n.length:1),h=[];for(let f=0;f<c;++f){const p=n?this.Tn(n[f/a]):af,m=this.En(e,p,i[f%a],s),_=this.dn(e,p,r[f%a],o),g=l.map(S=>this.En(e,p,S,!0));h.push(...this.createRange(m,_,g))}return h}En(e,n,i,s){const r=new Ko(e,oe.empty(),n,i);return s?r:r.Jt()}dn(e,n,i,s){const r=new Ko(e,oe.empty(),n,i);return s?r.Jt():r}ln(e,n){const i=new wI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(r=>{let o=null;for(const l of r)i.tn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,n){let i=2;const s=this.cn(n);return b.forEach(s,r=>this.ln(e,r).next(o=>{o?i!==0&&o.fields.length<function(c){let a=new Rt(Bt.comparator),h=!1;for(const f of c.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?h=!0:a=a.add(p.field));for(const f of c.orderBy)f.field.isKeyField()||(a=a.add(f.field));return a.size+(h?1:0)}(r)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&i===2?1:i)}An(e,n){const i=new ou;for(const s of Uo(e)){const r=n.data.field(s.fieldPath);if(r==null)return null;const o=i.Ht(s.kind);Go.bt.Pt(r,o)}return i.Wt()}Tn(e){const n=new ou;return Go.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const i=new ou;return Go.bt.Pt(wl(this.databaseId,n),i.Ht(function(r){const o=Uo(r);return o.length===0?0:o[o.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let s=[];s.push(new ou);let r=0;for(const o of Uo(e)){const l=i[r++];for(const c of s)if(this.Vn(n,o.fieldPath)&&zh(l))s=this.mn(s,o,l);else{const a=c.Ht(o.kind);Go.bt.Pt(l,a)}}return this.fn(s)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){const s=[...e],r=[];for(const o of i.arrayValue.values||[])for(const l of s){const c=new ou;c.seed(l.Wt()),Go.bt.Pt(o,c.Ht(n.kind)),r.push(c)}return r}Vn(e,n){return!!e.filters.find(i=>i instanceof lt&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){const i=lu(e),s=ec(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(r=>{const o=[];return b.forEach(r,l=>s.get([l.indexId,this.uid]).next(c=>{o.push(function(h,f){const p=f?new Lh(f.sequenceNumber,new Fi(Cl(f.readTime),new oe(Ns(f.documentKey)),f.largestBatchId)):Lh.empty(),m=h.fields.map(([_,g])=>new Wf(Bt.fromServerFormat(_),g));return new $p(h.indexId,h.collectionGroup,m,p)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,s)=>{const r=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return r!==0?r:Ge(i.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const s=lu(e),r=ec(e);return this.gn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>b.forEach(l,c=>r.put(gI(c.indexId,this.uid,o,i)))))}updateIndexEntries(e,n){const i=new Map;return b.forEach(n,(s,r)=>{const o=i.get(s.collectionGroup);return(o?b.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(i.set(s.collectionGroup,l),b.forEach(l,c=>this.pn(e,s,c).next(a=>{const h=this.yn(r,c);return a.isEqual(h)?b.resolve():this.wn(e,r,c,a,h)}))))})}Sn(e,n,i,s){return Zl(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,s){return Zl(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){const s=Zl(e);let r=new Rt(br);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(o,l)=>{r=r.add(new Ko(i.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>r)}yn(e,n){let i=new Rt(br);const s=this.An(n,e);if(s==null)return i;const r=N1(n);if(r!=null){const o=e.data.field(r.fieldPath);if(zh(o))for(const l of o.arrayValue.values||[])i=i.add(new Ko(n.indexId,e.key,this.Tn(l),s))}else i=i.add(new Ko(n.indexId,e.key,af,s));return i}wn(e,n,i,s,r){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,a,h,f,p){const m=c.getIterator(),_=a.getIterator();let g=Jl(m),S=Jl(_);for(;g||S;){let v=!1,y=!1;if(g&&S){const w=h(g,S);w<0?y=!0:w>0&&(v=!0)}else g!=null?y=!0:v=!0;v?(f(S),S=Jl(_)):y?(p(g),g=Jl(m)):(g=Jl(m),S=Jl(_))}}(s,r,br,l=>{o.push(this.Sn(e,n,i,l))},l=>{o.push(this.bn(e,n,i,l))}),b.waitFor(o)}gn(e){let n=1;return ec(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,r)=>{r.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((o,l)=>br(o,l)).filter((o,l,c)=>!l||br(o,c[l-1])!==0);const s=[];s.push(e);for(const o of i){const l=br(o,e),c=br(o,n);if(l===0)s[0]=e.Jt();else if(l>0&&c<0)s.push(o),s.push(o.Jt());else if(c>0)break}s.push(n);const r=[];for(let o=0;o<s.length;o+=2){if(this.Dn(s[o],s[o+1]))return[];const l=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,af,[]],c=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,af,[]];r.push(IDBKeyRange.bound(l,c))}return r}Dn(e,n){return br(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(II)}getMinOffset(e,n){return b.mapArray(this.cn(n),i=>this.ln(e,i).next(s=>s||ve())).next(II)}}function TI(t){return zn(t,"collectionParents")}function Zl(t){return zn(t,"indexEntries")}function lu(t){return zn(t,"indexConfiguration")}function ec(t){return zn(t,"indexState")}function II(t){ke(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const s=t[i].indexState.offset;eS(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Fi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wi{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e,n){const i=t.store("mutations"),s=t.store("documentMutations"),r=[],o=IDBKeyRange.only(n.batchId);let l=0;const c=i.Y({range:o},(h,f,p)=>(l++,p.delete()));r.push(c.next(()=>{ke(l===1)}));const a=[];for(const h of n.mutations){const f=zP(e,h.key.path,n.batchId);r.push(s.delete(f)),a.push(h.key)}return b.waitFor(r).next(()=>a)}function Kp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(41943040,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);class hg{constructor(e,n,i,s){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=s,this.Cn={}}static lt(e,n,i,s){ke(e.uid!=="");const r=e.isAuthenticated()?e.uid:"";return new hg(r,n,i,s)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).Y({index:"userMutationsIndex",range:i},(s,r,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,i,s){const r=dc(e),o=Ar(e);return o.add({}).next(l=>{ke(typeof l=="number");const c=new lS(l,n,i,s),a=function(m,_,g){const S=g.baseMutations.map(y=>Bh(m.ct,y)),v=g.mutations.map(y=>Bh(m.ct,y));return{userId:_,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:S,mutations:v}}(this.serializer,this.userId,c),h=[];let f=new Rt((p,m)=>Ge(p.canonicalString(),m.canonicalString()));for(const p of s){const m=zP(this.userId,p.key.path,l);f=f.add(p.key.path.popLast()),h.push(o.put(a)),h.push(r.put(m,BM))}return f.forEach(p=>{h.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[l]=c.keys()}),b.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return Ar(e).get(n).next(i=>i?(ke(i.userId===this.userId),Ho(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?b.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const s=i.keys();return this.Cn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]);let r=null;return Ar(e).Y({index:"userMutationsIndex",range:s},(o,l,c)=>{l.userId===this.userId&&(ke(l.batchId>=i),r=Ho(this.serializer,l)),c.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ar(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,r,o)=>{i=r.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).W("userMutationsIndex",n).next(i=>i.map(s=>Ho(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=Hf(this.userId,n.path),s=IDBKeyRange.lowerBound(i),r=[];return dc(e).Y({range:s},(o,l,c)=>{const[a,h,f]=o,p=Ns(h);if(a===this.userId&&n.path.isEqual(p))return Ar(e).get(f).next(m=>{if(!m)throw ve();ke(m.userId===this.userId),r.push(Ho(this.serializer,m))});c.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Rt(Ge);const s=[];return n.forEach(r=>{const o=Hf(this.userId,r.path),l=IDBKeyRange.lowerBound(o),c=dc(e).Y({range:l},(a,h,f)=>{const[p,m,_]=a,g=Ns(m);p===this.userId&&r.path.isEqual(g)?i=i.add(_):f.done()});s.push(c)}),b.waitFor(s).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1,r=Hf(this.userId,i),o=IDBKeyRange.lowerBound(r);let l=new Rt(Ge);return dc(e).Y({range:o},(c,a,h)=>{const[f,p,m]=c,_=Ns(p);f===this.userId&&i.isPrefixOf(_)?_.length===s&&(l=l.add(m)):h.done()}).next(()=>this.Fn(e,l))}Fn(e,n){const i=[],s=[];return n.forEach(r=>{s.push(Ar(e).get(r).next(o=>{if(o===null)throw ve();ke(o.userId===this.userId),i.push(Ho(this.serializer,o))}))}),b.waitFor(s).next(()=>i)}removeMutationBatch(e,n){return Mb(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),b.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return b.resolve();const i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return dc(e).Y({range:i},(r,o,l)=>{if(r[0]===this.userId){const c=Ns(r[1]);s.push(c)}else l.done()}).next(()=>{ke(s.length===0)})})}containsKey(e,n){return zb(e,this.userId,n)}xn(e){return Vb(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zb(t,e,n){const i=Hf(e,n.path),s=i[1],r=IDBKeyRange.lowerBound(i);let o=!1;return dc(t).Y({range:r,J:!0},(l,c,a)=>{const[h,f,p]=l;h===e&&f===s&&(o=!0),a.done()}).next(()=>o)}function Ar(t){return zn(t,"mutations")}function dc(t){return zn(t,"documentMutations")}function Vb(t){return zn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new kl(0)}static Ln(){return new kl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const i=new kl(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Pe.fromTimestamp(new Ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.kn(e,s)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>tc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(ke(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let s=0;const r=[];return tc(e).Y((o,l)=>{const c=bu(l);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(s++,r.push(this.removeTargetData(e,c)))}).next(()=>b.waitFor(r)).next(()=>s)}forEachTarget(e,n){return tc(e).Y((i,s)=>{const r=bu(s);n(r)})}Bn(e){return CI(e).get("targetGlobalKey").next(n=>(ke(n!==null),n))}kn(e,n){return CI(e).put("targetGlobalKey",n)}qn(e,n){return tc(e).put(Lb(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const i=xl(n),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let r=null;return tc(e).Y({range:s,index:"queryTargetsIndex"},(o,l,c)=>{const a=bu(l);hd(n,a.target)&&(r=a,c.done())}).next(()=>r)}addMatchingKeys(e,n,i){const s=[],r=$r(e);return n.forEach(o=>{const l=mi(o.path);s.push(r.put({targetId:i,path:l})),s.push(this.referenceDelegate.addReference(e,i,o))}),b.waitFor(s)}removeMatchingKeys(e,n,i){const s=$r(e);return b.forEach(n,r=>{const o=mi(r.path);return b.waitFor([s.delete([i,o]),this.referenceDelegate.removeReference(e,i,r)])})}removeMatchingKeysForTargetId(e,n){const i=$r(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),s=$r(e);let r=Ke();return s.Y({range:i,J:!0},(o,l,c)=>{const a=Ns(o[1]),h=new oe(a);r=r.add(h)}).next(()=>r)}containsKey(e,n){const i=mi(n.path),s=IDBKeyRange.bound([i],[NP(i)],!1,!0);let r=0;return $r(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,l],c,a)=>{o!==0&&(r++,a.done())}).next(()=>r>0)}_t(e,n){return tc(e).get(n).next(i=>i?bu(i):null)}}function tc(t){return zn(t,"targets")}function CI(t){return zn(t,"targetGlobal")}function $r(t){return zn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI([t,e],[n,i]){const s=Ge(t,n);return s===0?Ge(e,i):s}class tV{constructor(e){this.Kn=e,this.buffer=new Rt(kI),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();kI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.zn(3e5)})}}class iV{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return b.resolve(Ii._e);const i=new tV(n);return this.jn.forEachTarget(e,s=>i.Wn(s.sequenceNumber)).next(()=>this.jn.Jn(e,s=>i.Wn(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(EI)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EI):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,s,r,o,l,c,a;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(i=f,l=Date.now(),this.removeTargets(e,i,n))).next(f=>(r=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(a=Date.now(),cc()<=Ze.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(a-c)+`ms
Total Duration: ${a-h}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:f})))}}function sV(t,e){return new iV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.db=e,this.garbageCollector=sV(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,s)=>n(s))}addReference(e,n,i){return uf(e,i)}removeReference(e,n,i){return uf(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return uf(e,n)}er(e,n){return function(s,r){let o=!1;return Vb(s).Z(l=>zb(s,l,r).next(c=>(c&&(o=!0),b.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let r=0;return this.Xn(e,(o,l)=>{if(l<=n){const c=this.er(e,o).next(a=>{if(!a)return r++,i.getEntry(e,o).next(()=>(i.removeEntry(o,Pe.min()),$r(e).delete(function(f){return[0,mi(f.path)]}(o))))});s.push(c)}}).next(()=>b.waitFor(s)).next(()=>i.apply(e)).next(()=>r)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return uf(e,n)}Xn(e,n){const i=$r(e);let s,r=Ii._e;return i.Y({index:"documentTargetsIndex"},([o,l],{path:c,sequenceNumber:a})=>{o===0?(r!==Ii._e&&n(new oe(Ns(s)),r),r=a,s=c):r=Ii._e}).next(()=>{r!==Ii._e&&n(new oe(Ns(s)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uf(t,e){return $r(t).put(function(i,s){return{targetId:0,path:mi(i.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?b.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Oo(e).put(i)}removeEntry(e,n,i){return Oo(e).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Hp(o),l[l.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=Lt.newInvalidDocument(n);return Oo(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(cu(n))},(s,r)=>{i=this.nr(n,r)}).next(()=>i)}rr(e,n){let i={size:0,document:Lt.newInvalidDocument(n)};return Oo(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(cu(n))},(s,r)=>{i={document:this.nr(n,r),size:Kp(r)}}).next(()=>i)}getEntries(e,n){let i=Ci();return this.ir(e,n,(s,r)=>{const o=this.nr(s,r);i=i.insert(s,o)}).next(()=>i)}sr(e,n){let i=Ci(),s=new Yt(oe.comparator);return this.ir(e,n,(r,o)=>{const l=this.nr(r,o);i=i.insert(r,l),s=s.insert(r,Kp(o))}).next(()=>({documents:i,_r:s}))}ir(e,n,i){if(n.isEmpty())return b.resolve();let s=new Rt(bI);n.forEach(c=>s=s.add(c));const r=IDBKeyRange.bound(cu(s.first()),cu(s.last())),o=s.getIterator();let l=o.getNext();return Oo(e).Y({index:"documentKeyIndex",range:r},(c,a,h)=>{const f=oe.fromSegments([...a.prefixPath,a.collectionGroup,a.documentId]);for(;l&&bI(l,f)<0;)i(l,null),l=o.getNext();l&&l.isEqual(f)&&(i(l,a),l=o.hasNext()?o.getNext():null),l?h.U(cu(l)):h.done()}).next(()=>{for(;l;)i(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,i,s,r){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Hp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oo(e).W(IDBKeyRange.bound(l,c,!0)).next(a=>{r==null||r.incrementDocumentReadCount(a.length);let h=Ci();for(const f of a){const p=this.nr(oe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(fd(n,p)||s.has(p.key))&&(h=h.insert(p.key,p))}return h})}getAllFromCollectionGroup(e,n,i,s){let r=Ci();const o=PI(n,i),l=PI(n,Fi.max());return Oo(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,l,!0)},(c,a,h)=>{const f=this.nr(oe.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);r=r.insert(f.key,f),r.size===s&&h.done()}).next(()=>r)}newChangeBuffer(e){return new lV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return RI(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}tr(e,n){return RI(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const i=Wz(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(Pe.min())))return i}return Lt.newInvalidDocument(e)}}function Bb(t){return new oV(t)}class lV extends Fb{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Lo(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(e){const n=[];let i=0,s=new Rt((r,o)=>Ge(r.canonicalString(),o.canonicalString()));return this.changes.forEach((r,o)=>{const l=this.ur.get(r);if(n.push(this.ar.removeEntry(e,r,l.readTime)),o.isValidDocument()){const c=pI(this.ar.serializer,o);s=s.add(r.path.popLast());const a=Kp(c);i+=a-l.size,n.push(this.ar.addEntry(e,r,c))}else if(i-=l.size,this.trackRemovals){const c=pI(this.ar.serializer,o.convertToNoDocument(Pe.min()));n.push(this.ar.addEntry(e,r,c))}}),s.forEach(r=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.ar.updateMetadata(e,i)),b.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:s})=>(s.forEach((r,o)=>{this.ur.set(r,{size:o,readTime:i.get(r).readTime})}),i))}}function RI(t){return zn(t,"remoteDocumentGlobal")}function Oo(t){return zn(t,"remoteDocumentsV14")}function cu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PI(t,e){const n=e.documentKey.path.toArray();return[t,Hp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bI(t,e){const n=t.path.toArray(),i=e.path.toArray();let s=0;for(let r=0;r<n.length-2&&r<i.length-2;++r)if(s=Ge(n[r],i[r]),s)return s;return s=Ge(n.length,i.length),s||(s=Ge(n[n.length-2],i[i.length-2]),s||Ge(n[n.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Hu(i.mutation,s,Ei.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ke()){const s=Ds();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let o=Ru();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ke()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,i,s){let r=Ci();const o=Wu(),l=function(){return Wu()}();return n.forEach((c,a)=>{const h=i.get(a.key);s.has(a.key)&&(h===void 0||h.mutation instanceof Ir)?r=r.insert(a.key,a):h!==void 0?(o.set(a.key,h.mutation.getFieldMask()),Hu(h.mutation,a,h.mutation.getFieldMask(),Ut.now())):o.set(a.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((a,h)=>o.set(a,h)),n.forEach((a,h)=>{var f;return l.set(a,new cV(h,(f=o.get(a))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const i=Wu();let s=new Yt((o,l)=>o-l),r=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const a=n.get(c);if(a===null)return;let h=i.get(c)||Ei.empty();h=l.applyToLocalView(a,h),i.set(c,h);const f=(s.get(l.batchId)||Ke()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),a=c.key,h=c.value,f=ob();h.forEach(p=>{if(!r.has(p)){const m=pb(n.get(p),i.get(p));m!==null&&f.set(p,m),r=r.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,f))}return b.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):b.resolve(Ds());let l=-1,c=r;return o.next(a=>b.forEach(a,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),r.get(h)?b.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,a,r)).next(()=>this.computeViews(e,c,a,Ke())).next(h=>({batchId:l,changes:rb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(i=>{let s=Ru();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let o=Ru();return this.indexManager.getCollectionParents(e,r).next(l=>b.forEach(l,c=>{const a=function(f,p){return new Tr(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,i,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(o=>{r.forEach((c,a)=>{const h=a.getKey();o.get(h)===null&&(o=o.insert(h,Lt.newInvalidDocument(h)))});let l=Ru();return o.forEach((c,a)=>{const h=r.get(c);h!==void 0&&Hu(h.mutation,a,Ei.empty(),Ut.now()),fd(n,a)&&(l=l.insert(c,a))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:pn(s.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:dS(s.bundledQuery),readTime:pn(s.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.overlays=new Yt(oe.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ds();return b.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ht(e,n,r)}),b.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.hr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.hr.delete(i)),b.resolve()}getOverlaysForCollection(e,n,i){const s=Ds(),r=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,a=c.getKey();if(!n.isPrefixOf(a.path))break;a.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return b.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Yt((a,h)=>a-h);const o=this.overlays.getIterator();for(;o.hasNext();){const a=o.getNext().value;if(a.getKey().getCollectionGroup()===n&&a.largestBatchId>i){let h=r.get(a.largestBatchId);h===null&&(h=Ds(),r=r.insert(a.largestBatchId,h)),h.set(a.getKey(),a)}}const l=Ds(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((a,h)=>l.set(a,h)),!(l.size()>=s)););return b.resolve(l)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(i.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new aS(n,i));let r=this.hr.get(n);r===void 0&&(r=Ke(),this.hr.set(n,r)),this.hr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Pr=new Rt(Pn.Ir),this.Tr=new Rt(Pn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Pn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Pn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new oe(new ot([])),i=new Pn(n,e),s=new Pn(n,e+1),r=[];return this.Tr.forEachInRange([i,s],o=>{this.Ar(o),r.push(o.key)}),r}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new ot([])),i=new Pn(n,e),s=new Pn(n,e+1);let r=Ke();return this.Tr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new Pn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Ge(e.pr,n.pr)}static Er(e,n){return Ge(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Rt(Pn.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lS(r,n,i,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new Pn(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.br(i),r=s<0?0:s;return b.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([i,s],o=>{const l=this.Sr(o.pr);r.push(l)}),b.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Rt(Ge);return n.forEach(s=>{const r=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([r,o],l=>{i=i.add(l.pr)})}),b.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;oe.isDocumentKey(r)||(r=r.child(""));const o=new Pn(new oe(r),0);let l=new Rt(Ge);return this.wr.forEachWhile(c=>{const a=c.key.path;return!!i.isPrefixOf(a)&&(a.length===s&&(l=l.add(c.pr)),!0)},o),b.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(i=>{const s=this.Sr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return b.forEach(n.mutations,s=>{const r=new Pn(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Pn(n,0),s=this.wr.firstAfterOrEqual(i);return b.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.vr=e,this.docs=function(){return new Yt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return b.resolve(i?i.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let i=Ci();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Lt.newInvalidDocument(s))}),b.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ci();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:a,value:{document:h}}=c.getNext();if(!o.isPrefixOf(a.path))break;a.path.length>o.length+1||eS(LP(h),i)<=0||(s.has(h.key)||fd(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return b.resolve(r)}getAllFromCollectionGroup(e,n,i,s){ve()}Fr(e,n){return b.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new fV(this)}getSize(e){return b.resolve(this.size)}}class fV extends Fb{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(i)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.persistence=e,this.Mr=new Lo(n=>xl(n),hd),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mS,this.targetCount=0,this.Lr=kl.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,s)=>n(s)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),b.waitFor(r).next(()=>s)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return b.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),b.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),b.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return b.resolve(i)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ii(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pV(this),this.indexManager=new Jz,this.remoteDocumentCache=function(s){return new dV(s)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Db(n),this.$r=new aV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new hV(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){W("MemoryPersistence","Starting transaction:",e);const s=new mV(this.kr.next());return this.referenceDelegate.Ur(),i(s).next(r=>this.referenceDelegate.Wr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Gr(e,n){return b.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class mV extends OP{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.zr=new mS,this.jr=null}static Hr(e){return new dg(e)}get Jr(){if(this.jr)return this.jr;throw ve()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),b.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Jr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,i=>{const s=oe.fromPath(i);return this.Yr(e,s).next(r=>{r||n.removeEntry(s,Pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.serializer=e}N(e,n,i,s){const r=new og("createOrUpgrade",n);i<1&&s>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WT,{unique:!0}),c.createObjectStore("documentMutations")}(e),AI(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=b.resolve();return i<3&&s>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),AI(e)),o=o.next(()=>function(c){const a=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return a.put("targetGlobalKey",h)}(r))),i<4&&s>=4&&(i!==0&&(o=o.next(()=>function(c,a){return a.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WT,{unique:!0});const f=a.store("mutations"),p=h.map(m=>f.put(m));return b.waitFor(p)})}(e,r))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&s>=5&&(o=o.next(()=>this.Xr(r))),i<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(r)))),i<7&&s>=7&&(o=o.next(()=>this.ti(r))),i<8&&s>=8&&(o=o.next(()=>this.ni(e,r))),i<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&s>=10&&(o=o.next(()=>this.ri(r))),i<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&s>=12&&(o=o.next(()=>{(function(c){const a=c.createObjectStore("documentOverlays",{keyPath:ZM});a.createIndex("collectionPathOverlayIndex",ez,{unique:!1}),a.createIndex("collectionGroupOverlayIndex",tz,{unique:!1})})(e)})),i<13&&s>=13&&(o=o.next(()=>function(c){const a=c.createObjectStore("remoteDocumentsV14",{keyPath:$M});a.createIndex("documentKeyIndex",UM),a.createIndex("collectionGroupIndex",qM)}(e)).next(()=>this.ii(e,r)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(o=o.next(()=>this.si(e,r))),i<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:QM}).createIndex("sequenceNumberIndex",YM,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:XM}).createIndex("documentKeyIndex",JM,{unique:!1})}(e))),i<16&&s>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").Y((i,s)=>{n+=Kp(s)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(s=>b.forEach(s,r=>{const o=IDBKeyRange.bound([r.userId,-1],[r.userId,r.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(l=>b.forEach(l,c=>{ke(c.userId===r.userId);const a=Ho(this.serializer,c);return Mb(e,r.userId,a).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const r=[];return i.Y((o,l)=>{const c=new ot(o),a=function(f){return[0,mi(f)]}(c);r.push(n.get(a).next(h=>h?b.resolve():(f=>n.put({targetId:0,path:mi(f),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>b.waitFor(r))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:KM});const i=n.store("collectionParents"),s=new pS,r=o=>{if(s.add(o)){const l=o.lastSegment(),c=o.popLast();return i.put({collectionId:l,parent:mi(c)})}};return n.store("remoteDocuments").Y({J:!0},(o,l)=>{const c=new ot(o);return r(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,l,c],a)=>{const h=Ns(l);return r(h.popLast())}))}ri(e){const n=e.store("targets");return n.Y((i,s)=>{const r=bu(s),o=Lb(this.serializer,r);return n.put(o)})}ii(e,n){const i=n.store("remoteDocuments"),s=[];return i.Y((r,o)=>{const l=n.store("remoteDocumentsV14"),c=function(f){return f.document?new oe(ot.fromString(f.document.name).popFirst(5)):f.noDocument?oe.fromSegments(f.noDocument.path):f.unknownDocument?oe.fromSegments(f.unknownDocument.path):ve()}(o).path.toArray(),a={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(l.put(a))}).next(()=>b.waitFor(s))}si(e,n){const i=n.store("mutations"),s=Bb(this.serializer),r=new Ub(dg.Hr,this.serializer.ct);return i.W().next(o=>{const l=new Map;return o.forEach(c=>{var a;let h=(a=l.get(c.userId))!==null&&a!==void 0?a:Ke();Ho(this.serializer,c).keys().forEach(f=>h=h.add(f)),l.set(c.userId,h)}),b.forEach(l,(c,a)=>{const h=new An(a),f=ug.lt(this.serializer,h),p=r.getIndexManager(h),m=hg.lt(h,this.serializer,p,r.referenceDelegate);return new $b(s,m,f,p).recalculateAndSaveOverlaysForDocumentKeys(new D1(n,Ii._e),c).next()})})}}function AI(t){t.createObjectStore("targetDocuments",{keyPath:HM}).createIndex("documentTargetsIndex",GM,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WM,{unique:!0}),t.createObjectStore("targetGlobal")}const b_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gS{constructor(e,n,i,s,r,o,l,c,a,h,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=r,this.window=o,this.document=l,this._i=a,this.ai=h,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!gS.D())throw new q(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rV(this,s),this.Ti=n+"main",this.serializer=new Db(c),this.Ei=new Xi(this.Ti,this.ui,new gV(this.serializer)),this.Qr=new eV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Bb(this.serializer),this.$r=new Hz,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new q(N.FAILED_PRECONDITION,b_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ii(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Do(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return au(e).get("owner").next(n=>b.resolve(this.Si(n)))}bi(e){return hf(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=zn(n,"clientMetadata");return i.W().next(s=>{const r=this.vi(s,18e5),o=s.filter(l=>r.indexOf(l)===-1);return b.forEach(o,l=>i.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?b.resolve(!0):au(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new q(N.FAILED_PRECONDITION,b_);return!1}}return!(!this.networkEnabled||!this.inForeground)||hf(e).W().next(i=>this.vi(i,5e3).find(s=>{if(this.clientId!==s.clientId){const r=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(r||o&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new D1(e,Ii._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>hf(e).W().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return hg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zz(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ug.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){W("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",r=function(c){return c===16?iz:c===15?$P:c===14?BP:c===13?FP:c===12?nz:c===11?VP:void ve()}(this.ui);let o;return this.Ei.runTransaction(e,s,r,l=>(o=new D1(l,this.kr?this.kr.next():Ii._e),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new q(N.FAILED_PRECONDITION,jP);return i(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>i(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}ki(e){return au(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new q(N.FAILED_PRECONDITION,b_)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return au(e).put("owner",n)}static D(){return Xi.D()}yi(e){const n=au(e);return n.get("owner").next(i=>this.Si(i)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):b.resolve())}Ci(e,n){const i=Date.now();return!(e<i-n)&&(!(e>i)||(fn(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;dR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return fn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){fn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function au(t){return zn(t,"owner")}function hf(t){return zn(t,"clientMetadata")}function _S(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=s}static Ki(e,n){let i=Ke(),s=Ke();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new vS(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dR()?8:Xi.v(yn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ji(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.Hi(e,n,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new _V;return this.Ji(e,n,o).next(l=>{if(r.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>r.result)}Yi(e,n,i,s){return i.documentReadCount<this.Wi?(cc()<=Ze.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(cc()<=Ze.DEBUG&&W("QueryEngine","Query:",ac(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Gi*s?(cc()<=Ze.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):b.resolve())}ji(e,n){if(iI(n))return b.resolve(null);let i=gi(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wp(n,null,"F"),i=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const o=Ke(...r);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const a=this.Zi(n,l);return this.Xi(n,a,o,c.readTime)?this.ji(e,Wp(n,null,"F")):this.es(e,a,n,c)}))})))}Hi(e,n,i,s){return iI(n)||s.isEqual(Pe.min())?b.resolve(null):this.zi.getDocuments(e,i).next(r=>{const o=this.Zi(n,r);return this.Xi(n,o,i,s)?b.resolve(null):(cc()<=Ze.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ac(n)),this.es(e,o,n,DP(s,-1)).next(l=>l))})}Zi(e,n){let i=new Rt(ib(e));return n.forEach((s,r)=>{fd(e,r)&&(i=i.add(r))}),i}Xi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ji(e,n,i){return cc()<=Ze.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ac(n)),this.zi.getDocumentsMatchingQuery(e,n,Fi.min(),i)}es(e,n,i,s){return this.zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,i,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Yt(Ge),this.rs=new Lo(r=>xl(r),hd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $b(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Wb(t,e,n,i){return new vV(t,e,n,i)}async function Hb(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],l=[];let c=Ke();for(const a of s){o.push(a.batchId);for(const h of a.mutations)c=c.add(h.key)}for(const a of r){l.push(a.batchId);for(const h of a.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(a=>({us:a,removedBatchIds:o,addedBatchIds:l}))})})}function yV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,a,h){const f=a.batch,p=f.keys();let m=b.resolve();return p.forEach(_=>{m=m.next(()=>h.getEntry(c,_)).next(g=>{const S=a.docVersions.get(_);ke(S!==null),g.version.compareTo(S)<0&&(f.applyToRemoteDocument(g,a),g.isValidDocument()&&(g.setReadTime(a.commitVersion),h.addEntry(g)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=Ke();for(let a=0;a<l.mutationResults.length;++a)l.mutationResults[a].transformResults.length>0&&(c=c.add(l.batch.mutations[a].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function Gb(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function SV(t,e){const n=ae(t),i=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Qr.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(r,h.addedDocuments,f)));let m=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Cn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),s=s.insert(f,m),function(g,S,v){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,h)&&l.push(n.Qr.updateTargetData(r,m))});let c=Ci(),a=Ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),l.push(Kb(r,o,e.documentUpdates).next(h=>{c=h.cs,a=h.ls})),!i.isEqual(Pe.min())){const h=n.Qr.getLastRemoteSnapshotVersion(r).next(f=>n.Qr.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(h)}return b.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,a)).next(()=>c)}).then(r=>(n.ns=s,r))}function Kb(t,e,n){let i=Ke(),s=Ke();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let o=Ci();return n.forEach((l,c)=>{const a=r.get(l);c.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!a.isValidDocument()||c.version.compareTo(a.version)>0||c.version.compareTo(a.version)===0&&a.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",a.version," Watch version:",c.version)}),{cs:o,ls:s}})}function wV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ha(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Qr.getTargetData(i,e).next(r=>r?(s=r,b.resolve(s)):n.Qr.allocateTargetId(i).next(o=>(s=new er(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ns.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function da(t,e,n){const i=ae(t),s=i.ns.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Do(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(s.target)}function Qp(t,e,n){const i=ae(t);let s=Pe.min(),r=Ke();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,a,h){const f=ae(c),p=f.rs.get(h);return p!==void 0?b.resolve(f.ns.get(p)):f.Qr.getTargetData(a,h)}(i,o,gi(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?r:Ke())).next(l=>(Xb(i,nb(e),l),{documents:l,hs:r})))}function Qb(t,e){const n=ae(t),i=ae(n.Qr),s=n.ns.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",r=>i._t(r,e).next(o=>o?o.target:null))}function Yb(t,e){const n=ae(t),i=n.ss.get(e)||Pe.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.os.getAllFromCollectionGroup(s,e,DP(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Xb(n,e,s),s))}function Xb(t,e,n){let i=t.ss.get(e)||Pe.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ss.set(e,i)}async function xV(t,e,n,i){const s=ae(t);let r=Ke(),o=Ci();for(const a of n){const h=e.Ps(a.metadata.name);a.document&&(r=r.add(h));const f=e.Is(a);f.setReadTime(e.Ts(a.metadata.readTime)),o=o.insert(h,f)}const l=s.os.newChangeBuffer({trackRemovals:!0}),c=await ha(s,function(h){return gi(Na(ot.fromString(`__bundle__/docs/${h}`)))}(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",a=>Kb(a,l,o).next(h=>(l.apply(a),h)).next(h=>s.Qr.removeMatchingKeysForTargetId(a,c.targetId).next(()=>s.Qr.addMatchingKeys(a,r,c.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(a,h.cs,h.ls)).next(()=>h.cs)))}async function TV(t,e,n=Ke()){const i=await ha(t,gi(dS(e.bundledQuery))),s=ae(t);return s.persistence.runTransaction("Save named query","readwrite",r=>{const o=pn(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return s.$r.saveNamedQuery(r,e);const l=i.withResumeToken(Cn.EMPTY_BYTE_STRING,o);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(r,l).next(()=>s.Qr.removeMatchingKeysForTargetId(r,i.targetId)).next(()=>s.Qr.addMatchingKeys(r,n,i.targetId)).next(()=>s.$r.saveNamedQuery(r,e))})}function NI(t,e){return`firestore_clients_${t}_${e}`}function DI(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function A_(t,e){return`firestore_targets_${t}_${e}`}class Yp{constructor(e,n,i,s){this.user=e,this.batchId=n,this.state=i,this.error=s}static Es(e,n,i){const s=JSON.parse(i);let r,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(r=new q(s.error.code,s.error.message))),o?new Yp(e,n,s.state,r):(fn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gu{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){const i=JSON.parse(n);let s,r=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return r&&i.error&&(r=typeof i.error.message=="string"&&typeof i.error.code=="string",r&&(s=new q(i.error.code,i.error.message))),r?new Gu(e,i.state,s):(fn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const i=JSON.parse(n);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,r=rS();for(let o=0;s&&o<i.activeTargetIds.length;++o)s=MP(i.activeTargetIds[o]),r=r.add(i.activeTargetIds[o]);return s?new Xp(e,r):(fn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class yS{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new yS(n.clientId,n.onlineState):(fn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class K1{constructor(){this.activeTargetIds=rS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N_{constructor(e,n,i,s,r){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Yt(Ge),this.started=!1,this.ys=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ws=NI(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new K1),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const i of e){if(i===this.Vs)continue;const s=this.getItem(NI(this.persistenceKey,i));if(s){const r=Xp.Es(i,s);r&&(this.ps=this.ps.insert(r.clientId,r))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const i=this.xs(n);i&&this.Os(i)}for(const i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(A_(this.persistenceKey,e));if(i){const s=Gu.Es(e,i);s&&(n=s.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(A_(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(s=>{this.Bs(s)}),this.currentUser=e,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const i=this.$s(n.key);return this.Us(i,null)}{const i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){const i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){const i=function(r){let o=Ii._e;if(r!=null)try{const l=JSON.parse(r);ke(typeof l=="number"),o=l}catch(l){fn("SharedClientState","Failed to read sequence number from WebStorage",l)}return o}(n.newValue);i!==Ii._e&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){const i=this.Js(n.newValue);await Promise.all(i.map(s=>this.syncEngine.Ys(s)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){const s=new Yp(this.currentUser,e,n,i),r=DI(this.persistenceKey,this.currentUser,e);this.setItem(r,s.ds())}Bs(e){const n=DI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){const s=A_(this.persistenceKey,e),r=new Gu(e,n,i);this.setItem(s,r.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const i=this.$s(e);return Xp.Es(i,n)}Gs(e,n){const i=this.Ds.exec(e),s=Number(i[1]),r=i[2]!==void 0?i[2]:null;return Yp.Es(new An(r),s,n)}js(e,n){const i=this.Cs.exec(e),s=Number(i[1]);return Gu.Es(s,n)}xs(e){return yS.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const i=n?this.ps.insert(e,n):this.ps.remove(e),s=this.Ns(this.ps),r=this.Ns(i),o=[],l=[];return r.forEach(c=>{s.has(c)||o.push(c)}),s.forEach(c=>{r.has(c)||l.push(c)}),this.syncEngine.eo(o,l).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=rS();return e.forEach((i,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class Jb{constructor(){this.no=new K1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new K1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function D_(){return df===null?df=function(){return 268435456+Math.round(2147483648*Math.random())}():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class kV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${s}/databases/${r}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get wo(){return!1}So(n,i,s,r,o){const l=D_(),c=this.bo(n,i.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,o),this.Co(n,c,a,s).then(h=>(W("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw ws("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}vo(n,i,s,r,o,l){return this.So(n,i,s,r,o)}Do(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}bo(n,i){const s=EV[n];return`${this.fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,s){const r=D_();return new Promise((o,l)=>{const c=new TM;c.setWithCredentials(!0),c.listenOnce(wM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case R_.NO_ERROR:const h=c.getResponseJson();W(ei,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(h)),o(h);break;case R_.TIMEOUT:W(ei,`RPC '${e}' ${r} timed out`),l(new q(N.DEADLINE_EXCEEDED,"Request time out"));break;case R_.HTTP_ERROR:const f=c.getStatus();if(W(ei,`RPC '${e}' ${r} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const _=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(m.status);l(new q(_,m.message))}else l(new q(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(N.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{W(ei,`RPC '${e}' ${r} completed.`)}});const a=JSON.stringify(s);W(ei,`RPC '${e}' ${r} sending request:`,s),c.send(n,"POST",a,i,15)})}Fo(e,n,i){const s=D_(),r=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yM(),l=SM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;a!==void 0&&(c.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const h=r.join("");W(ei,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,m=!1;const _=new CV({lo:S=>{m?W(ei,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(W(ei,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),W(ei,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},ho:()=>f.close()}),g=(S,v,y)=>{S.listen(v,w=>{try{y(w)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,lf.EventType.OPEN,()=>{m||W(ei,`RPC '${e}' stream ${s} transport opened.`)}),g(f,lf.EventType.CLOSE,()=>{m||(m=!0,W(ei,`RPC '${e}' stream ${s} transport closed`),_.Vo())}),g(f,lf.EventType.ERROR,S=>{m||(m=!0,ws(ei,`RPC '${e}' stream ${s} transport errored:`,S),_.Vo(new q(N.UNAVAILABLE,"The operation could not be completed")))}),g(f,lf.EventType.MESSAGE,S=>{var v;if(!m){const y=S.data[0];ke(!!y);const w=y,T=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(T){W(ei,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let x=function(P){const j=gn[P];if(j!==void 0)return _b(j)}(I),E=T.message;x===void 0&&(x=N.INTERNAL,E="Unknown error status: "+I+" with message "+T.message),m=!0,_.Vo(new q(x,E)),f.close()}else W(ei,`RPC '${e}' stream ${s} received:`,y),_.mo(y)}}),g(l,xM.STAT_EVENT,S=>{S.stat===BT.PROXY?W(ei,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===BT.NOPROXY&&W(ei,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){return typeof window<"u"?window:null}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new jz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,i=1e3,s=1.5,r=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=s,this.Oo=r,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,i,s,r,o,l,c){this.oi=e,this.$o=i,this.Uo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new SS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Wo===n&&this.o_(i,s)},i=>{e(()=>{const s=new q(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(s)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{i(()=>this.__(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RV extends e4{constructor(e,n,i,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=zz(this.serializer,e),i=function(r){if(!("targetChange"in r))return Pe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?pn(o.readTime):Pe.min()}(e);return this.listener.u_(n,i)}c_(e){const n={};n.database=U1(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=Up(c)?{documents:kb(r,c)}:{query:Rb(r,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=wb(r,o.resumeToken);const a=B1(r,o.expectedCount);a!==null&&(l.expectedCount=a)}else if(o.snapshotVersion.compareTo(Pe.min())>0){l.readTime=ua(r,o.snapshotVersion.toTimestamp());const a=B1(r,o.expectedCount);a!==null&&(l.expectedCount=a)}return l}(this.serializer,e);const i=Fz(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){const n={};n.database=U1(this.serializer),n.removeTarget=e,this.t_(n)}}class PV extends e4{constructor(e,n,i,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Vz(e.writeResults,e.commitTime),i=pn(e.commitTime);return this.listener.T_(i,n)}return ke(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=U1(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Bh(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.So(e,$1(n,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(N.UNKNOWN,r.toString())})}vo(e,n,i,s,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,$1(n,i),s,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(N.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class AV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fn(n),this.g_=!1):W("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=r,this.M_.io(o=>{i.enqueueAndForget(async()=>{jo(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(c){const a=ae(c);a.v_.add(4),await ja(a),a.x_.set("Unknown"),a.v_.delete(4),await vd(a)}(this))})}),this.x_=new AV(i,s)}}async function vd(t){if(jo(t))for(const e of t.F_)await e(!0)}async function ja(t){for(const e of t.F_)await e(!1)}function fg(t,e){const n=ae(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),TS(n)?xS(n):Ma(n).Jo()&&wS(n,e))}function fa(t,e){const n=ae(t),i=Ma(n);n.C_.delete(e),i.Jo()&&t4(n,e),n.C_.size===0&&(i.Jo()?i.Xo():jo(n)&&n.x_.set("Unknown"))}function wS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).c_(e)}function t4(t,e){t.O_.Oe(e),Ma(t).l_(e)}function xS(t){t.O_=new Az({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.x_.p_()}function TS(t){return jo(t)&&!Ma(t).Ho()&&t.C_.size>0}function jo(t){return ae(t).v_.size===0}function n4(t){t.O_=void 0}async function DV(t){t.C_.forEach((e,n)=>{wS(t,e)})}async function LV(t,e){n4(t),TS(t)?(t.x_.S_(e),xS(t)):t.x_.set("Unknown")}async function jV(t,e,n){if(t.x_.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await async function(s,r){const o=r.cause;for(const l of r.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(i){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jp(t,i)}else if(e instanceof Yf?t.O_.$e(e):e instanceof yb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Pe.min()))try{const i=await Gb(t.localStore);n.compareTo(i)>=0&&await function(r,o){const l=r.O_.it(o);return l.targetChanges.forEach((c,a)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.C_.get(a);h&&r.C_.set(a,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,a)=>{const h=r.C_.get(c);if(!h)return;r.C_.set(c,h.withResumeToken(Cn.EMPTY_BYTE_STRING,h.snapshotVersion)),t4(r,c);const f=new er(h.target,c,a,h.sequenceNumber);wS(r,f)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){W("RemoteStore","Failed to raise snapshot:",i),await Jp(t,i)}}async function Jp(t,e,n){if(!Do(e))throw e;t.v_.add(1),await ja(t),t.x_.set("Offline"),n||(n=()=>Gb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await vd(t)})}function i4(t,e){return e().catch(n=>Jp(t,n,e))}async function Oa(t){const e=ae(t),n=xo(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;OV(e);)try{const s=await wV(e.localStore,i);if(s===null){e.D_.length===0&&n.Xo();break}i=s.batchId,MV(e,s)}catch(s){await Jp(e,s)}s4(e)&&r4(e)}function OV(t){return jo(t)&&t.D_.length<10}function MV(t,e){t.D_.push(e);const n=xo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function s4(t){return jo(t)&&!xo(t).Ho()&&t.D_.length>0}function r4(t){xo(t).start()}async function zV(t){xo(t).d_()}async function VV(t){const e=xo(t);for(const n of t.D_)e.I_(n.mutations)}async function FV(t,e,n){const i=t.D_.shift(),s=cS.from(i,e,n);await i4(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Oa(t)}async function BV(t,e){e&&xo(t).P_&&await async function(i,s){if(function(o){return gb(o)&&o!==N.ABORTED}(s.code)){const r=i.D_.shift();xo(i).Zo(),await i4(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Oa(i)}}(t,e),s4(t)&&r4(t)}async function jI(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const i=jo(n);n.v_.add(3),await ja(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await vd(n)}async function Q1(t,e){const n=ae(t);e?(n.v_.delete(2),await vd(n)):e||(n.v_.add(2),await ja(n),n.x_.set("Unknown"))}function Ma(t){return t.N_||(t.N_=function(n,i,s){const r=ae(n);return r.R_(),new RV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:DV.bind(null,t),To:LV.bind(null,t),u_:jV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),TS(t)?xS(t):t.x_.set("Unknown")):(await t.N_.stop(),n4(t))})),t.N_}function xo(t){return t.L_||(t.L_=function(n,i,s){const r=ae(n);return r.R_(),new PV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:zV.bind(null,t),To:BV.bind(null,t),E_:VV.bind(null,t),T_:FV.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Oa(t)):(await t.L_.stop(),t.D_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const o=Date.now()+i,l=new IS(e,n,o,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(t,e){if(fn("AsyncQueue",`${e}: ${t}`),Do(t))return new q(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||oe.comparator(n.key,i.key):(n,i)=>oe.comparator(n.key,i.key),this.keyedMap=Ru(),this.sortedSet=new Yt(this.comparator)}static emptySet(e){return new Fc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.B_=new Yt(oe.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ve():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class pa{constructor(e,n,i,s,r,o,l,c,a){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=a}static fromInitialDocuments(e,n,i,s,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new pa(e,n,Fc.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class UV{constructor(){this.queries=new Lo(e=>tb(e),dd),this.onlineState="Unknown",this.W_=new Set}}async function ES(t,e){const n=ae(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.K_()&&e.U_()&&(i=2):(r=new $V,i=e.U_()?0:1);try{switch(i){case 0:r.q_=await n.onListen(s,!0);break;case 1:r.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=za(o,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.Q_.push(e),e.G_(n.onlineState),r.q_&&e.z_(r.q_)&&kS(n)}async function CS(t,e){const n=ae(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const o=r.Q_.indexOf(e);o>=0&&(r.Q_.splice(o,1),r.Q_.length===0?s=e.U_()?0:1:!r.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function qV(t,e){const n=ae(t);let i=!1;for(const s of e){const r=s.query,o=n.queries.get(r);if(o){for(const l of o.Q_)l.z_(s)&&(i=!0);o.q_=s}}i&&kS(n)}function WV(t,e,n){const i=ae(t),s=i.queries.get(e);if(s)for(const r of s.Q_)r.onError(n);i.queries.delete(e)}function kS(t){t.W_.forEach(e=>{e.next()})}var Y1,MI;(MI=Y1||(Y1={})).j_="default",MI.Cache="cache";class RS{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new pa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Y1.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.serializer=e}Ps(e){return zs(this.serializer,e)}Is(e){return e.metadata.exists?Cb(this.serializer,e.document,!1):Lt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return pn(e)}}class GV{constructor(e,n,i){this.ia=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=o4(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const i=ot.fromString(e.na.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,i=new zI(this.serializer);for(const s of e)if(s.metadata.queries){const r=i.Ps(s.metadata.name);for(const o of s.metadata.queries){const l=(n.get(o)||Ke()).add(r);n.set(o,l)}}return n}async complete(){const e=await xV(this.localStore,new zI(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(const i of this.queries)await TV(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function o4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.key=e}}class c4{constructor(e){this.key=e}}class a4{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ke(),this.mutatedKeys=Ke(),this.ha=ib(e),this.Pa=new Fc(this.ha)}get Ia(){return this.ua}Ta(e,n){const i=n?n.Ea:new OI,s=n?n.Pa:this.Pa;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,a=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=fd(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?_!==g&&(i.track({type:3,doc:m}),S=!0):this.da(p,m)||(i.track({type:2,doc:m}),S=!0,(c&&this.ha(m,c)>0||a&&this.ha(m,a)<0)&&(l=!0)):!p&&m?(i.track({type:0,doc:m}),S=!0):p&&!m&&(i.track({type:1,doc:p}),S=!0,(c||a)&&(l=!0)),S&&(m?(o=o.add(m),r=g?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{Pa:o,Ea:i,Xi:l,mutatedKeys:r}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((h,f)=>function(m,_){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return g(m)-g(_)}(h.type,f.type)||this.ha(h.doc,f.doc)),this.Aa(i),s=s!=null&&s;const l=n&&!s?this.Ra():[],c=this.la.size===0&&this.current&&!s?1:0,a=c!==this.ca;return this.ca=c,o.length!==0||a?{snapshot:new pa(this.query,e.Pa,r,o,e.mutatedKeys,c===0,a,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:l}:{Va:l}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new OI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ke(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return e.forEach(i=>{this.la.has(i)||n.push(new c4(i))}),this.la.forEach(i=>{e.has(i)||n.push(new l4(i))}),n}fa(e){this.ua=e.hs,this.la=Ke();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return pa.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class KV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class QV{constructor(e){this.key=e,this.pa=!1}}class YV{constructor(e,n,i,s,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Lo(l=>tb(l),dd),this.Sa=new Map,this.ba=new Set,this.Da=new Yt(oe.comparator),this.Ca=new Map,this.va=new mS,this.Fa={},this.Ma=new Map,this.xa=kl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function XV(t,e,n=!0){const i=pg(t);let s;const r=i.wa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ga()):s=await u4(i,e,n,!0),s}async function JV(t,e){const n=pg(t);await u4(n,e,!0,!1)}async function u4(t,e,n,i){const s=await ha(t.localStore,gi(e)),r=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(r):"not-current";let l;return i&&(l=await PS(t,e,r,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&fg(t.remoteStore,s),l}async function PS(t,e,n,i,s){t.Na=(f,p,m)=>async function(g,S,v,y){let w=S.view.Ta(v);w.Xi&&(w=await Qp(g.localStore,S.query,!1).then(({documents:E})=>S.view.Ta(E,w)));const T=y&&y.targetChanges.get(S.targetId),I=y&&y.targetMismatches.get(S.targetId)!=null,x=S.view.applyChanges(w,g.isPrimaryClient,T,I);return X1(g,S.targetId,x.Va),x.snapshot}(t,f,p,m);const r=await Qp(t.localStore,e,!0),o=new a4(e,r.hs),l=o.Ta(r.documents),c=gd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),a=o.applyChanges(l,t.isPrimaryClient,c);X1(t,n,a.Va);const h=new KV(e,n,o);return t.wa.set(e,h),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),a.snapshot}async function ZV(t,e,n){const i=ae(t),s=i.wa.get(e),r=i.Sa.get(s.targetId);if(r.length>1)return i.Sa.set(s.targetId,r.filter(o=>!dd(o,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await da(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&fa(i.remoteStore,s.targetId),ma(i,s.targetId)}).catch(No)):(ma(i,s.targetId),await da(i.localStore,s.targetId,!0))}async function e9(t,e){const n=ae(t),i=n.wa.get(e),s=n.Sa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),fa(n.remoteStore,i.targetId))}async function t9(t,e,n){const i=DS(t);try{const s=await function(o,l){const c=ae(o),a=Ut.now(),h=l.reduce((m,_)=>m.add(_.key),Ke());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Ci(),g=Ke();return c.os.getEntries(m,h).next(S=>{_=S,_.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,_)).next(S=>{f=S;const v=[];for(const y of l){const w=Rz(y,f.get(y.key).overlayedDocument);w!=null&&v.push(new Ir(y.key,w,HP(w.value.mapValue),$t.exists(!0)))}return c.mutationQueue.addMutationBatch(m,a,v,l)}).next(S=>{p=S;const v=S.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,S.batchId,v)})}).then(()=>({batchId:p.batchId,changes:rb(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let a=o.Fa[o.currentUser.toKey()];a||(a=new Yt(Ge)),a=a.insert(l,c),o.Fa[o.currentUser.toKey()]=a}(i,s.batchId,n),await Er(i,s.changes),await Oa(i.remoteStore)}catch(s){const r=za(s,"Failed to persist write");n.reject(r)}}async function h4(t,e){const n=ae(t);try{const i=await SV(n.localStore,e);e.targetChanges.forEach((s,r)=>{const o=n.Ca.get(r);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?ke(o.pa):s.removedDocuments.size>0&&(ke(o.pa),o.pa=!1))}),await Er(n,i,e)}catch(i){await No(i)}}function VI(t,e,n){const i=ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wa.forEach((r,o)=>{const l=o.view.G_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ae(o);c.onlineState=l;let a=!1;c.queries.forEach((h,f)=>{for(const p of f.Q_)p.G_(l)&&(a=!0)}),a&&kS(c)}(i.eventManager,e),s.length&&i.ya.u_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function n9(t,e,n){const i=ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ca.get(e),r=s&&s.key;if(r){let o=new Yt(oe.comparator);o=o.insert(r,Lt.newNoDocument(r,Pe.min()));const l=Ke().add(r),c=new md(Pe.min(),new Map,new Yt(Ge),o,l);await h4(i,c),i.Da=i.Da.remove(r),i.Ca.delete(e),NS(i)}else await da(i.localStore,e,!1).then(()=>ma(i,e,n)).catch(No)}async function i9(t,e){const n=ae(t),i=e.batch.batchId;try{const s=await yV(n.localStore,e);AS(n,i,null),bS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Er(n,s)}catch(s){await No(s)}}async function s9(t,e,n){const i=ae(t);try{const s=await function(o,l){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let h;return c.mutationQueue.lookupMutationBatch(a,l).next(f=>(ke(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(a,f))).next(()=>c.mutationQueue.performConsistencyCheck(a)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(a,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,h)).next(()=>c.localDocuments.getDocuments(a,h))})}(i.localStore,e);AS(i,e,n),bS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Er(i,s)}catch(s){await No(s)}}async function r9(t,e){const n=ae(t);jo(n.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(o){const l=ae(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();const s=n.Ma.get(i)||[];s.push(e),n.Ma.set(i,s)}catch(i){const s=za(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function bS(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function AS(t,e,n){const i=ae(t);let s=i.Fa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Fa[i.currentUser.toKey()]=s}}function ma(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||d4(t,i)})}function d4(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(fa(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),NS(t))}function X1(t,e,n){for(const i of n)i instanceof l4?(t.va.addReference(i.key,e),o9(t,i)):i instanceof c4?(W("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||d4(t,i.key)):ve()}function o9(t,e){const n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(W("SyncEngine","New document in limbo: "+n),t.ba.add(i),NS(t))}function NS(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new oe(ot.fromString(e)),i=t.xa.next();t.Ca.set(i,new QV(n)),t.Da=t.Da.insert(n,i),fg(t.remoteStore,new er(gi(Na(n.path)),i,"TargetPurposeLimboResolution",Ii._e))}}async function Er(t,e,n){const i=ae(t),s=[],r=[],o=[];i.wa.isEmpty()||(i.wa.forEach((l,c)=>{o.push(i.Na(c,e,n).then(a=>{if((a||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,a!=null&&a.fromCache?"not-current":"current"),a){s.push(a);const h=vS.Ki(c.targetId,a);r.push(h)}}))}),await Promise.all(o),i.ya.u_(s),await async function(c,a){const h=ae(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>b.forEach(a,p=>b.forEach(p.qi,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>b.forEach(p.Qi,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Do(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of a){const p=f.targetId;if(!f.fromCache){const m=h.ns.get(p),_=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(_);h.ns=h.ns.insert(p,g)}}}(i.localStore,r))}async function l9(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const i=await Hb(n.localStore,e);n.currentUser=e,function(r,o){r.Ma.forEach(l=>{l.forEach(c=>{c.reject(new q(N.CANCELLED,o))})}),r.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Er(n,i.us)}}function c9(t,e){const n=ae(t),i=n.Ca.get(e);if(i&&i.pa)return Ke().add(i.key);{let s=Ke();const r=n.Sa.get(e);if(!r)return s;for(const o of r){const l=n.wa.get(o);s=s.unionWith(l.view.Ia)}return s}}async function a9(t,e){const n=ae(t),i=await Qp(n.localStore,e.query,!0),s=e.view.fa(i);return n.isPrimaryClient&&X1(n,e.targetId,s.Va),s}async function u9(t,e){const n=ae(t);return Yb(n.localStore,e).then(i=>Er(n,i))}async function h9(t,e,n,i){const s=ae(t),r=await function(l,c){const a=ae(l),h=ae(a.mutationQueue);return a.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.vn(f,c).next(p=>p?a.localDocuments.getDocuments(f,p):b.resolve(null)))}(s.localStore,e);r!==null?(n==="pending"?await Oa(s.remoteStore):n==="acknowledged"||n==="rejected"?(AS(s,e,i||null),bS(s,e),function(l,c){ae(ae(l).mutationQueue).Mn(c)}(s.localStore,e)):ve(),await Er(s,r)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function d9(t,e){const n=ae(t);if(pg(n),DS(n),e===!0&&n.Oa!==!0){const i=n.sharedClientState.getAllActiveQueryTargets(),s=await FI(n,i.toArray());n.Oa=!0,await Q1(n.remoteStore,!0);for(const r of s)fg(n.remoteStore,r)}else if(e===!1&&n.Oa!==!1){const i=[];let s=Promise.resolve();n.Sa.forEach((r,o)=>{n.sharedClientState.isLocalQueryTarget(o)?i.push(o):s=s.then(()=>(ma(n,o),da(n.localStore,o,!0))),fa(n.remoteStore,o)}),await s,await FI(n,i),function(o){const l=ae(o);l.Ca.forEach((c,a)=>{fa(l.remoteStore,a)}),l.va.mr(),l.Ca=new Map,l.Da=new Yt(oe.comparator)}(n),n.Oa=!1,await Q1(n.remoteStore,!1)}}async function FI(t,e,n){const i=ae(t),s=[],r=[];for(const o of e){let l;const c=i.Sa.get(o);if(c&&c.length!==0){l=await ha(i.localStore,gi(c[0]));for(const a of c){const h=i.wa.get(a),f=await a9(i,h);f.snapshot&&r.push(f.snapshot)}}else{const a=await Qb(i.localStore,o);l=await ha(i.localStore,a),await PS(i,f4(a),o,!1,l.resumeToken)}s.push(l)}return i.ya.u_(r),s}function f4(t){return eb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function f9(t){return function(n){return ae(ae(n).persistence).Bi()}(ae(t).localStore)}async function p9(t,e,n,i){const s=ae(t);if(s.Oa)return void W("SyncEngine","Ignoring unexpected query state notification.");const r=s.Sa.get(e);if(r&&r.length>0)switch(n){case"current":case"not-current":{const o=await Yb(s.localStore,nb(r[0])),l=md.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Cn.EMPTY_BYTE_STRING);await Er(s,o,l);break}case"rejected":await da(s.localStore,e,!0),ma(s,e,i);break;default:ve()}}async function m9(t,e,n){const i=pg(t);if(i.Oa){for(const s of e){if(i.Sa.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){W("SyncEngine","Adding an already active target "+s);continue}const r=await Qb(i.localStore,s),o=await ha(i.localStore,r);await PS(i,f4(r),o.targetId,!1,o.resumeToken),fg(i.remoteStore,o)}for(const s of n)i.Sa.has(s)&&await da(i.localStore,s,!1).then(()=>{fa(i.remoteStore,s),ma(i,s)}).catch(No)}}function pg(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n9.bind(null,e),e.ya.u_=qV.bind(null,e.eventManager),e.ya.La=WV.bind(null,e.eventManager),e}function DS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s9.bind(null,e),e}function g9(t,e,n){const i=ae(t);(async function(r,o,l){try{const c=await o.getMetadata();if(await function(m,_){const g=ae(m),S=pn(_.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",v=>g.$r.getBundleMetadata(v,_.id)).then(v=>!!v&&v.createTime.compareTo(S)>=0)}(r.localStore,c))return await o.close(),l._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(c)),Promise.resolve(new Set);l._updateProgress(o4(c));const a=new GV(c,r.localStore,o.serializer);let h=await o.Ba();for(;h;){const p=await a.sa(h);p&&l._updateProgress(p),h=await o.Ba()}const f=await a.complete();return await Er(r,f.aa,void 0),await function(m,_){const g=ae(m);return g.persistence.runTransaction("Save bundle","readwrite",S=>g.$r.saveBundleMetadata(S,_))}(r.localStore,c),l._completeWith(f.progress),Promise.resolve(f._a)}catch(c){return ws("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(i,e,n).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}class J1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Wb(this.persistence,new qb,e.initialUser,this.serializer)}createPersistence(e){return new Ub(dg.Hr,this.serializer)}createSharedClientState(e){return new Jb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class LS extends J1{constructor(e,n,i){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await DS(this.ka.syncEngine),await Oa(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return Wb(this.persistence,new qb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const i=this.persistence.referenceDelegate.garbageCollector;return new nV(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new VM(n,this.persistence);return new zM(e.asyncQueue,i)}createPersistence(e){const n=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new gS(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,Zb(),Xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jb}}class p4 extends LS{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.ka.syncEngine;this.sharedClientState instanceof N_&&(this.sharedClientState.syncEngine={Zs:h9.bind(null,n),Xs:p9.bind(null,n),eo:m9.bind(null,n),Bi:f9.bind(null,n),Ys:u9.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async i=>{await d9(this.ka.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=Zb();if(!N_.D(n))throw new q(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new N_(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VI(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l9.bind(null,this.syncEngine),await Q1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UV}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),i=function(r){return new kV(r)}(e.databaseInfo);return function(r,o,l,c){return new bV(r,o,l,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,o,l){return new NV(i,s,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>VI(this.syncEngine,n,0),function(){return LI.D()?new LI:new IV}())}createSyncEngine(e,n){return function(s,r,o,l,c,a,h){const f=new YV(s,r,o,l,c,a);return h&&(f.Oa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const s=ae(i);W("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await ja(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new jn,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(i=>{i&&i.ra()?this.metadata.resolve(i.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.na)}`))},i=>this.metadata.reject(i))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(e===null)return null;const n=this.$a.decode(e),i=Number(n);isNaN(i)&&this.Ga(`length string (${n}) is not valid number`);const s=await this.za(i);return new HV(JSON.parse(s),e.length+i)}ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(this.buffer.length===0)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ha(){const e=await this.Ka.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new q(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,r){const o=ae(s),l={documents:r.map(f=>Fh(o.serializer,f))},c=await o.vo("BatchGetDocuments",o.serializer.databaseId,ot.emptyPath(),l,r.length),a=new Map;c.forEach(f=>{const p=Mz(o.serializer,f);a.set(p.key.toString(),p)});const h=[];return r.forEach(f=>{const p=a.get(f.toString());ke(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new La(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const s=oe.fromPath(i);this.mutations.push(new oS(s,this.precondition(s)))}),await async function(i,s){const r=ae(i),o={writes:s.map(l=>Bh(r.serializer,l))};await r.So("Commit",r.serializer.databaseId,ot.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ve();n=Pe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new q(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Pe.min())?$t.exists(!1):$t.updateTime(n):$t.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Pe.min()))throw new q(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $t.updateTime(n)}return $t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,i,s,r){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=s,this.deferred=r,this.Ja=i.maxAttempts,this.jo=new SS(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(async()=>{const e=new v9(this.datastore),n=this.Xa(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(s=>{this.eu(s)}))}).catch(i=>{this.eu(i)})})}Xa(e){try{const n=this.updateFunction(e);return!ud(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!gb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=AP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{W("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(W("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=za(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jf(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Hb(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jS(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>jI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>jI(e.remoteStore,s)),t._onlineComponents=e}function m4(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m4(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),await Jf(t,new J1)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Jf(t,new J1);return t._offlineComponents}async function gg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Z1(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Z1(t,new yd))),t._onlineComponents}function g4(t){return jS(t).then(e=>e.persistence)}function OS(t){return jS(t).then(e=>e.localStore)}function _4(t){return gg(t).then(e=>e.remoteStore)}function MS(t){return gg(t).then(e=>e.syncEngine)}function w9(t){return gg(t).then(e=>e.datastore)}async function ga(t){const e=await gg(t),n=e.eventManager;return n.onListen=XV.bind(null,e.syncEngine),n.onUnlisten=ZV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e9.bind(null,e.syncEngine),n}function x9(t){return t.asyncQueue.enqueue(async()=>{const e=await g4(t),n=await _4(t);return e.setNetworkEnabled(!0),function(s){const r=ae(s);return r.v_.delete(0),vd(r)}(n)})}function T9(t){return t.asyncQueue.enqueue(async()=>{const e=await g4(t),n=await _4(t);return e.setNetworkEnabled(!1),async function(s){const r=ae(s);r.v_.add(0),await ja(r),r.x_.set("Offline")}(n)})}function I9(t,e){const n=new jn;return t.asyncQueue.enqueueAndForget(async()=>async function(s,r,o){try{const l=await function(a,h){const f=ae(a);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,h))}(s,r);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new q(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=za(l,`Failed to get document '${r} from cache`);o.reject(c)}}(await OS(t),e,n)),n.promise}function v4(t,e,n={}){const i=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,a){const h=new mg({next:p=>{o.enqueueAndForget(()=>CS(r,f));const m=p.docs.has(l);!m&&p.fromCache?a.reject(new q(N.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?a.reject(new q(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(p)},error:p=>a.reject(p)}),f=new RS(Na(l.path),h,{includeMetadataChanges:!0,ta:!0});return ES(r,f)}(await ga(t),t.asyncQueue,e,n,i)),i.promise}function E9(t,e){const n=new jn;return t.asyncQueue.enqueueAndForget(async()=>async function(s,r,o){try{const l=await Qp(s,r,!0),c=new a4(r,l.hs),a=c.Ta(l.documents),h=c.applyChanges(a,!1);o.resolve(h.snapshot)}catch(l){const c=za(l,`Failed to execute query '${r} against cache`);o.reject(c)}}(await OS(t),e,n)),n.promise}function y4(t,e,n={}){const i=new jn;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,a){const h=new mg({next:p=>{o.enqueueAndForget(()=>CS(r,f)),p.fromCache&&c.source==="server"?a.reject(new q(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(p)},error:p=>a.reject(p)}),f=new RS(l,h,{includeMetadataChanges:!0,ta:!0});return ES(r,f)}(await ga(t),t.asyncQueue,e,n,i)),i.promise}function C9(t,e){const n=new mg(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,r){ae(s).W_.add(r),r.next()}(await ga(t),n)),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(async()=>function(s,r){ae(s).W_.delete(r)}(await ga(t),n))}}function k9(t,e,n,i){const s=function(o,l){let c;return c=typeof o=="string"?vb().encode(o):o,function(h,f){return new _9(h,f)}(function(h,f){if(h instanceof Uint8Array)return BI(h,f);if(h instanceof ArrayBuffer)return BI(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),l)}(n,_d(e));t.asyncQueue.enqueueAndForget(async()=>{g9(await MS(t),s,i)})}function R9(t,e){return t.asyncQueue.enqueue(async()=>function(i,s){const r=ae(i);return r.persistence.runTransaction("Get named query","readonly",o=>r.$r.getNamedQuery(o,s))}(await OS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new q(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w4(t,e,n,i){if(e===!0&&i===!0)throw new q(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UI(t){if(!oe.isDocumentKey(t))throw new q(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qI(t){if(oe.isDocumentKey(t))throw new q(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(t);throw new q(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function x4(t,e){if(e<=0)throw new q(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S4((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WI(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kM;switch(i.type){case"firstParty":return new AM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=$I.get(n);i&&(W("ComponentProvider","Removing Datastore"),$I.delete(n),i.terminate())}(this),Promise.resolve()}}function P9(t,e,n,i={}){var s;const r=(t=gt(t,Sd))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let l,c;if(typeof i.mockUserToken=="string")l=i.mockUserToken,c=An.MOCK_USER;else{l=E0(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const a=i.mockUserToken.sub||i.mockUserToken.user_id;if(!a)throw new q(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new An(a)}t._authCredentials=new RM(new bP(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _i=class T4{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new T4(this.firestore,e,this._query)}},Kt=class I4{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new I4(this.firestore,e,this._key)}},co=class E4 extends _i{constructor(e,n,i){super(e,n,Na(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new oe(e))}withConverter(e){return new E4(this.firestore,e,this._path)}};function C4(t,e,...n){if(t=ct(t),zS("collection","path",e),t instanceof Sd){const i=ot.fromString(e,...n);return qI(i),new co(t,null,i)}{if(!(t instanceof Kt||t instanceof co))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return qI(i),new co(t.firestore,null,i)}}function b9(t,e){if(t=gt(t,Sd),zS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new q(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _i(t,null,function(i){return new Tr(ot.emptyPath(),i)}(e))}function Rl(t,e,...n){if(t=ct(t),arguments.length===1&&(e=AP.newId()),zS("doc","path",e),t instanceof Sd){const i=ot.fromString(e,...n);return UI(i),new Kt(t,null,new oe(i))}{if(!(t instanceof Kt||t instanceof co))throw new q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return UI(i),new Kt(t.firestore,t instanceof co?t.converter:null,new oe(i))}}function VS(t,e){return t=ct(t),e=ct(e),(t instanceof Kt||t instanceof co)&&(e instanceof Kt||e instanceof co)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function k4(t,e){return t=ct(t),e=ct(e),t instanceof _i&&e instanceof _i&&t.firestore===e.firestore&&dd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new SS(this,"async_queue_retry"),this.cu=()=>{const n=Xf();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Xf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new jn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Do(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw fn("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=IS.createAndSchedule(this,e,n,i,r=>this.Iu(r));return this.su.push(s),s}lu(){this.ou&&ve()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function ey(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class N9{constructor(){this._progressObserver={},this._taskCompletionResolver=new jn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=-1;let on=class extends Sd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new A9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||R4(this),this._firestoreClient.terminate()}};function L9(t,e,n){n||(n="(default)");const i=Fl(t,"firestore");if(i.isInitialized(n)){const s=i.getImmediate({identifier:n}),r=i.getOptions(n);if(vl(r,e))return s;throw new q(N.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new q(N.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e,instanceIdentifier:n})}function Vn(t){return t._firestoreClient||R4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function R4(t){var e,n,i;const s=t._freezeSettings(),r=function(l,c,a,h){return new oz(l,c,a,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S4(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new S9(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function j9(t,e){b4(t=gt(t,on));const n=Vn(t);if(n._uninitializedComponentsProvider)throw new q(N.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),s=new yd;return P4(n,s,new LS(s,i.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function O9(t){b4(t=gt(t,on));const e=Vn(t);if(e._uninitializedComponentsProvider)throw new q(N.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new yd;return P4(e,i,new p4(i,n.cacheSizeBytes))}function P4(t,e,n){const i=new jn;return t.asyncQueue.enqueue(async()=>{try{await Jf(t,n),await Z1(t,e),i.resolve()}catch(s){const r=s;if(!m4(r))throw r;ws("Error enabling indexeddb cache. Falling back to memory cache: "+r),i.reject(r)}}).then(()=>i.promise)}function M9(t){if(t._initialized&&!t._terminated)throw new q(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!Xi.D())return Promise.resolve();const s=i+"main";await Xi.delete(s)}(_S(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function z9(t){return function(n){const i=new jn;return n.asyncQueue.enqueueAndForget(async()=>r9(await MS(n),i)),i.promise}(Vn(t=gt(t,on)))}function V9(t){return x9(Vn(t=gt(t,on)))}function F9(t){return T9(Vn(t=gt(t,on)))}function B9(t,e){const n=Vn(t=gt(t,on)),i=new N9;return k9(n,t._databaseId,e,i),i}function $9(t,e){return R9(Vn(t=gt(t,on)),e).then(n=>n?new _i(t,null,n.query):null)}function b4(t){if(t._initialized||t._terminated)throw new q(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Cn.fromBase64String(e))}catch(n){throw new q(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=/^__.*__$/;class q9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Da(e,this.data,n,this.fieldTransforms)}}class A4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class yg{constructor(e,n,i,s,r,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ru(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.pu(e),s}yu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Zp(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(N4(this.Vu)&&U9.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class W9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_d(e)}Cu(e,n,i,s=!1){return new yg({Vu:e,methodName:n,Du:i,path:Bt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ql(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new W9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sg(t,e,n,i,s,r={}){const o=t.Cu(r.merge||r.mergeFields?2:0,e,n,s);HS("Data must be an object, but it was:",o,i);const l=j4(i,o);let c,a;if(r.merge)c=new Ei(o.fieldMask),a=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const p=ty(e,f,n);if(!o.contains(p))throw new q(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);M4(h,p)||h.push(p)}c=new Ei(h),a=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,a=o.fieldTransforms;return new q9(new Kn(l),c,a)}class wd extends Ul{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}function D4(t,e,n){return new yg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class FS extends Ul{_toFieldTransform(e){return new pd(e.path,new ca)}isEqual(e){return e instanceof FS}}class BS extends Ul{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=D4(this,e,!0),i=this.vu.map(r=>Wl(r,n)),s=new Tl(i);return new pd(e.path,s)}isEqual(e){return e instanceof BS&&vl(this.vu,e.vu)}}class $S extends Ul{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=D4(this,e,!0),i=this.vu.map(r=>Wl(r,n)),s=new Il(i);return new pd(e.path,s)}isEqual(e){return e instanceof $S&&vl(this.vu,e.vu)}}class US extends Ul{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new aa(e.serializer,ab(e.serializer,this.Fu));return new pd(e.path,n)}isEqual(e){return e instanceof US&&this.Fu===e.Fu}}function qS(t,e,n,i){const s=t.Cu(1,e,n);HS("Data must be an object, but it was:",s,i);const r=[],o=Kn.empty();$l(i,(c,a)=>{const h=GS(e,c,n);a=ct(a);const f=s.yu(h);if(a instanceof wd)r.push(h);else{const p=Wl(a,f);p!=null&&(r.push(h),o.set(h,p))}});const l=new Ei(r);return new A4(o,l,s.fieldTransforms)}function WS(t,e,n,i,s,r){const o=t.Cu(1,e,n),l=[ty(e,i,n)],c=[s];if(r.length%2!=0)throw new q(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)l.push(ty(e,r[p])),c.push(r[p+1]);const a=[],h=Kn.empty();for(let p=l.length-1;p>=0;--p)if(!M4(a,l[p])){const m=l[p];let _=c[p];_=ct(_);const g=o.yu(m);if(_ instanceof wd)a.push(m);else{const S=Wl(_,g);S!=null&&(a.push(m),h.set(m,S))}}const f=new Ei(a);return new A4(h,f,o.fieldTransforms)}function L4(t,e,n,i=!1){return Wl(n,t.Cu(i?4:3,e))}function Wl(t,e){if(O4(t=ct(t)))return HS("Unsupported field value:",e,t),j4(t,e);if(t instanceof Ul)return function(i,s){if(!N4(s.Vu))throw s.Su(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const l of i){let c=Wl(l,s.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ab(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ut.fromDate(i);return{timestampValue:ua(s.serializer,r)}}if(i instanceof Ut){const r=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ua(s.serializer,r)}}if(i instanceof vg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $s)return{bytesValue:wb(s.serializer,i._byteString)};if(i instanceof Kt){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hS(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Su(`Unsupported field value: ${_g(i)}`)}(t,e)}function j4(t,e){const n={};return UP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$l(t,(i,s)=>{const r=Wl(s,e.fu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function O4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof vg||t instanceof $s||t instanceof Kt||t instanceof Ul)}function HS(t,e,n){if(!O4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=_g(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function ty(t,e,n){if((e=ct(e))instanceof To)return e._internalPath;if(typeof e=="string")return GS(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function GS(t,e,n){if(e.search(H9)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new To(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${i}`),o&&(c+=` in document ${s}`),c+=")"),new q(N.INVALID_ARGUMENT,l+t+c)}function M4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends $h{data(){return super.data()}}function wg(t,e){return typeof e=="string"?GS(t,e):e instanceof To?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KS{}class xd extends KS{}function Nr(t,e,...n){let i=[];e instanceof KS&&i.push(e),i=i.concat(n),function(r){const o=r.filter(c=>c instanceof QS).length,l=r.filter(c=>c instanceof xg).length;if(o>1||o>0&&l>0)throw new q(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class xg extends xd{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new xg(e,n,i)}_apply(e){const n=this._parse(e);return F4(e._query,n),new _i(e.firestore,e.converter,F1(e._query,n))}_parse(e){const n=ql(e.firestore);return function(r,o,l,c,a,h,f){let p;if(a.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){GI(f,h);const m=[];for(const _ of f)m.push(HI(c,r,_));p={arrayValue:{values:m}}}else p=HI(c,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||GI(f,h),p=L4(l,o,f,h==="in"||h==="not-in");return lt.create(a,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function K9(t,e,n){const i=e,s=wg("where",t);return xg._create(s,i,n)}class QS extends KS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QS(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Tt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let o=s;const l=r.getFlattenedFilters();for(const c of l)F4(o,c),o=F1(o,c)}(e._query,n),new _i(e.firestore,e.converter,F1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YS extends xd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YS(e,n)}_apply(e){const n=function(s,r,o){if(s.startAt!==null)throw new q(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vh(r,o)}(e._query,this._field,this._direction);return new _i(e.firestore,e.converter,function(s,r){const o=s.explicitOrderBy.concat([r]);return new Tr(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Q9(t,e="asc"){const n=e,i=wg("orderBy",t);return YS._create(i,n)}class Tg extends xd{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Tg(e,n,i)}_apply(e){return new _i(e.firestore,e.converter,Wp(e._query,this._limit,this._limitType))}}function Y9(t){return x4("limit",t),Tg._create("limit",t,"F")}function X9(t){return x4("limitToLast",t),Tg._create("limitToLast",t,"L")}class Ig extends xd{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Ig(e,n,i)}_apply(e){const n=V4(e,this.type,this._docOrFields,this._inclusive);return new _i(e.firestore,e.converter,function(s,r){return new Tr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,r,s.endAt)}(e._query,n))}}function J9(...t){return Ig._create("startAt",t,!0)}function Z9(...t){return Ig._create("startAfter",t,!1)}class Eg extends xd{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Eg(e,n,i)}_apply(e){const n=V4(e,this.type,this._docOrFields,this._inclusive);return new _i(e.firestore,e.converter,function(s,r){return new Tr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,r)}(e._query,n))}}function e8(...t){return Eg._create("endBefore",t,!1)}function t8(...t){return Eg._create("endAt",t,!0)}function V4(t,e,n,i){if(n[0]=ct(n[0]),n[0]instanceof $h)return function(r,o,l,c,a){if(!c)throw new q(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const f of Vc(r))if(f.field.isKeyField())h.push(wl(o,c.key));else{const p=c.data.field(f.field);if(lg(p))throw new q(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new q(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}h.push(p)}return new wo(h,a)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=ql(t.firestore);return function(o,l,c,a,h,f){const p=o.explicitOrderBy;if(h.length>p.length)throw new q(N.INVALID_ARGUMENT,`Too many arguments provided to ${a}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let _=0;_<h.length;_++){const g=h[_];if(p[_].field.isKeyField()){if(typeof g!="string")throw new q(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${a}(), but got a ${typeof g}`);if(!sS(o)&&g.indexOf("/")!==-1)throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${a}() must be a plain document ID, but '${g}' contains a slash.`);const S=o.path.child(ot.fromString(g));if(!oe.isDocumentKey(S))throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${a}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const v=new oe(S);m.push(wl(l,v))}else{const S=L4(c,a,g);m.push(S)}}return new wo(m,f)}(t._query,t.firestore._databaseId,s,e,n,i)}}function HI(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new q(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&n.indexOf("/")!==-1)throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!oe.isDocumentKey(i))throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wl(t,new oe(i))}if(n instanceof Kt)return wl(t,n._key);throw new q(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_g(n)}.`)}function GI(t,e){if(!Array.isArray(t)||t.length===0)throw new q(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F4(t,e){const n=function(s,r){for(const o of s)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XS{convertValue(e,n="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return $l(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new vg(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nS(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Oh(e));default:return null}}convertTimestamp(e){const n=mr(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);ke(Nb(i));const s=new yo(i.get(1),i.get(3)),r=new oe(i.popFirst(5));return s.isEqual(n)||fn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class n8 extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let gr=class extends $h{constructor(e,n,i,s,r,o){super(e,n,i,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(wg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Ku=class extends gr{data(e={}){return super.data(e)}},Io=class{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new il(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ku(this._firestore,this._userDataWriter,i.key,i,new il(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new il(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new il(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let a=-1,h=-1;return l.type!==0&&(a=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:i8(l.type),doc:c,oldIndex:a,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function i8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}function B4(t,e){return t instanceof gr&&e instanceof gr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Io&&e instanceof Io&&t._firestore===e._firestore&&k4(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){t=gt(t,Kt);const e=gt(t.firestore,on);return v4(Vn(e),t._key).then(n=>JS(e,t,n))}class Hl extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function s8(t){t=gt(t,Kt);const e=gt(t.firestore,on),n=Vn(e),i=new Hl(e);return I9(n,t._key).then(s=>new gr(e,i,t._key,s,new il(s!==null&&s.hasLocalMutations,!0),t.converter))}function r8(t){t=gt(t,Kt);const e=gt(t.firestore,on);return v4(Vn(e),t._key,{source:"server"}).then(n=>JS(e,t,n))}function o8(t){t=gt(t,_i);const e=gt(t.firestore,on),n=Vn(e),i=new Hl(e);return z4(t._query),y4(n,t._query).then(s=>new Io(e,i,t,s))}function l8(t){t=gt(t,_i);const e=gt(t.firestore,on),n=Vn(e),i=new Hl(e);return E9(n,t._query).then(s=>new Io(e,i,t,s))}function c8(t){t=gt(t,_i);const e=gt(t.firestore,on),n=Vn(e),i=new Hl(e);return y4(n,t._query,{source:"server"}).then(s=>new Io(e,i,t,s))}function em(t,e,n){t=gt(t,Kt);const i=gt(t.firestore,on),s=Cg(t.converter,e,n);return Id(i,[Sg(ql(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$t.none())])}function tm(t,e,n,...i){t=gt(t,Kt);const s=gt(t.firestore,on),r=ql(s);let o;return o=typeof(e=ct(e))=="string"||e instanceof To?WS(r,"updateDoc",t._key,e,n,i):qS(r,"updateDoc",t._key,e),Id(s,[o.toMutation(t._key,$t.exists(!0))])}function $4(t){return Id(gt(t.firestore,on),[new La(t._key,$t.none())])}function a8(t,e){const n=gt(t.firestore,on),i=Rl(t),s=Cg(t.converter,e);return Id(n,[Sg(ql(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,$t.exists(!1))]).then(()=>i)}function nm(t,...e){var n,i,s;t=ct(t);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ey(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(ey(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,a,h;if(t instanceof Kt)a=gt(t.firestore,on),h=Na(t._key.path),c={next:f=>{e[o]&&e[o](JS(a,t,f))},error:e[o+1],complete:e[o+2]};else{const f=gt(t,_i);a=gt(f.firestore,on),h=f._query;const p=new Hl(a);c={next:m=>{e[o]&&e[o](new Io(a,p,f,m))},error:e[o+1],complete:e[o+2]},z4(t._query)}return function(p,m,_,g){const S=new mg(g),v=new RS(m,S,_);return p.asyncQueue.enqueueAndForget(async()=>ES(await ga(p),v)),()=>{S.Qa(),p.asyncQueue.enqueueAndForget(async()=>CS(await ga(p),v))}}(Vn(a),h,l,c)}function u8(t,e){return C9(Vn(t=gt(t,on)),ey(e)?e:{next:e})}function Id(t,e){return function(i,s){const r=new jn;return i.asyncQueue.enqueueAndForget(async()=>t9(await MS(i),s,r)),r.promise}(Vn(t),e)}function JS(t,e,n){const i=n.docs.get(e._key),s=new Hl(t);return new gr(t,s,e._key,i,new il(n.hasPendingWrites,n.fromCache),e.converter)}class h8{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=m8(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function d8(t){return new h8(t)}class f8{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new yd,this._offlineComponentProvider=new LS(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}class p8{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new yd,this._offlineComponentProvider=new p4(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes)}}function m8(t){return new f8(t==null?void 0:t.forceOwnership)}function g8(){return new p8}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v8=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ql(e)}set(e,n,i){this._verifyNotCommitted();const s=Ur(e,this._firestore),r=Cg(s.converter,n,i),o=Sg(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(o.toMutation(s._key,$t.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=Ur(e,this._firestore);let o;return o=typeof(n=ct(n))=="string"||n instanceof To?WS(this._dataReader,"WriteBatch.update",r._key,n,i,s):qS(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(o.toMutation(r._key,$t.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ur(e,this._firestore);return this._mutations=this._mutations.concat(new La(n._key,$t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ur(t,e){if((t=ct(t)).firestore!==e)throw new q(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y8=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=ql(n)}get(n){const i=Ur(n,this._firestore),s=new n8(this._firestore);return this._transaction.lookup([i._key]).then(r=>{if(!r||r.length!==1)return ve();const o=r[0];if(o.isFoundDocument())return new $h(this._firestore,s,o.key,o,i.converter);if(o.isNoDocument())return new $h(this._firestore,s,i._key,null,i.converter);throw ve()})}set(n,i,s){const r=Ur(n,this._firestore),o=Cg(r.converter,i,s),l=Sg(this._dataReader,"Transaction.set",r._key,o,r.converter!==null,s);return this._transaction.set(r._key,l),this}update(n,i,s,...r){const o=Ur(n,this._firestore);let l;return l=typeof(i=ct(i))=="string"||i instanceof To?WS(this._dataReader,"Transaction.update",o._key,i,s,r):qS(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,l),this}delete(n){const i=Ur(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ur(e,this._firestore),i=new Hl(this._firestore);return super.get(e).then(s=>new gr(this._firestore,i,n._key,s._document,new il(!1,!1),n.converter))}};function S8(t,e,n){t=gt(t,on);const i=Object.assign(Object.assign({},_8),n);return function(r){if(r.maxAttempts<1)throw new q(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const c=new jn;return r.asyncQueue.enqueueAndForget(async()=>{const a=await w9(r);new y9(r.asyncQueue,a,l,o,c).Ya()}),c.promise}(Vn(t),s=>e(new y8(t,s)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return new wd("deleteField")}function x8(){return new FS("serverTimestamp")}function T8(...t){return new BS("arrayUnion",t)}function I8(...t){return new $S("arrayRemove",t)}function E8(t){return new US("increment",t)}(function(e,n=!0){(function(s){Aa=s})(Us),Fs(new ys("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),l=new on(new PM(i.getProvider("auth-internal")),new DM(i.getProvider("app-check-internal")),function(a,h){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(a.options.projectId,h)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),si($T,"4.6.0",e),si($T,"4.6.0","esm2017")})();var C8="firebase",k8="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(C8,k8,"app");function ZS(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function U4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R8=U4,q4=new zl("auth","Firebase",U4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new td("@firebase/auth");function P8(t,...e){im.logLevel<=Ze.WARN&&im.warn(`Auth (${Us}): ${t}`,...e)}function Zf(t,...e){im.logLevel<=Ze.ERROR&&im.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw ew(t,...e)}function Mi(t,...e){return ew(t,...e)}function W4(t,e,n){const i=Object.assign(Object.assign({},R8()),{[e]:n});return new zl("auth","Firebase",i).create(e,{appName:t.name})}function ao(t){return W4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ew(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return q4.create(t,...e)}function Ee(t,e,...n){if(!t)throw ew(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function vr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H4(){return KI()==="http:"||KI()==="https:"}function KI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H4()||J6()||"connection"in navigator)?navigator.onLine:!0}function A8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=C0()||uR()}get(){return b8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=new Ed(3e4,6e4);function Cr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,i,s={}){return K4(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const l=Vl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),G4.fetch()(Q4(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},r))})}async function K4(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},N8),e);try{const s=new L8(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,a]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Au(t,"user-disabled",o);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw W4(t,h,a);_r(t,h)}}catch(s){if(s instanceof xs)throw s;_r(t,"network-request-failed",{message:String(s)})}}async function kg(t,e,n,i,s={}){const r=await qs(t,e,n,i,s);return"mfaPendingCredential"in r&&_r(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Q4(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?tw(t.config,s):`${t.config.apiScheme}://${s}`}class L8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mi(this.auth,"network-request-failed")),D8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Mi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){return t!==void 0&&t.getResponse!==void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t){return(await qs(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Y4(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M8(t,e=!1){const n=ct(t),i=await n.getIdToken(e),s=nw(i);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Qu(L_(s.auth_time)),issuedAtTime:Qu(L_(s.iat)),expirationTime:Qu(L_(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function L_(t){return Number(t)*1e3}function nw(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dp(n);return s?JSON.parse(s):(Zf("Failed to decode base64 JWT payload"),null)}catch(s){return Zf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function YI(t){const e=nw(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xs&&z8(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function z8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Uh(t,Y4(n,{idToken:i}));Ee(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?X4(r.providerUserInfo):[],l=B8(t.providerData,o),c=t.isAnonymous,a=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),h=c?a:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new iy(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function F8(t){const e=ct(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B8(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function X4(t){return t.map(e=>{var{providerId:n}=e,i=ZS(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(t,e){const n=await K4(t,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=Q4(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",G4.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U8(t,e){return qs(t,"POST","/v2/accounts:revokeToken",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=YI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await $8(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Bc;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(Ee(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=ZS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new iy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Uh(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M8(this,e)}reload(){return F8(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await Uh(this,O8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,l,c,a,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(a=n.createdAt)!==null&&a!==void 0?a:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:x,stsTokenManager:E}=n;Ee(w&&E,e,"internal-error");const k=Bc.fromJSON(this.name,E);Ee(typeof w=="string",e,"internal-error"),Dr(f,e.name),Dr(p,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),Dr(m,e.name),Dr(_,e.name),Dr(g,e.name),Dr(S,e.name),Dr(v,e.name),Dr(y,e.name);const P=new nr({uid:w,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:I,photoURL:_,phoneNumber:m,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:y});return x&&Array.isArray(x)&&(P.providerData=x.map(j=>Object.assign({},j))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new Bc;s.updateFromServerResponse(n);const r=new nr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await sm(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?X4(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Bc;l.updateFromIdToken(i);const c=new nr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),a={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new iy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,a),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Map;function ir(t){vr(t instanceof Function,"Expected a class definition");let e=XI.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J4.type="NONE";const JI=J4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class $c{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=ep(this.userKey,s.apiKey,r),this.fullPersistenceKey=ep("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $c(ir(JI),e,i);const s=(await Promise.all(n.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a);let r=s[0]||ir(JI);const o=ep(i,e.config.apiKey,e.name);let l=null;for(const a of n)try{const h=await a._get(o);if(h){const f=nr._fromJSON(e,h);a!==r&&(l=f),r=a;break}}catch{}const c=s.filter(a=>a._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new $c(r,e,i):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async a=>{if(a!==r)try{await a._remove(o)}catch{}})),new $c(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(sA(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Z4(t=yn()){return/firefox\//i.test(t)}function iw(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(t=yn()){return/crios\//i.test(t)}function tA(t=yn()){return/iemobile/i.test(t)}function nA(t=yn()){return/android/i.test(t)}function iA(t=yn()){return/blackberry/i.test(t)}function sA(t=yn()){return/webos/i.test(t)}function Rg(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q8(t=yn()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W8(){return Z6()&&document.documentMode===10}function rA(t=yn()){return Rg(t)||nA(t)||sA(t)||iA(t)||/windows phone/i.test(t)||tA(t)}function H8(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e=[]){let n;switch(t){case"Browser":n=ZI(yn());break;case"Worker":n=`${ZI(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Cr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=6;class Y8{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new G8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await $c.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Y4(this,{idToken:e}),i=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(ao(this));const n=e?ct(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K8(this),n=new Y8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await U8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await $c.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Va(t){return ct(t)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J8(t){Pg=t}function lA(t){return Pg.loadJS(t)}function Z8(){return Pg.recaptchaV2Script}function eF(){return Pg.gapiScript}function cA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){const n=Fl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(vl(r,e??{}))return s;_r(s,"already-initialized")}return n.initialize({options:e})}function nF(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iF(t,e,n){const i=Va(t);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=aA(e),{host:o,port:l}=sF(e),c=l===null?"":`:${l}`;i.config.emulator={url:`${r}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||rF()}function aA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sF(t){const e=aA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:tE(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:tE(o)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t,e){return kg(t,"POST","/v1/accounts:signInWithIdp",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="http://localhost";class Pl extends sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=ZS(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Pl(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uc(e,n)}buildRequest(){const e={requestUri:oF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return qs(t,"POST","/v1/accounts:sendVerificationCode",Cr(t,e))}async function cF(t,e){return kg(t,"POST","/v1/accounts:signInWithPhoneNumber",Cr(t,e))}async function aF(t,e){const n=await kg(t,"POST","/v1/accounts:signInWithPhoneNumber",Cr(t,e));if(n.temporaryProof)throw Au(t,"account-exists-with-different-credential",n);return n}const uF={USER_NOT_FOUND:"user-not-found"};async function hF(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return kg(t,"POST","/v1/accounts:signInWithPhoneNumber",Cr(t,n),uF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends sw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Yu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Yu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cF(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return aF(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return hF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:r}=e;return!i&&!n&&!s&&!r?null:new Yu({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends uA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Cd{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pl._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Wr.credential(n,i)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Cd{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Pl._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Gr.credential(n,i)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await nr._fromIdTokenResponse(e,i,s),o=nE(i);return new _a({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=nE(i);return new _a({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends xs{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new rm(e,n,i,s)}}function hA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,r,e,i):r})}async function dF(t,e,n=!1){const i=await Uh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e,n=!1){const{auth:i}=t;if(Ps(i.app))return Promise.reject(ao(i));const s="reauthenticate";try{const r=await Uh(t,hA(i,s,e,t),n);Ee(r.idToken,i,"internal-error");const o=nw(r.idToken);Ee(o,i,"internal-error");const{sub:l}=o;return Ee(t.uid===l,i,"user-mismatch"),_a._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&_r(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e,n=!1){if(Ps(t.app))return Promise.reject(ao(t));const i="signIn",s=await hA(t,i,e),r=await _a._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function pF(t,e){return dA(Va(t),e)}function mF(t,e,n,i){return ct(t).onIdTokenChanged(e,n,i)}function gF(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){return qs(t,"POST","/v2/accounts/mfaEnrollment:start",Cr(t,e))}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){const t=yn();return iw(t)||Rg(t)}const yF=1e3,SF=10;class pA extends fA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vF()&&H8(),this.fallbackToPolling=rA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);W8()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,SF):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},yF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pA.type="LOCAL";const wF=pA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends fA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mA.type="SESSION";const gA=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new bg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(o).map(async a=>a(n.origin,r)),c=await xF(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const a=rw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===a)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(p.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:a,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function IF(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function EF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kF(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebaseLocalStorageDb",RF=1,lm="firebaseLocalStorage",vA="fbase_key";class kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ag(t,e){return t.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function PF(){const t=indexedDB.deleteDatabase(_A);return new kd(t).toPromise()}function sy(){const t=indexedDB.open(_A,RF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lm,{keyPath:vA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lm)?e(i):(i.close(),await PF(),e(await sy()))})})}async function iE(t,e,n){const i=Ag(t,!0).put({[vA]:e,value:n});return new kd(i).toPromise()}async function bF(t,e){const n=Ag(t,!1).get(e),i=await new kd(n).toPromise();return i===void 0?null:i.value}function sE(t,e){const n=Ag(t,!0).delete(e);return new kd(n).toPromise()}const AF=800,NF=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>NF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(kF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EF(),!this.activeServiceWorker)return;this.sender=new TF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await iE(e,om,"1"),await sE(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>iE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bF(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Ag(s,!1).getAll();return new kd(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const DF=yA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){return qs(t,"POST","/v2/accounts/mfaSignIn:start",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=500,OF=6e4,ff=1e12;class MF{constructor(e){this.auth=e,this.counter=ff,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new zF(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||ff;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||ff;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||ff;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class zF{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ee(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=VF(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},OF)},jF))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function VF(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=cA("rcb"),FF=new Ed(3e4,6e4);class BF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_n().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ee($F(n),e,"argument-error"),this.shouldResolveImmediately(n)&&QI(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((i,s)=>{const r=_n().setTimeout(()=>{s(Mi(e,"network-request-failed"))},FF.get());_n()[j_]=()=>{_n().clearTimeout(r),delete _n()[j_];const l=_n().grecaptcha;if(!l||!QI(l)){s(Mi(e,"internal-error"));return}const c=l.render;l.render=(a,h)=>{const f=c(a,h);return this.counter++,f},this.hostLanguage=n,i(l)};const o=`${Z8()}?${Vl({onload:j_,render:"explicit",hl:n})}`;lA(o).catch(()=>{clearTimeout(r),s(Mi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=_n().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function $F(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class UF{async load(e){return new MF(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="recaptcha",qF={theme:"light",type:"image"};class WF{constructor(e,n,i=Object.assign({},qF)){this.parameters=i,this.type=SA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Va(e),this.isInvisible=this.parameters.size==="invisible",Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Ee(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new UF:new BF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const r=o=>{o&&(this.tokenChangeListeners.delete(r),s(o))};this.tokenChangeListeners.add(r),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=_n()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ee(H4()&&!ow(),this.auth,"internal-error"),await HF(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await j8(this.auth);Ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function HF(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Yu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function KF(t,e,n){if(Ps(t.app))return Promise.reject(ao(t));const i=Va(t),s=await QF(i,e,ct(n));return new GF(s,r=>pF(i,r))}async function QF(t,e,n){var i;const s=await n.verify();try{Ee(typeof s=="string",t,"argument-error"),Ee(n.type===SA,t,"argument-error");let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const o=r.session;if("phoneNumber"in r)return Ee(o.type==="enroll",t,"internal-error"),(await _F(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{Ee(o.type==="signin",t,"internal-error");const l=((i=r.multiFactorHint)===null||i===void 0?void 0:i.uid)||r.multiFactorUid;return Ee(l,t,"missing-multi-factor-info"),(await LF(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await lF(t,{phoneNumber:r.phoneNumber,recaptchaToken:s});return o}}finally{n._reset()}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){return e?ir(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends sw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XF(t){return dA(t.auth,new lw(t),t.bypassAuthState)}function JF(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),fF(n,new lw(t),t.bypassAuthState)}async function ZF(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),dF(n,new lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(a){this.reject(a)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XF;case"linkViaPopup":case"linkViaRedirect":return ZF;case"reauthViaPopup":case"reauthViaRedirect":return JF;default:_r(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new Ed(2e3,1e4);class Rc extends wA{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Rc.currentPopupAction&&Rc.currentPopupAction.cancel(),Rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=rw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e7.get())};e()}}Rc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="pendingRedirect",tp=new Map;class n7 extends wA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const i=await i7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i7(t,e){const n=o7(e),i=r7(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function s7(t,e){tp.set(t._key(),e)}function r7(t){return ir(t._redirectPersistence)}function o7(t){return ep(t7,t.config.apiKey,t.name)}async function l7(t,e,n=!1){if(Ps(t.app))return Promise.reject(ao(t));const i=Va(t),s=YF(i,e),o=await new n7(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=10*60*1e3;class a7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!xA(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c7&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f7=/^https?/;async function p7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h7(t);for(const n of e)try{if(m7(n))return}catch{}_r(t,"unauthorized-domain")}function m7(t){const e=ny(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!f7.test(n))return!1;if(d7.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new Ed(3e4,6e4);function oE(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _7(t){return new Promise((e,n)=>{var i,s,r;function o(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Mi(t,"network-request-failed"))},timeout:g7.get()})}if(!((s=(i=_n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=_n().gapi)===null||r===void 0)&&r.load)o();else{const l=cA("iframefcb");return _n()[l]=()=>{gapi.load?o():n(Mi(t,"network-request-failed"))},lA(`${eF()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw np=null,e})}let np=null;function v7(t){return np=np||_7(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new Ed(5e3,15e3),S7="__/auth/iframe",w7="emulator/auth/iframe",x7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I7(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,w7):`https://${t.config.authDomain}/${S7}`,i={apiKey:e.apiKey,appName:t.name,v:Us},s=T7.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Vl(i).slice(1)}`}async function E7(t){const e=await v7(t),n=_n().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:I7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x7,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Mi(t,"network-request-failed"),l=_n().setTimeout(()=>{r(o)},y7.get());function c(){_n().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k7=500,R7=600,P7="_blank",b7="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A7(t,e,n,i=k7,s=R7){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},C7),{width:i.toString(),height:s.toString(),top:r,left:o}),a=yn().toLowerCase();n&&(l=eA(a)?P7:n),Z4(a)&&(e=e||b7,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[m,_])=>`${p}${m}=${_},`,"");if(q8(a)&&l!=="_self")return N7(e||"",l),new lE(null);const f=window.open(e||"",l,h);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new lE(f)}function N7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="__/auth/handler",L7="emulator/auth/handler",j7=encodeURIComponent("fac");async function cE(t,e,n,i,s,r){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Us,eventId:s};if(e instanceof uA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(r||{}))o[h]=f}if(e instanceof Cd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),a=c?`#${j7}=${encodeURIComponent(c)}`:"";return`${O7(t)}?${Vl(l).slice(1)}${a}`}function O7({config:t}){return t.emulator?tw(t,L7):`https://${t.authDomain}/${D7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="webStorageSupport";class M7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=l7,this._overrideRedirectResult=s7}async _openPopup(e,n,i,s){var r;vr((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await cE(e,n,i,ny(),s);return A7(e,o,rw())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await cE(e,n,i,ny(),s);return IF(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(vr(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await E7(e),i=new a7(e);return n.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O_,{type:O_},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[O_];o!==void 0&&n(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rA()||iw()||Rg()}}const z7=M7;var aE="@firebase/auth",uE="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B7(t){Fs(new ys("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(t)},a=new X8(i,s,r,c);return nF(a,n),a},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fs(new ys("auth-internal",e=>{const n=Va(e.getProvider("auth").getImmediate());return(i=>new V7(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(aE,uE,F7(t)),si(aE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=5*60,U7=cR("authIdTokenMaxAge")||$7;let hE=null;const q7=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>U7)return;const s=n==null?void 0:n.token;hE!==s&&(hE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W7(t=Um()){const e=Fl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tF(t,{popupRedirectResolver:z7,persistence:[DF,wF,gA]}),i=cR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=q7(r.toString());gF(n,o,()=>o(n.currentUser)),mF(n,l=>o(l))}}const s=rR("auth");return s&&iF(n,`http://${s}`),n}function H7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J8({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Mi("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",H7().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B7("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this._delegate=e,this.firebase=n,Th(e,new ys("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),b0(this._delegate)))}_getService(e,n=mo){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=mo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Th(this._delegate,e)}_addOrOverwriteComponent(e){SR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},dE=new zl("app-compat","Firebase",K7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){const e={},n={__esModule:!0,initializeApp:r,app:s,registerVersion:si,setLogLevel:IR,onLog:TR,apps:null,SDK_VERSION:Us,INTERNAL:{registerComponent:l,removeApp:i,useAsService:c,modularAPIs:vO}};n.default=n,Object.defineProperty(n,"apps",{get:o});function i(a){delete e[a]}function s(a){if(a=a||mo,!vs(e,a))throw dE.create("no-app",{appName:a});return e[a]}s.App=t;function r(a,h={}){const f=$m(a,h);if(vs(e,f.name))return e[f.name];const p=new t(f,n);return e[f.name]=p,p}function o(){return Object.keys(e).map(a=>e[a])}function l(a){const h=a.name,f=h.replace("-compat","");if(Fs(a)&&a.type==="PUBLIC"){const p=(m=s())=>{if(typeof m[f]!="function")throw dE.create("invalid-app-argument",{appName:h});return m[f]()};a.serviceProps!==void 0&&wh(p,a.serviceProps),n[f]=p,t.prototype[f]=function(...m){return this._getService.bind(this,h).apply(this,a.multipleInstances?m:[])}}return a.type==="PUBLIC"?n[f]:null}function c(a,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){const t=Q7(G7);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:TA,extendNamespace:e,createSubscribe:mR,ErrorFactory:zl,deepExtend:wh});function e(n){wh(t,n)}return t}const Y7=TA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new td("@firebase/app-compat"),X7="@firebase/app-compat",J7="0.2.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){si(X7,J7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aR()&&self.firebase!==void 0){fE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&fE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const eB=Y7;Z7();const tB="@firebase/firestore-compat",nB="0.3.29";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){if(typeof Uint8Array>"u")throw new q("unimplemented","Uint8Arrays are not available in this environment.")}function mE(){if(!sz())throw new q("unimplemented","Blobs are unavailable in Firestore in this environment.")}let IA=class ry{constructor(e){this._delegate=e}static fromBase64String(e){return mE(),new ry($s.fromBase64String(e))}static fromUint8Array(e){return pE(),new ry($s.fromUint8Array(e))}toBase64(){return mE(),this._delegate.toBase64()}toUint8Array(){return pE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){return iB(t,["next","error","complete"])}function iB(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{enableIndexedDbPersistence(e,n){return j9(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return O9(e._delegate)}clearIndexedDbPersistence(e){return M9(e._delegate)}}class EA{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof yo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&ws("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){P9(this._delegate,e,n,i)}enableNetwork(){return V9(this._delegate)}disableNetwork(){return F9(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,w4("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return z9(this._delegate)}onSnapshotsInSync(e){return u8(this._delegate,e)}get app(){if(!this._appCompat)throw new q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new va(this,C4(this._delegate,e))}catch(n){throw di(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ji(this,Rl(this._delegate,e))}catch(n){throw di(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hi(this,b9(this._delegate,e))}catch(n){throw di(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return S8(this._delegate,n=>e(new CA(this,n)))}batch(){return Vn(this._delegate),new kA(new v8(this._delegate,e=>Id(this._delegate,e)))}loadBundle(e){return B9(this._delegate,e)}namedQuery(e){return $9(this._delegate,e).then(n=>n?new hi(this,n):null)}}class Ng extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(new $s(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ji.forKey(n,this.firestore,null)}}function rB(t){EM(t)}class CA{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ng(e)}get(e){const n=sl(e);return this._delegate.get(n).then(i=>new qh(this._firestore,new gr(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const s=sl(e);return i?(cw("Transaction.set",i),this._delegate.set(s,n,i)):this._delegate.set(s,n),this}update(e,n,i,...s){const r=sl(e);return arguments.length===2?this._delegate.update(r,n):this._delegate.update(r,n,i,...s),this}delete(e){const n=sl(e);return this._delegate.delete(n),this}}class kA{constructor(e){this._delegate=e}set(e,n,i){const s=sl(e);return i?(cw("WriteBatch.set",i),this._delegate.set(s,n,i)):this._delegate.set(s,n),this}update(e,n,i,...s){const r=sl(e);return arguments.length===2?this._delegate.update(r,n):this._delegate.update(r,n,i,...s),this}delete(e){const n=sl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class bl{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new Ku(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wh(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=bl.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let r=s.get(n);return r||(r=new bl(e,new Ng(e),n),s.set(n,r)),r}}bl.INSTANCES=new WeakMap;class Ji{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ng(e)}static forPath(e,n,i){if(e.length%2!==0)throw new q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ji(n,new Kt(n._delegate,i,new oe(e)))}static forKey(e,n,i){return new Ji(n,new Kt(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new va(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new va(this.firestore,C4(this._delegate,e))}catch(n){throw di(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ct(e),e instanceof Kt?VS(this._delegate,e):!1}set(e,n){n=cw("DocumentReference.set",n);try{return n?em(this._delegate,e,n):em(this._delegate,e)}catch(i){throw di(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?tm(this._delegate,e):tm(this._delegate,e,n,...i)}catch(s){throw di(s,"updateDoc()","DocumentReference.update()")}}delete(){return $4(this._delegate)}onSnapshot(...e){const n=RA(e),i=PA(e,s=>new qh(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return nm(this._delegate,n,i)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=s8(this._delegate):(e==null?void 0:e.source)==="server"?n=r8(this._delegate):n=Td(this._delegate),n.then(i=>new qh(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ji(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function di(t,e,n){return t.message=t.message.replace(e,n),t}function RA(t){for(const e of t)if(typeof e=="object"&&!oy(e))return e;return{}}function PA(t,e){var n,i;let s;return oy(t[0])?s=t[0]:oy(t[1])?s=t[1]:typeof t[0]=="function"?s={next:t[0],error:t[1],complete:t[2]}:s={next:t[1],error:t[2],complete:t[3]},{next:r=>{s.next&&s.next(e(r))},error:(n=s.error)===null||n===void 0?void 0:n.bind(s),complete:(i=s.complete)===null||i===void 0?void 0:i.bind(s)}}class qh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ji(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return B4(this._delegate,e._delegate)}}class Wh extends qh{data(e){const n=this._delegate.data(e);return this._delegate._converter||CM(n!==void 0),n}}class hi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ng(e)}where(e,n,i){try{return new hi(this.firestore,Nr(this._delegate,K9(e,n,i)))}catch(s){throw di(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new hi(this.firestore,Nr(this._delegate,Q9(e,n)))}catch(i){throw di(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hi(this.firestore,Nr(this._delegate,Y9(e)))}catch(n){throw di(n,"limit()","Query.limit()")}}limitToLast(e){try{return new hi(this.firestore,Nr(this._delegate,X9(e)))}catch(n){throw di(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hi(this.firestore,Nr(this._delegate,J9(...e)))}catch(n){throw di(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hi(this.firestore,Nr(this._delegate,Z9(...e)))}catch(n){throw di(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hi(this.firestore,Nr(this._delegate,e8(...e)))}catch(n){throw di(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hi(this.firestore,Nr(this._delegate,t8(...e)))}catch(n){throw di(n,"endAt()","Query.endAt()")}}isEqual(e){return k4(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=l8(this._delegate):(e==null?void 0:e.source)==="server"?n=c8(this._delegate):n=o8(this._delegate),n.then(i=>new ly(this.firestore,new Io(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=RA(e),i=PA(e,s=>new ly(this.firestore,new Io(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return nm(this._delegate,n,i)}withConverter(e){return new hi(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class oB{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ly{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new hi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new oB(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Wh(this._firestore,i))})}isEqual(e){return B4(this._delegate,e._delegate)}}class va extends hi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ji(this.firestore,e):null}doc(e){try{return e===void 0?new Ji(this.firestore,Rl(this._delegate)):new Ji(this.firestore,Rl(this._delegate,e))}catch(n){throw di(n,"doc()","CollectionReference.doc()")}}add(e){return a8(this._delegate,e).then(n=>new Ji(this.firestore,n))}isEqual(e){return VS(this._delegate,e._delegate)}withConverter(e){return new va(this.firestore,e?this._delegate.withConverter(bl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sl(t){return gt(t,Kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(...e){this._delegate=new To(...e)}static documentId(){return new aw(Bt.keyField().canonicalString())}isEqual(e){return e=ct(e),e instanceof To?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._delegate=e}static serverTimestamp(){const e=x8();return e._methodName="FieldValue.serverTimestamp",new Qo(e)}static delete(){const e=w8();return e._methodName="FieldValue.delete",new Qo(e)}static arrayUnion(...e){const n=T8(...e);return n._methodName="FieldValue.arrayUnion",new Qo(n)}static arrayRemove(...e){const n=I8(...e);return n._methodName="FieldValue.arrayRemove",new Qo(n)}static increment(e){const n=E8(e);return n._methodName="FieldValue.increment",new Qo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB={Firestore:EA,GeoPoint:vg,Timestamp:Ut,Blob:IA,Transaction:CA,WriteBatch:kA,DocumentReference:Ji,DocumentSnapshot:qh,Query:hi,QueryDocumentSnapshot:Wh,QuerySnapshot:ly,CollectionReference:va,FieldPath:aw,FieldValue:Qo,setLogLevel:rB,CACHE_SIZE_UNLIMITED:D9};function cB(t,e){t.INTERNAL.registerComponent(new ys("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),s=n.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps(Object.assign({},lB)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){cB(t,(e,n)=>new EA(e,n,new sB)),t.registerVersion(tB,nB)}aB(eB);const gE="@firebase/database",_E="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bA="";function uB(t){bA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hB(e)}}catch{}return new dB},rl=AA("localStorage"),cy=AA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new td("@firebase/database"),fB=function(){let t=1;return function(){return t++}}(),NA=function(t){const e=aj(t),n=new oj;n.update(e);const i=n.digest();return I0.encodeByteArray(i)},Rd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Rd.apply(null,i):typeof i=="object"?e+=Gn(i):e+=i,e+=" "}return e};let ul=null,vE=!0;const pB=function(t,e){he(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qc.logLevel=Ze.VERBOSE,ul=qc.log.bind(qc),e&&cy.set("logging_enabled",!0)):typeof t=="function"?ul=t:(ul=null,cy.remove("logging_enabled"))},ni=function(...t){if(vE===!0&&(vE=!1,ul===null&&cy.get("logging_enabled")===!0&&pB(!0)),ul){const e=Rd.apply(null,t);ul(e)}},Pd=function(t){return function(...e){ni(t,...e)}},ay=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rd(...t);qc.error(e)},yr=function(...t){const e=`FIREBASE FATAL ERROR: ${Rd(...t)}`;throw qc.error(e),new Error(e)},Ai=function(...t){const e="FIREBASE WARNING: "+Rd(...t);qc.warn(e)},mB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},DA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ya="[MIN_NAME]",Al="[MAX_NAME]",Fa=function(t,e){if(t===e)return 0;if(t===ya||e===Al)return-1;if(e===ya||t===Al)return 1;{const n=yE(t),i=yE(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_B=function(t,e){return t===e?0:t<e?-1:1},uu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},uw=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Gn(e[i]),n+=":",n+=uw(t[e[i]]);return n+="}",n},LA=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function ss(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jA=function(t){he(!DA(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,c;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const a=[];for(c=n;c;c-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(s?1:0),a.reverse();const h=a.join("");let f="";for(c=0;c<64;c+=8){let p=parseInt(h.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},vB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},SB=new RegExp("^-?(0*)\\d{1,10}$"),wB=-2147483648,xB=2147483647,yE=function(t){if(SB.test(t)){const e=Number(t);if(e>=wB&&e<=xB)return e}return null},Ba=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ai("Exception was thrown by user callback.",n),e},Math.floor(0))}},TB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ni("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ai(e)}}class Wc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="5",OA="v",MA="s",zA="r",VA="f",FA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BA="ls",$A="p",uy="ac",UA="websocket",qA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,i,s,r=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function CB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HA(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let i;if(e===UA)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qA)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CB(t)&&(n.ns=t.namespace);const s=[];return ss(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.counters_={}}incrementCounter(e,n=1){vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return W6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={},z_={};function dw(t){const e=t.toString();return M_[e]||(M_[e]=new kB),M_[e]}function RB(t,e){const n=t.toString();return z_[n]||(z_[n]=e()),z_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Ba(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="start",bB="close",AB="pLPCommand",NB="pRTLPCB",GA="id",KA="pw",QA="ser",DB="cb",LB="seg",jB="ts",OB="d",MB="dframe",YA=1870,XA=30,zB=YA-XA,VB=25e3,FB=3e4;class Pc{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pd(e),this.stats_=dw(n),this.urlFn=c=>(this.appCheckToken&&(c[uy]=this.appCheckToken),HA(n,qA,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PB(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FB)),gB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fw((...r)=>{const[o,l,c,a,h]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===SE)this.id=l,this.password=c;else if(o===bB)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[SE]="t",i[QA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[DB]=this.scriptTagHolder.uniqueCallbackIdentifier),i[OA]=hw,this.transportSessionId&&(i[MA]=this.transportSessionId),this.lastSessionId&&(i[BA]=this.lastSessionId),this.applicationId&&(i[$A]=this.applicationId),this.appCheckToken&&(i[uy]=this.appCheckToken),typeof location<"u"&&location.hostname&&FA.test(location.hostname)&&(i[zA]=VA);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pc.forceAllow_=!0}static forceDisallow(){Pc.forceDisallow_=!0}static isAvailable(){return Pc.forceAllow_?!0:!Pc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vB()&&!yB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=sR(n),s=LA(i,zB);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[MB]="t",i[GA]=e,i[KA]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fw{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fB(),window[AB+this.uniqueCallbackIdentifier]=e,window[NB+this.uniqueCallbackIdentifier]=n,this.myIFrame=fw.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ni("frame writing exception"),l.stack&&ni(l.stack),ni(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ni("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GA]=this.myID,e[KA]=this.myPW,e[QA]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XA+i.length<=YA;){const o=this.pendingSegs.shift();i=i+"&"+LB+s+"="+o.seg+"&"+jB+s+"="+o.ts+"&"+OB+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(VB)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ni("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=16384,$B=45e3;let cm=null;typeof MozWebSocket<"u"?cm=MozWebSocket:typeof WebSocket<"u"&&(cm=WebSocket);class ds{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pd(this.connId),this.stats_=dw(n),this.connURL=ds.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[OA]=hw,typeof location<"u"&&location.hostname&&FA.test(location.hostname)&&(o[zA]=VA),n&&(o[MA]=n),i&&(o[BA]=i),s&&(o[uy]=s),r&&(o[$A]=r),HA(e,UA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rl.set("previous_websocket_failure",!0);try{let i;hR(),this.mySock=new cm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ds.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&cm!==null&&!ds.forceDisallow_}static previouslyFailed(){return rl.isInMemoryStorage||rl.get("previous_websocket_failure")===!0}markConnectionHealthy(){rl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=xh(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=LA(n,BB);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($B))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ds.responsesRequiredToBeHealthy=2;ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Pc,ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ds&&ds.isAvailable();let i=n&&!ds.previouslyFailed();if(e.webSocketOnly&&(n||Ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ds];else{const s=this.transports_=[];for(const r of Hh.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Hh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=6e4,qB=5e3,WB=10*1024,HB=100*1024,V_="t",wE="d",GB="s",xE="r",KB="e",TE="o",IE="a",EE="n",CE="p",QB="h";class YB{constructor(e,n,i,s,r,o,l,c,a,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=a,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pd("c:"+this.id+":"),this.transportManager_=new Hh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Xu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(V_ in e){const n=e[V_];n===IE?this.upgradeIfSecondaryHealthy_():n===xE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uu("t",e),i=uu("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:IE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:EE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uu("t",e),i=uu("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uu(V_,e);if(wE in e){const i=e[wE];if(n===QB){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===EE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GB?this.onConnectionShutdown_(i):n===xE?this.onReset_(i):n===KB?ay("Server Error: "+i):n===TE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ay("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hw!==i&&Ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Xu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends ZA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new am}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=32,RE=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function kt(){return new Ot("")}function rt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function Nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function eN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function In(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ot)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ot(n,0)}function ht(t){return t.pieceNum_>=t.pieces_.length}function Zi(t,e){const n=rt(t),i=rt(e);if(n===null)return e;if(n===i)return Zi(Nt(t),Nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iN(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function fs(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class JB{constructor(e,n){this.errorPrefix_=n,this.parts_=tN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Bm(this.parts_[i]);sN(this)}}function ZB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bm(e),sN(t)}function e$(t){const e=t.parts_.pop();t.byteLength_-=Bm(e),t.parts_.length>0&&(t.byteLength_-=1)}function sN(t){if(t.byteLength_>RE)throw new Error(t.errorPrefix_+"has a key path longer than "+RE+" bytes ("+t.byteLength_+").");if(t.parts_.length>kE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kE+") or object contains a cycle "+qo(t))}function qo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends ZA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new pw}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=1e3,t$=60*5*1e3,PE=30*1e3,n$=1.3,i$=3e4,s$="server_kill",bE=3;class cr extends JA{constructor(e,n,i,s,r,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=cr.nextPersistentConnectionId_++,this.log_=Pd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hu,this.maxReconnectDelay_=t$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!hR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&am.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Gn(r)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Fm,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const c=l.d,a=l.s;cr.warnOnListenWarnings_(c,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(a,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vs(e,"w")){const i=ta(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=PE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sj(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ay("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>i$&&(this.reconnectDelay_=hu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*n$)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+cr.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,i())},a=function(f){he(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:a};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?ni("getToken() completed but was canceled"):(ni("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new YB(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,m=>{Ai(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(s$)},r))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ai(f),c())}}}interrupt(e){ni("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ni("Resuming connection for reason: "+e),delete this.interruptReasons_[e],g1(this.interruptReasons_)&&(this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>uw(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ot(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){ni("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bE&&(this.reconnectDelay_=PE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ni("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+bA.replace(/\./g,"-")]=1,C0()?e["framework.cordova"]=1:uR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=am.getInstance().currentlyOnline();return g1(this.interruptReasons_)&&e}}cr.nextPersistentConnectionId_=0;cr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new pt(ya,e),s=new pt(ya,n);return this.compare(i,s)!==0}minPost(){return pt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;class rN extends Dg{static get __EMPTY_NODE(){return pf}static set __EMPTY_NODE(e){pf=e}compare(e,n){return Fa(e.name,n.name)}isDefinedOn(e){throw Ra("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pt.MIN}maxPost(){return new pt(Al,pf)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new pt(e,pf)}toString(){return".key"}}const Hc=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nn{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Nn.RED,this.left=s??ki.EMPTY_NODE,this.right=r??ki.EMPTY_NODE}copy(e,n,i,s,r){return new Nn(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ki.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return ki.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nn.RED=!0;Nn.BLACK=!1;class r${copy(e,n,i,s,r){return this}insert(e,n,i){return new Nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ki{constructor(e,n=ki.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ki(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nn.BLACK,null,null))}remove(e){return new ki(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new mf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new mf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new mf(this.root_,null,this.comparator_,!0,e)}}ki.EMPTY_NODE=new r$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){return Fa(t.name,e.name)}function mw(t,e){return Fa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;function l$(t){hy=t}const oN=function(t){return typeof t=="number"?"number:"+jA(t):"string:"+t},lN=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vs(e,".sv"),"Priority must be a string or number.")}else he(t===hy||t.isEmpty(),"priority of unexpected type.");he(t===hy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AE;class Rn{constructor(e,n=Rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lN(this.priorityNode_)}static set __childrenNodeConstructor(e){AE=e}static get __childrenNodeConstructor(){return AE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:rt(e)===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=rt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(he(i!==".priority"||Eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+oN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jA(this.value_):e+=this.value_,this.lazyHash_=NA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rn.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Rn.VALUE_TYPE_ORDER.indexOf(n),r=Rn.VALUE_TYPE_ORDER.indexOf(i);return he(s>=0,"Unknown leaf type: "+n),he(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cN,aN;function c$(t){cN=t}function a$(t){aN=t}class u$ extends Dg{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Fa(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pt.MIN}maxPost(){return new pt(Al,new Rn("[PRIORITY-POST]",aN))}makePost(e,n){const i=cN(e);return new pt(n,new Rn("[PRIORITY-POST]",i))}toString(){return".priority"}}const ii=new u$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=Math.log(2);class d${constructor(e){const n=r=>parseInt(Math.log(r)/h$,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const um=function(t,e,n,i){t.sort(e);const s=function(c,a){const h=a-c;let f,p;if(h===0)return null;if(h===1)return f=t[c],p=n?n(f):f,new Nn(p,f.node,Nn.BLACK,null,null);{const m=parseInt(h/2,10)+c,_=s(c,m),g=s(m+1,a);return f=t[m],p=n?n(f):f,new Nn(p,f.node,Nn.BLACK,_,g)}},r=function(c){let a=null,h=null,f=t.length;const p=function(_,g){const S=f-_,v=f;f-=_;const y=s(S+1,v),w=t[S],T=n?n(w):w;m(new Nn(T,w.node,g,null,y))},m=function(_){a?(a.left=_,a=_):(h=_,a=_)};for(let _=0;_<c.count;++_){const g=c.nextBitIsOne(),S=Math.pow(2,c.count-(_+1));g?p(S,Nn.BLACK):(p(S,Nn.BLACK),p(S,Nn.RED))}return h},o=new d$(t.length),l=r(o);return new ki(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_;const nc={};class sr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return he(nc&&ii,"ChildrenNode.ts has not been loaded"),F_=F_||new sr({".priority":nc},{".priority":ii}),F_}get(e){const n=ta(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ki?n:null}hasIndex(e){return vs(this.indexSet_,e.toString())}addIndex(e,n){he(e!==Hc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(pt.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=um(i,e.getCompare()):l=nc;const c=e.toString(),a=Object.assign({},this.indexSet_);a[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new sr(h,a)}addToIndexes(e,n){const i=Lp(this.indexes_,(s,r)=>{const o=ta(this.indexSet_,r);if(he(o,"Missing index implementation for "+r),s===nc)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(pt.Wrap);let a=c.getNext();for(;a;)a.name!==e.name&&l.push(a),a=c.getNext();return l.push(e),um(l,o.getCompare())}else return nc;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new pt(e.name,l))),c.insert(e,e.node)}});return new sr(i,this.indexSet_)}removeFromIndexes(e,n){const i=Lp(this.indexes_,s=>{if(s===nc)return s;{const r=n.get(e.name);return r?s.remove(new pt(e.name,r)):s}});return new sr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;class wt{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lN(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return du||(du=new wt(new ki(mw),null,sr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||du}updatePriority(e){return this.children_.isEmpty()?this:new wt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?du:n}}getChild(e){const n=rt(e);return n===null?this:this.getImmediateChild(n).getChild(Nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new pt(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?du:this.priorityNode_;return new wt(s,o,r)}}updateChild(e,n){const i=rt(e);if(i===null)return n;{he(rt(e)!==".priority"||Eo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Nt(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ii,(o,l)=>{n[o]=l.val(e),i++,r&&wt.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+oN(this.getPriority().val())+":"),this.forEachChild(ii,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":NA(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new pt(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,pt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,pt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bd?-1:0}withIndex(e){if(e===Hc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new wt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ii),s=n.getIterator(ii);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hc?null:this.indexMap_.get(e.toString())}}wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class f$ extends wt{constructor(){super(new ki(mw),wt.EMPTY_NODE,sr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return wt.EMPTY_NODE}isEmpty(){return!1}}const bd=new f$;Object.defineProperties(pt,{MIN:{value:new pt(ya,wt.EMPTY_NODE)},MAX:{value:new pt(Al,bd)}});rN.__EMPTY_NODE=wt.EMPTY_NODE;Rn.__childrenNodeConstructor=wt;l$(bd);a$(bd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=!0;function Hn(t,e=null){if(t===null)return wt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rn(n,Hn(e))}if(!(t instanceof Array)&&p$){const n=[];let i=!1;if(ss(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=Hn(l);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new pt(o,c)))}}),n.length===0)return wt.EMPTY_NODE;const r=um(n,o$,o=>o.name,mw);if(i){const o=um(n,ii.getCompare());return new wt(r,Hn(e),new sr({".priority":o},{".priority":ii}))}else return new wt(r,Hn(e),sr.Default)}else{let n=wt.EMPTY_NODE;return ss(t,(i,s)=>{if(vs(t,i)&&i.substring(0,1)!=="."){const r=Hn(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Hn(e))}}c$(Hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m$ extends Dg{constructor(e){super(),this.indexPath_=e,he(!ht(e)&&rt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Fa(e.name,n.name):r}makePost(e,n){const i=Hn(e),s=wt.EMPTY_NODE.updateChild(this.indexPath_,i);return new pt(n,s)}maxPost(){const e=wt.EMPTY_NODE.updateChild(this.indexPath_,bd);return new pt(Al,e)}toString(){return tN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g$ extends Dg{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Fa(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pt.MIN}maxPost(){return pt.MAX}makePost(e,n){const i=Hn(e);return new pt(n,i)}toString(){return".value"}}const _$=new g$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return{type:"value",snapshotNode:t}}function y$(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function S$(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function NE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function w$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ya}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Al}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ii}copy(){const e=new gw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ii?n="$priority":t.index_===_$?n="$value":t.index_===Hc?n="$key":(he(t.index_ instanceof m$,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Gn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Gn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Gn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ii&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends JA{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Pd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=hm.getListenId_(e,i),l={};this.listens_[o]=l;const c=DE(e._queryParams);this.restRequest_(r+".json",c,(a,h)=>{let f=h;if(a===404&&(f=null,a=null),a===null&&this.onDataUpdate_(r,f,!1,i),ta(this.listens_,o)===l){let p;a?a===401?p="permission_denied":p="rest_error:"+a:p="ok",s(p,null)}})}unlisten(e,n){const i=hm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=DE(e._queryParams),i=e._path.toString(),s=new Fm;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vl(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=xh(l.responseText)}catch{Ai("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,c)}else l.status!==401&&l.status!==404&&Ai("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.rootNode_=wt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){return{value:null,children:new Map}}function uN(t,e,n){if(ht(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=rt(e);t.children.has(i)||t.children.set(i,dm());const s=t.children.get(i);e=Nt(e),uN(s,e,n)}}function dy(t,e,n){t.value!==null?n(e,t.value):T$(t,(i,s)=>{const r=new Ot(e.toString()+"/"+i);dy(s,r,n)})}function T$(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ss(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=10*1e3,E$=30*1e3,C$=5*60*1e3;class k${constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new I$(e);const i=jE+(E$-jE)*Math.random();Xu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ss(e,(s,r)=>{r>0&&vs(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Xu(this.reportStats_.bind(this),Math.floor(Math.random()*2*C$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ls||(Ls={}));function hN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ls.ACK_USER_WRITE,this.source=hN()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new fm(kt(),n,this.revert)}}else return he(rt(this.path)===e,"operationForChild called for unrelated child."),new fm(Nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ls.OVERWRITE}operationForChild(e){return ht(this.path)?new Nl(this.source,kt(),this.snap.getImmediateChild(e)):new Nl(this.source,Nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ls.MERGE}operationForChild(e){if(ht(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Nl(this.source,kt(),n.value):new Gh(this.source,kt(),n)}else return he(rt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gh(this.source,Nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const n=rt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function R$(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(w$(o.childName,o.snapshotNode))}),fu(t,s,"child_removed",e,i,n),fu(t,s,"child_added",e,i,n),fu(t,s,"child_moved",r,i,n),fu(t,s,"child_changed",e,i,n),fu(t,s,"value",e,i,n),s}function fu(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,c)=>b$(t,l,c)),o.forEach(l=>{const c=P$(t,l,r);s.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(c,t.query_))})})}function P$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b$(t,e,n){if(e.childName==null||n.childName==null)throw Ra("Should only compare child_ events.");const i=new pt(e.childName,e.snapshotNode),s=new pt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){return{eventCache:t,serverCache:e}}function Ju(t,e,n,i){return pN(new _w(e,n,i),t.serverCache)}function mN(t,e,n,i){return pN(t.eventCache,new _w(e,n,i))}function fy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Dl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_;const A$=()=>(B_||(B_=new ki(_B)),B_);class At{constructor(e,n=A$()){this.value=e,this.children=n}static fromObject(e){let n=new At(null);return ss(e,(i,s)=>{n=n.set(new Ot(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:kt(),value:this.value};if(ht(e))return null;{const i=rt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Nt(e),n);return r!=null?{path:In(new Ot(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const n=rt(e),i=this.children.get(n);return i!==null?i.subtree(Nt(e)):new At(null)}}set(e,n){if(ht(e))return new At(n,this.children);{const i=rt(e),r=(this.children.get(i)||new At(null)).set(Nt(e),n),o=this.children.insert(i,r);return new At(this.value,o)}}remove(e){if(ht(e))return this.children.isEmpty()?new At(null):new At(null,this.children);{const n=rt(e),i=this.children.get(n);if(i){const s=i.remove(Nt(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new At(null):new At(this.value,r)}else return this}}get(e){if(ht(e))return this.value;{const n=rt(e),i=this.children.get(n);return i?i.get(Nt(e)):null}}setTree(e,n){if(ht(e))return n;{const i=rt(e),r=(this.children.get(i)||new At(null)).setTree(Nt(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new At(this.value,o)}}fold(e){return this.fold_(kt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(In(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,kt(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ht(e))return null;{const r=rt(e),o=this.children.get(r);return o?o.findOnPath_(Nt(e),In(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,kt(),n)}foreachOnPath_(e,n,i){if(ht(e))return this;{this.value&&i(n,this.value);const s=rt(e),r=this.children.get(s);return r?r.foreachOnPath_(Nt(e),In(n,s),i):new At(null)}}foreach(e){this.foreach_(kt(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(In(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.writeTree_=e}static empty(){return new gs(new At(null))}}function Zu(t,e,n){if(ht(e))return new gs(new At(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Zi(s,e);return r=r.updateChild(o,n),new gs(t.writeTree_.set(s,r))}else{const s=new At(n),r=t.writeTree_.setTree(e,s);return new gs(r)}}}function OE(t,e,n){let i=t;return ss(n,(s,r)=>{i=Zu(i,In(e,s),r)}),i}function ME(t,e){if(ht(e))return gs.empty();{const n=t.writeTree_.setTree(e,new At(null));return new gs(n)}}function py(t,e){return Gl(t,e)!=null}function Gl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Zi(n.path,e)):null}function zE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ii,(i,s)=>{e.push(new pt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new pt(i,s.value))}),e}function uo(t,e){if(ht(e))return t;{const n=Gl(t,e);return n!=null?new gs(new At(n)):new gs(t.writeTree_.subtree(e))}}function my(t){return t.writeTree_.isEmpty()}function Sa(t,e){return gN(kt(),t.writeTree_,e)}function gN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(he(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=gN(In(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(In(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){return xN(e,t)}function N$(t,e,n,i,s){he(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Zu(t.visibleWrites,e,n)),t.lastWriteId=i}function D$(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function L$(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&j$(l,i.path)?s=!1:fs(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return O$(t),!0;if(i.snap)t.visibleWrites=ME(t.visibleWrites,i.path);else{const l=i.children;ss(l,c=>{t.visibleWrites=ME(t.visibleWrites,In(i.path,c))})}return!0}else return!1}function j$(t,e){if(t.snap)return fs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fs(In(t.path,n),e))return!0;return!1}function O$(t){t.visibleWrites=vN(t.allWrites,M$,kt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function M$(t){return t.visible}function vN(t,e,n){let i=gs.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)fs(n,o)?(l=Zi(n,o),i=Zu(i,l,r.snap)):fs(o,n)&&(l=Zi(o,n),i=Zu(i,kt(),r.snap.getChild(l)));else if(r.children){if(fs(n,o))l=Zi(n,o),i=OE(i,l,r.children);else if(fs(o,n))if(l=Zi(o,n),ht(l))i=OE(i,kt(),r.children);else{const c=ta(r.children,rt(l));if(c){const a=c.getChild(Nt(l));i=Zu(i,kt(),a)}}}else throw Ra("WriteRecord should have .snap or .children")}}return i}function yN(t,e,n,i,s){if(!i&&!s){const r=Gl(t.visibleWrites,e);if(r!=null)return r;{const o=uo(t.visibleWrites,e);if(my(o))return n;if(n==null&&!py(o,kt()))return null;{const l=n||wt.EMPTY_NODE;return Sa(o,l)}}}else{const r=uo(t.visibleWrites,e);if(!s&&my(r))return n;if(!s&&n==null&&!py(r,kt()))return null;{const o=function(a){return(a.visible||s)&&(!i||!~i.indexOf(a.writeId))&&(fs(a.path,e)||fs(e,a.path))},l=vN(t.allWrites,o,e),c=n||wt.EMPTY_NODE;return Sa(l,c)}}}function z$(t,e,n){let i=wt.EMPTY_NODE;const s=Gl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ii,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=uo(t.visibleWrites,e);return n.forEachChild(ii,(o,l)=>{const c=Sa(uo(r,new Ot(o)),l);i=i.updateImmediateChild(o,c)}),zE(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=uo(t.visibleWrites,e);return zE(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function V$(t,e,n,i,s){he(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=In(e,n);if(py(t.visibleWrites,r))return null;{const o=uo(t.visibleWrites,r);return my(o)?s.getChild(n):Sa(o,s.getChild(n))}}function F$(t,e,n,i){const s=In(e,n),r=Gl(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=uo(t.visibleWrites,s);return Sa(o,i.getNode().getImmediateChild(n))}else return null}function B$(t,e){return Gl(t.visibleWrites,e)}function $$(t,e,n,i,s,r,o){let l;const c=uo(t.visibleWrites,e),a=Gl(c,kt());if(a!=null)l=a;else if(n!=null)l=Sa(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=o.getCompare(),p=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let m=p.getNext();for(;m&&h.length<s;)f(m,i)!==0&&h.push(m),m=p.getNext();return h}else return[]}function U$(){return{visibleWrites:gs.empty(),allWrites:[],lastWriteId:-1}}function gy(t,e,n,i){return yN(t.writeTree,t.treePath,e,n,i)}function SN(t,e){return z$(t.writeTree,t.treePath,e)}function VE(t,e,n,i){return V$(t.writeTree,t.treePath,e,n,i)}function pm(t,e){return B$(t.writeTree,In(t.treePath,e))}function q$(t,e,n,i,s,r){return $$(t.writeTree,t.treePath,e,n,i,s,r)}function vw(t,e,n){return F$(t.writeTree,t.treePath,e,n)}function wN(t,e){return xN(In(t.treePath,e),t.writeTree)}function xN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,NE(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,S$(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,y$(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,NE(i,e.snapshotNode,s.oldSnap));else throw Ra("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const TN=new H$;class yw{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new _w(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vw(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dl(this.viewCache_),r=q$(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function G$(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function K$(t,e,n,i,s){const r=new W$;let o,l;if(n.type===Ls.OVERWRITE){const a=n;a.source.fromUser?o=_y(t,e,a.path,a.snap,i,s,r):(he(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!ht(a.path),o=mm(t,e,a.path,a.snap,i,s,l,r))}else if(n.type===Ls.MERGE){const a=n;a.source.fromUser?o=Y$(t,e,a.path,a.children,i,s,r):(he(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=vy(t,e,a.path,a.children,i,s,l,r))}else if(n.type===Ls.ACK_USER_WRITE){const a=n;a.revert?o=Z$(t,e,a.path,i,s,r):o=X$(t,e,a.path,a.affectedTree,i,s,r)}else if(n.type===Ls.LISTEN_COMPLETE)o=J$(t,e,n.path,i,r);else throw Ra("Unknown operation type: "+n.type);const c=r.getChanges();return Q$(e,o,c),{viewCache:o,changes:c}}function Q$(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=fy(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(v$(fy(e)))}}function IN(t,e,n,i,s,r){const o=e.eventCache;if(pm(i,n)!=null)return e;{let l,c;if(ht(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=Dl(e),h=a instanceof wt?a:wt.EMPTY_NODE,f=SN(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{const a=gy(i,Dl(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,r)}else{const a=rt(n);if(a===".priority"){he(Eo(n)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const f=VE(i,n,h,c);f!=null?l=t.filter.updatePriority(h,f):l=o.getNode()}else{const h=Nt(n);let f;if(o.isCompleteForChild(a)){c=e.serverCache.getNode();const p=VE(i,n,o.getNode(),c);p!=null?f=o.getNode().getImmediateChild(a).updateChild(h,p):f=o.getNode().getImmediateChild(a)}else f=vw(i,a,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),a,f,h,s,r):l=o.getNode()}}return Ju(e,l,o.isFullyInitialized()||ht(n),t.filter.filtersNodes())}}function mm(t,e,n,i,s,r,o,l){const c=e.serverCache;let a;const h=o?t.filter:t.filter.getIndexedFilter();if(ht(n))a=h.updateFullNode(c.getNode(),i,null);else if(h.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(n,i);a=h.updateFullNode(c.getNode(),m,null)}else{const m=rt(n);if(!c.isCompleteForPath(n)&&Eo(n)>1)return e;const _=Nt(n),S=c.getNode().getImmediateChild(m).updateChild(_,i);m===".priority"?a=h.updatePriority(c.getNode(),S):a=h.updateChild(c.getNode(),m,S,_,TN,null)}const f=mN(e,a,c.isFullyInitialized()||ht(n),h.filtersNodes()),p=new yw(s,f,r);return IN(t,f,n,s,p,l)}function _y(t,e,n,i,s,r,o){const l=e.eventCache;let c,a;const h=new yw(s,e,r);if(ht(n))a=t.filter.updateFullNode(e.eventCache.getNode(),i,o),c=Ju(e,a,!0,t.filter.filtersNodes());else{const f=rt(n);if(f===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),i),c=Ju(e,a,l.isFullyInitialized(),l.isFiltered());else{const p=Nt(n),m=l.getNode().getImmediateChild(f);let _;if(ht(p))_=i;else{const g=h.getCompleteChild(f);g!=null?eN(p)===".priority"&&g.getChild(nN(p)).isEmpty()?_=g:_=g.updateChild(p,i):_=wt.EMPTY_NODE}if(m.equals(_))c=e;else{const g=t.filter.updateChild(l.getNode(),f,_,p,h,o);c=Ju(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function FE(t,e){return t.eventCache.isCompleteForChild(e)}function Y$(t,e,n,i,s,r,o){let l=e;return i.foreach((c,a)=>{const h=In(n,c);FE(e,rt(h))&&(l=_y(t,l,h,a,s,r,o))}),i.foreach((c,a)=>{const h=In(n,c);FE(e,rt(h))||(l=_y(t,l,h,a,s,r,o))}),l}function BE(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function vy(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,a;ht(n)?a=i:a=new At(null).setTree(n,i);const h=e.serverCache.getNode();return a.children.inorderTraversal((f,p)=>{if(h.hasChild(f)){const m=e.serverCache.getNode().getImmediateChild(f),_=BE(t,m,p);c=mm(t,c,new Ot(f),_,s,r,o,l)}}),a.children.inorderTraversal((f,p)=>{const m=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!h.hasChild(f)&&!m){const _=e.serverCache.getNode().getImmediateChild(f),g=BE(t,_,p);c=mm(t,c,new Ot(f),g,s,r,o,l)}}),c}function X$(t,e,n,i,s,r,o){if(pm(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(ht(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return mm(t,e,n,c.getNode().getChild(n),s,r,l,o);if(ht(n)){let a=new At(null);return c.getNode().forEachChild(Hc,(h,f)=>{a=a.set(new Ot(h),f)}),vy(t,e,n,a,s,r,l,o)}else return e}else{let a=new At(null);return i.foreach((h,f)=>{const p=In(n,h);c.isCompleteForPath(p)&&(a=a.set(h,c.getNode().getChild(p)))}),vy(t,e,n,a,s,r,l,o)}}function J$(t,e,n,i,s){const r=e.serverCache,o=mN(e,r.getNode(),r.isFullyInitialized()||ht(n),r.isFiltered());return IN(t,o,n,i,TN,s)}function Z$(t,e,n,i,s,r){let o;if(pm(i,n)!=null)return e;{const l=new yw(i,e,s),c=e.eventCache.getNode();let a;if(ht(n)||rt(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=gy(i,Dl(e));else{const f=e.serverCache.getNode();he(f instanceof wt,"serverChildren would be complete if leaf node"),h=SN(i,f)}h=h,a=t.filter.updateFullNode(c,h,r)}else{const h=rt(n);let f=vw(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),f!=null?a=t.filter.updateChild(c,h,f,Nt(n),l,r):e.eventCache.getNode().hasChild(h)?a=t.filter.updateChild(c,h,wt.EMPTY_NODE,Nt(n),l,r):a=c,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gy(i,Dl(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,r)))}return o=e.serverCache.isFullyInitialized()||pm(i,kt())!=null,Ju(e,a,o,t.filter.filtersNodes())}}function eU(t,e){const n=Dl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ht(e)&&!n.getImmediateChild(rt(e)).isEmpty())?n.getChild(e):null}function $E(t,e,n,i){e.type===Ls.MERGE&&e.source.queryId!==null&&(he(Dl(t.viewCache_),"We should always have a full cache before handling merges"),he(fy(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=K$(t.processor_,s,e,n,i);return G$(t.processor_,r.viewCache),he(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,tU(t,r.changes,r.viewCache.eventCache.getNode(),null)}function tU(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return R$(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE;function nU(t){he(!UE,"__referenceConstructor has already been defined"),UE=t}function Sw(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return he(r!=null,"SyncTree gave us an op for an invalid query."),$E(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat($E(o,e,n,i));return r}}function ww(t,e){let n=null;for(const i of t.views.values())n=n||eU(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE;function iU(t){he(!qE,"__referenceConstructor has already been defined"),qE=t}class WE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new At(null),this.pendingWriteTree_=U$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EN(t,e,n,i,s){return N$(t.pendingWriteTree_,e,n,i,s),s?jg(t,new Nl(hN(),e,n)):[]}function ol(t,e,n=!1){const i=D$(t.pendingWriteTree_,e);if(L$(t.pendingWriteTree_,e)){let r=new At(null);return i.snap!=null?r=r.set(kt(),!0):ss(i.children,o=>{r=r.set(new Ot(o),!0)}),jg(t,new fm(i.path,r,n))}else return[]}function Lg(t,e,n){return jg(t,new Nl(dN(),e,n))}function sU(t,e,n){const i=At.fromObject(n);return jg(t,new Gh(dN(),e,i))}function rU(t,e,n,i){const s=RN(t,i);if(s!=null){const r=PN(s),o=r.path,l=r.queryId,c=Zi(o,e),a=new Nl(fN(l),c,n);return bN(t,o,a)}else return[]}function oU(t,e,n,i){const s=RN(t,i);if(s){const r=PN(s),o=r.path,l=r.queryId,c=Zi(o,e),a=At.fromObject(n),h=new Gh(fN(l),c,a);return bN(t,o,h)}else return[]}function xw(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Zi(o,e),a=ww(l,c);if(a)return a});return yN(s,e,r,n,!0)}function jg(t,e){return CN(e,t.syncPointTree_,null,_N(t.pendingWriteTree_,kt()))}function CN(t,e,n,i){if(ht(t.path))return kN(t,e,n,i);{const s=e.get(kt());n==null&&s!=null&&(n=ww(s,kt()));let r=[];const o=rt(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const a=n?n.getImmediateChild(o):null,h=wN(i,o);r=r.concat(CN(l,c,a,h))}return s&&(r=r.concat(Sw(s,t,i,n))),r}}function kN(t,e,n,i){const s=e.get(kt());n==null&&s!=null&&(n=ww(s,kt()));let r=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,a=wN(i,o),h=t.operationForChild(o);h&&(r=r.concat(kN(h,l,c,a)))}),s&&(r=r.concat(Sw(s,t,i,n))),r}function RN(t,e){return t.tagToQueryMap.get(e)}function PN(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function bN(t,e,n){const i=t.syncPointTree_.get(e);he(i,"Missing sync point for query tag that we're tracking");const s=_N(t.pendingWriteTree_,e);return Sw(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tw(n)}node(){return this.node_}}class Iw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new Iw(this.syncTree_,n)}node(){return xw(this.syncTree_,this.path_)}}const lU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},HE=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aU(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},aU=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&he(!1,"Unexpected increment value: "+i);const s=e.node();if(he(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},uU=function(t,e,n,i){return Ew(e,new Iw(n,t),i)},AN=function(t,e,n){return Ew(t,new Tw(e),n)};function Ew(t,e,n){const i=t.getPriority().val(),s=HE(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=HE(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Rn(l,Hn(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Rn(s))),o.forEachChild(ii,(l,c)=>{const a=Ew(c,e.getImmediateChild(l),n);a!==c&&(r=r.updateImmediateChild(l,a))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function kw(t,e){let n=e instanceof Ot?e:new Ot(e),i=t,s=rt(n);for(;s!==null;){const r=ta(i.node.children,s)||{children:{},childCount:0};i=new Cw(s,i,r),n=Nt(n),s=rt(n)}return i}function $a(t){return t.node.value}function NN(t,e){t.node.value=e,yy(t)}function DN(t){return t.node.childCount>0}function hU(t){return $a(t)===void 0&&!DN(t)}function Og(t,e){ss(t.node.children,(n,i)=>{e(new Cw(n,t,i))})}function LN(t,e,n,i){n&&!i&&e(t),Og(t,s=>{LN(s,e,!0,i)}),n&&i&&e(t)}function dU(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ad(t){return new Ot(t.parent===null?t.name:Ad(t.parent)+"/"+t.name)}function yy(t){t.parent!==null&&fU(t.parent,t.name,t)}function fU(t,e,n){const i=hU(n),s=vs(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,yy(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,yy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/[\[\].#$\/\u0000-\u001F\u007F]/,mU=/[\[\].#$\u0000-\u001F\u007F]/,$_=10*1024*1024,jN=function(t){return typeof t=="string"&&t.length!==0&&!pU.test(t)},ON=function(t){return typeof t=="string"&&t.length!==0&&!mU.test(t)},gU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ON(t)},_U=function(t,e,n,i){i&&e===void 0||Rw(k0(t,"value"),e,n)},Rw=function(t,e,n){const i=n instanceof Ot?new JB(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+qo(i));if(typeof e=="function")throw new Error(t+"contains a function "+qo(i)+" with contents = "+e.toString());if(DA(e))throw new Error(t+"contains "+e.toString()+" "+qo(i));if(typeof e=="string"&&e.length>$_/3&&Bm(e)>$_)throw new Error(t+"contains a string greater than "+$_+" utf8 bytes "+qo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(ss(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!jN(o)))throw new Error(t+" contains an invalid key ("+o+") "+qo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZB(i,o),Rw(t,l,i),e$(i)}),s&&r)throw new Error(t+' contains ".value" child '+qo(i)+" in addition to actual children.")}},MN=function(t,e,n,i){if(!(i&&n===void 0)&&!ON(n))throw new Error(k0(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),MN(t,e,n,i)},yU=function(t,e){if(rt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},SU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gU(n))throw new Error(k0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zN(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!iN(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Sr(t,e,n){zN(t,n),xU(t,i=>fs(i,e)||fs(e,i))}function xU(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(TU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function TU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ul&&ni("event: "+n.toString()),Ba(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="repo_interrupt",EU=25;class CU{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dm(),this.transactionQueueTree_=new Cw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kU(t,e,n){if(t.stats_=dw(t.repoInfo_),t.forceRestClient_||TB())t.server_=new hm(t.repoInfo_,(i,s,r,o)=>{GE(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>KE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new cr(t.repoInfo_,e,(i,s,r,o)=>{GE(t,i,s,r,o)},i=>{KE(t,i)},i=>{PU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=RB(t.repoInfo_,()=>new k$(t.stats_,t.server_)),t.infoData_=new x$,t.infoSyncTree_=new WE({startListening:(i,s,r,o)=>{let l=[];const c=t.infoData_.getNode(i._path);return c.isEmpty()||(l=Lg(t.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),bw(t,"connected",!1),t.serverSyncTree_=new WE({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,c)=>{const a=o(l,c);Sr(t.eventQueue_,i._path,a)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function RU(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pw(t){return lU({timestamp:RU(t)})}function GE(t,e,n,i,s){t.dataUpdateCount++;const r=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const c=Lp(n,a=>Hn(a));o=oU(t.serverSyncTree_,r,c,s)}else{const c=Hn(n);o=rU(t.serverSyncTree_,r,c,s)}else if(i){const c=Lp(n,a=>Hn(a));o=sU(t.serverSyncTree_,r,c)}else{const c=Hn(n);o=Lg(t.serverSyncTree_,r,c)}let l=r;o.length>0&&(l=Mg(t,r)),Sr(t.eventQueue_,l,o)}function KE(t,e){bw(t,"connected",e),e===!1&&AU(t)}function PU(t,e){ss(e,(n,i)=>{bw(t,n,i)})}function bw(t,e,n){const i=new Ot("/.info/"+e),s=Hn(n);t.infoData_.updateSnapshot(i,s);const r=Lg(t.infoSyncTree_,i,s);Sr(t.eventQueue_,i,r)}function VN(t){return t.nextWriteId_++}function bU(t,e,n,i,s){Aw(t,"set",{path:e.toString(),value:n,priority:i});const r=Pw(t),o=Hn(n,i),l=xw(t.serverSyncTree_,e),c=AN(o,l,r),a=VN(t),h=EN(t.serverSyncTree_,e,c,a,!0);zN(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(p,m)=>{const _=p==="ok";_||Ai("set at "+e+" failed: "+p);const g=ol(t.serverSyncTree_,a,!_);Sr(t.eventQueue_,e,g),DU(t,s,p,m)});const f=qN(t,e);Mg(t,f),Sr(t.eventQueue_,f,[])}function AU(t){Aw(t,"onDisconnectEvents");const e=Pw(t),n=dm();dy(t.onDisconnect_,kt(),(s,r)=>{const o=uU(s,r,t.serverSyncTree_,e);uN(n,s,o)});let i=[];dy(n,kt(),(s,r)=>{i=i.concat(Lg(t.serverSyncTree_,s,r));const o=qN(t,s);Mg(t,o)}),t.onDisconnect_=dm(),Sr(t.eventQueue_,kt(),i)}function NU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(IU)}function Aw(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ni(n,...e)}function DU(t,e,n,i){e&&Ba(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function FN(t,e,n){return xw(t.serverSyncTree_,e,n)||wt.EMPTY_NODE}function Nw(t,e=t.transactionQueueTree_){if(e||zg(t,e),$a(e)){const n=$N(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&LU(t,Ad(e),n)}else DN(e)&&Og(e,n=>{Nw(t,n)})}function LU(t,e,n){const i=n.map(a=>a.currentWriteId),s=FN(t,e,i);let r=s;const o=s.hash();for(let a=0;a<n.length;a++){const h=n[a];he(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Zi(e,h.path);r=r.updateChild(f,h.currentOutputSnapshotRaw)}const l=r.val(!0),c=e;t.server_.put(c.toString(),l,a=>{Aw(t,"transaction put response",{path:c.toString(),status:a});let h=[];if(a==="ok"){const f=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(ol(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&f.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();zg(t,kw(t.transactionQueueTree_,e)),Nw(t,t.transactionQueueTree_),Sr(t.eventQueue_,e,h);for(let p=0;p<f.length;p++)Ba(f[p])}else{if(a==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ai("transaction at "+c.toString()+" failed: "+a);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=a}Mg(t,e)}},o)}function Mg(t,e){const n=BN(t,e),i=Ad(n),s=$N(t,n);return jU(t,s,i),i}function jU(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],a=Zi(n,c.path);let h=!1,f;if(he(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,f=c.abortReason,s=s.concat(ol(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=EU)h=!0,f="maxretry",s=s.concat(ol(t.serverSyncTree_,c.currentWriteId,!0));else{const p=FN(t,c.path,o);c.currentInputSnapshot=p;const m=e[l].update(p.val());if(m!==void 0){Rw("transaction failed: Data returned ",m,c.path);let _=Hn(m);typeof m=="object"&&m!=null&&vs(m,".priority")||(_=_.updatePriority(p.getPriority()));const S=c.currentWriteId,v=Pw(t),y=AN(_,p,v);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=y,c.currentWriteId=VN(t),o.splice(o.indexOf(S),1),s=s.concat(EN(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),s=s.concat(ol(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(ol(t.serverSyncTree_,c.currentWriteId,!0))}Sr(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}zg(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Ba(i[l]);Nw(t,t.transactionQueueTree_)}function BN(t,e){let n,i=t.transactionQueueTree_;for(n=rt(e);n!==null&&$a(i)===void 0;)i=kw(i,n),e=Nt(e),n=rt(e);return i}function $N(t,e){const n=[];return UN(t,e,n),n.sort((i,s)=>i.order-s.order),n}function UN(t,e,n){const i=$a(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Og(e,s=>{UN(t,s,n)})}function zg(t,e){const n=$a(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,NN(e,n.length>0?n:void 0)}Og(e,i=>{zg(t,i)})}function qN(t,e){const n=Ad(BN(t,e)),i=kw(t.transactionQueueTree_,e);return dU(i,s=>{U_(t,s)}),U_(t,i),LN(i,s=>{U_(t,s)}),n}function U_(t,e){const n=$a(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(he(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(he(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ol(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?NN(e,void 0):n.length=r+1,Sr(t.eventQueue_,Ad(e),s);for(let o=0;o<i.length;o++)Ba(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function MU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ai(`Invalid query segment '${n}' in query '${t}'`)}return e}const QE=function(t,e){const n=zU(t),i=n.namespace;n.domain==="firebase.com"&&yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mB();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new WA(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ot(n.pathString)}},zU=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",c=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=OU(t.substring(h,f)));const p=MU(t.substring(Math.min(t.length,f)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(a+1),10)):a=e.length;const m=e.slice(0,a);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),r=i}"ns"in p&&(r=p.ns)}return{host:e,port:c,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ht(this._path)?null:eN(this._path)}get ref(){return new Kl(this._repo,this._path)}get _queryIdentifier(){const e=LE(this._queryParams),n=uw(e);return n==="{}"?"default":n}get _queryObject(){return LE(this._queryParams)}isEqual(e){if(e=ct(e),!(e instanceof Dw))return!1;const n=this._repo===e._repo,i=iN(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+XB(this._path)}}class Kl extends Dw{constructor(e,n){super(e,n,new gw,!1)}get parent(){const e=nN(this._path);return e===null?null:new Kl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function VU(t,e){return t=ct(t),t._checkNotDeleted("ref"),e!==void 0?FU(t._root,e):t._root}function FU(t,e){return t=ct(t),rt(t._path)===null?vU("child","path",e,!1):MN("child","path",e,!1),new Kl(t._repo,In(t._path,e))}function BU(t,e){t=ct(t),yU("set",t._path),_U("set",e,t._path,!1);const n=new Fm;return bU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}nU(Kl);iU(Kl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="FIREBASE_DATABASE_EMULATOR_HOST",Sy={};let UU=!1;function qU(t,e,n,i){t.repoInfo_=new WA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function WU(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ni("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=QE(r,s),l=o.repoInfo,c,a;typeof process<"u"&&process.env&&(a=process.env[$U]),a?(c=!0,r=`http://${a}?ns=${l.namespace}`,o=QE(r,s),l=o.repoInfo):c=!o.repoInfo.secure;const h=s&&c?new Wc(Wc.OWNER):new EB(t.name,t.options,e);SU("Invalid Firebase Database URL",o),ht(o.path)||yr("Database URL must point to the root of a Firebase Database (not including a child path).");const f=GU(l,t,h,new IB(t.name,n));return new KU(f,t)}function HU(t,e){const n=Sy[e];(!n||n[t.key]!==t)&&yr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NU(t),delete n[t.key]}function GU(t,e,n,i){let s=Sy[e.name];s||(s={},Sy[e.name]=s);let r=s[t.toURLString()];return r&&yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new CU(t,UU,n,i),s[t.toURLString()]=r,r}class KU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kl(this._repo,kt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yr("Cannot call "+e+" on a deleted database.")}}function QU(t=Um(),e){const n=Fl(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=oR("database");i&&YU(n,...i)}return n}function YU(t,e,n,i={}){t=ct(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&yr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Wc(Wc.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:E0(i.mockUserToken,t.app.options.projectId);r=new Wc(o)}qU(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){uB(Us),Fs(new ys("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return WU(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),si(gE,_E,t),si(gE,_E,"esm2017")}cr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};cr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};XU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebasestorage.googleapis.com",HN="storageBucket",JU=2*60*1e3,ZU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends xs{constructor(e,n,i=0){super(q_(e),`Firebase Storage: ${n} (${q_(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function q_(t){return"storage/"+t}function Lw(){const t="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,t)}function eq(t){return new cn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tq(t){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,t)}function iq(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sq(t){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function rq(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oq(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function lq(t){return new cn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function cq(t){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aq(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HN+"' property when initializing the app?")}function uq(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hq(){return new cn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dq(t){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wy(t){return new cn(ln.INVALID_ARGUMENT,t)}function GN(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function fq(t){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eh(t,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pu(t){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rr=class ip{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ip.makeFromUrl(e,n)}catch{return new ip(e,"")}if(i.path==="")return i;throw cq(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function a(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),_={bucket:1,path:3},g=n===WN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${S}`,"i"),w=[{regex:l,indices:c,postModify:r},{regex:m,indices:_,postModify:a},{regex:v,indices:{bucket:1,path:2},postModify:a}];for(let T=0;T<w.length;T++){const I=w[T],x=I.regex.exec(e);if(x){const E=x[I.indices.bucket];let k=x[I.indices.path];k||(k=""),i=new ip(E,k),I.postModify(i);break}}if(i==null)throw lq(e);return i}};class pq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e,n){let i=1,s=null,r=null,o=!1,l=0;function c(){return l===2}let a=!1;function h(...S){a||(a=!0,e.apply(null,S))}function f(S){s=setTimeout(()=>{s=null,t(m,c())},S)}function p(){r&&clearTimeout(r)}function m(S,...v){if(a){p();return}if(S){p(),h.call(null,S,...v);return}if(c()||o){p(),h.call(null,S,...v);return}i<64&&(i*=2);let w;l===1?(l=2,w=0):w=(i+Math.random())*1e3,f(w)}let _=!1;function g(S){_||(_=!0,p(),!a&&(s!==null?(S||(l=2),clearTimeout(s),f(0)):S||(l=1)))}return f(0),r=setTimeout(()=>{o=!0,g(!0)},n),g}function gq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){return t!==void 0}function vq(t){return typeof t=="object"&&!Array.isArray(t)}function jw(t){return typeof t=="string"||t instanceof String}function YE(t){return Ow()&&t instanceof Blob}function Ow(){return typeof Blob<"u"}function XE(t,e,n,i){if(i<e)throw wy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw wy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function KN(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hl||(hl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n,i,s,r,o,l,c,a,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=a,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,_)=>{this.resolve_=m,this.reject_=_,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new gf(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=l=>{const c=l.loaded,a=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,a)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const l=r.getErrorCode()===hl.NO_ERROR,c=r.getStatus();if(!l||yq(c,this.additionalRetryCodes_)&&this.retry){const h=r.getErrorCode()===hl.ABORT;i(!1,new gf(!1,null,h));return}const a=this.successCodes_.indexOf(c)!==-1;i(!0,new gf(a,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());_q(c)?r(c):r()}catch(c){o(c)}else if(l!==null){const c=Lw();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?GN():oq();o(c)}else{const c=rq();o(c)}};this.canceled_?n(!1,new gf(!1,null,!0)):this.backoffId_=mq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function wq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Iq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Eq(t,e,n,i,s,r,o=!0){const l=KN(t.urlParams),c=t.url+l,a=Object.assign({},t.headers);return Tq(a,e),wq(a,n),xq(a,r),Iq(a,i),new Sq(c,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kq(...t){const e=Cq();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Ow())return new Blob(t);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){if(typeof atob>"u")throw dq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W_{constructor(e,n){this.data=e,this.contentType=n||null}}function bq(t,e){switch(t){case js.RAW:return new W_(QN(e));case js.BASE64:case js.BASE64URL:return new W_(YN(t,e));case js.DATA_URL:return new W_(Nq(e),Dq(e))}throw Lw()}function QN(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,o=t.charCodeAt(++n);i=65536|(r&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Aq(t){let e;try{e=decodeURIComponent(t)}catch{throw eh(js.DATA_URL,"Malformed data URL.")}return QN(e)}function YN(t,e){switch(t){case js.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw eh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case js.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw eh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Pq(e)}catch(s){throw s.message.includes("polyfill")?s:eh(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class XN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eh(js.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Lq(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Nq(t){const e=new XN(t);return e.base64?YN(js.BASE64,e.rest):Aq(e.rest)}function Dq(t){return new XN(t).contentType}function Lq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){let i=0,s="";YE(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(YE(this.data_)){const i=this.data_,s=Rq(i,e,n);return s===null?null:new Kr(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Kr(i,!0)}}static getBlob(...e){if(Ow()){const n=e.map(i=>i instanceof Kr?i.data_:i);return new Kr(kq.apply(null,n))}else{const n=e.map(o=>jw(o)?bq(js.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[r++]=o[l]}),new Kr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){let e;try{e=JSON.parse(t)}catch{return null}return vq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Oq(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function ZN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t,e){return e}class ai{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||Mq}}let _f=null;function zq(t){return!jw(t)||t.length<2?t:ZN(t)}function e3(){if(_f)return _f;const t=[];t.push(new ai("bucket")),t.push(new ai("generation")),t.push(new ai("metageneration")),t.push(new ai("name","fullPath",!0));function e(r,o){return zq(o)}const n=new ai("name");n.xform=e,t.push(n);function i(r,o){return o!==void 0?Number(o):o}const s=new ai("size");return s.xform=i,t.push(s),t.push(new ai("timeCreated")),t.push(new ai("updated")),t.push(new ai("md5Hash",null,!0)),t.push(new ai("cacheControl",null,!0)),t.push(new ai("contentDisposition",null,!0)),t.push(new ai("contentEncoding",null,!0)),t.push(new ai("contentLanguage",null,!0)),t.push(new ai("contentType",null,!0)),t.push(new ai("metadata","customMetadata",!0)),_f=t,_f}function Vq(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new rr(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function Fq(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const o=n[r];i[o.local]=o.xform(i,e[o.server])}return Vq(i,t),i}function t3(t,e,n){const i=JN(e);return i===null?null:Fq(t,i,n)}function Bq(t,e,n,i){const s=JN(e);if(s===null||!jw(s.downloadTokens))return null;const r=s.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(a=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),m=Mw(p,n,i),_=KN({alt:"media",token:a});return m+_})[0]}function $q(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class n3{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(!t)throw Lw()}function Uq(t,e){function n(i,s){const r=t3(t,s,e);return i3(r!==null),r}return n}function qq(t,e){function n(i,s){const r=t3(t,s,e);return i3(r!==null),Bq(r,s,t.host,t._protocol)}return n}function s3(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=iq():s=nq():n.getStatus()===402?s=tq(t.bucket):n.getStatus()===403?s=sq(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Wq(t){const e=s3(t);function n(i,s){let r=e(i,s);return i.getStatus()===404&&(r=eq(t.path)),r.serverResponse=s.serverResponse,r}return n}function Hq(t,e,n){const i=e.fullServerUrl(),s=Mw(i,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,l=new n3(s,r,qq(t,n),o);return l.errorHandler=Wq(e),l}function Gq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Kq(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Gq(null,e)),i}function Qq(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let T=0;T<2;T++)w=w+Math.random().toString().slice(2);return w}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const a=Kq(e,i,s),h=$q(a,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+a.contentType+`\r
\r
`,p=`\r
--`+c+"--",m=Kr.getBlob(f,i,p);if(m===null)throw uq();const _={name:a.fullPath},g=Mw(r,t.host,t._protocol),S="POST",v=t.maxUploadRetryTime,y=new n3(g,S,Uq(t,n),v);return y.urlParams=_,y.headers=o,y.body=m.uploadData(),y.errorHandler=s3(e),y}class Yq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw pu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xq extends Yq{initXhr(){this.xhr_.responseType="text"}}function r3(){return new Xq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ll(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZN(this._location.path)}get storage(){return this._service}get parent(){const e=jq(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Ll(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fq(e)}}function Jq(t,e,n){t._throwIfRoot("uploadBytes");const i=Qq(t.storage,t._location,e3(),new Kr(e,!0),n);return t.storage.makeRequestWithTokens(i,r3).then(s=>({metadata:s,ref:t}))}function Zq(t){t._throwIfRoot("getDownloadURL");const e=Hq(t.storage,t._location,e3());return t.storage.makeRequestWithTokens(e,r3).then(n=>{if(n===null)throw hq();return n})}function eW(t,e){const n=Oq(t._location.path,e),i=new rr(t._location.bucket,n);return new Ll(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){return/^[A-Za-z]+:\/\//.test(t)}function nW(t,e){return new Ll(t,e)}function o3(t,e){if(t instanceof zw){const n=t;if(n._bucket==null)throw aq();const i=new Ll(n,n._bucket);return e!=null?o3(i,e):i}else return e!==void 0?eW(t,e):t}function iW(t,e){if(e&&tW(e)){if(t instanceof zw)return nW(t,e);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}else return o3(t,e)}function JE(t,e){const n=e==null?void 0:e[HN];return n==null?null:rr.makeFromBucketSpec(n,t)}function sW(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:E0(s,t.app.options.projectId))}class zw{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=WN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JU,this._maxUploadRetryTime=ZU,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=JE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=JE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ll(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new pq(GN());{const o=Eq(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const ZE="@firebase/storage",e2="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="storage";function rW(t,e,n){return t=ct(t),Jq(t,e,n)}function oW(t){return t=ct(t),Zq(t)}function lW(t,e){return t=ct(t),iW(t,e)}function cW(t=Um(),e){t=ct(t);const i=Fl(t,l3).getImmediate({identifier:e}),s=oR("storage");return s&&aW(i,...s),i}function aW(t,e,n,i={}){sW(t,e,n,i)}function uW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zw(n,i,s,e,Us)}function hW(){Fs(new ys(l3,uW,"PUBLIC").setMultipleInstances(!0)),si(ZE,e2,""),si(ZE,e2,"esm2017")}hW();const dW={apiKey:"AIzaSyA8n_4o5JbfPlpL7P87Ilm-g_VXJgn1apw",authDomain:"lendning-for-real-estate.firebaseapp.com",projectId:"lendning-for-real-estate",storageBucket:"lendning-for-real-estate.appspot.com",messagingSenderId:"762806874889",appId:"1:762806874889:web:2268a9258034500e2699d8",measurementId:"G-3K6EWMZX0S"},Vg=$m(dW),Vw=L9(Vg,{localCache:d8({tabManager:g8()}),experimentalForceLongPolling:!0}),fW=cW(Vg),pW=QU(Vg),t2=W7(Vg);console.log("Firebase is connected");const mW="_Admin_10qpb_1",gW="_Box_10qpb_17",_W="_Logo_10qpb_35",H_={Admin:mW,Box:gW,Logo:_W},vW=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2238",height:"2238",fill:"none",viewBox:"0 0 2238 2238",...t,children:u.jsx("path",{fill:"#000",d:"M1178.6 2053.91v-336.58h105.16l54-50.76V184h358.09v1621.48l-264.31 248.43H1178.6zm-372.295 0L542 1805.48V184h358.09v1482.57l53.998 50.76h105.152v336.58H806.305z"})}),yW="_Input_w8scv_1",SW={Input:yW},gm=t=>{const e=d.useRef(null);function n(){var s;(s=e.current)==null||s.focus()}const i=()=>{e.current.style.height="auto",e.current.style.height=e.current.scrollHeight+"px"};return d.useEffect(i,[t.value]),u.jsxs("div",{className:SW.Input,onClick:()=>n(),children:[u.jsxs("p",{children:[t.label," ",u.jsx("span",{children:t.sublabel!==void 0&&t.sublabel})]}),u.jsx("textarea",{type:t.type,placeholder:t.placeholder,rows:1,ref:e,...t})]})},wW="_Button_1jmo6_1",xW={Button:wW},xy=t=>u.jsx("button",{className:xW.Button,...t,children:t.children}),TW=()=>{const[t,e]=d.useState(""),[n,i]=d.useState("");async function s(){const o=(await Td(Rl(Vw,"landingPageData","adminData"))).data();o!==null&&(t===o.login&&n===o.password?(localStorage.setItem("isAuth",JSON.stringify(!0)),window.location.reload()):(localStorage.setItem("isAuth",JSON.stringify(!1)),alert("Не верный логин или пароль")))}return u.jsx("section",{className:H_.Admin,children:u.jsxs("div",{className:H_.Box,children:[u.jsx(vW,{className:H_.Logo}),u.jsx(gm,{type:"text",value:t,label:"Email",placeholder:"Введите свой email",onChange:r=>e(r.target.value)}),u.jsx(gm,{type:"password",value:n,label:"Пароль",placeholder:"Введите свой email",onChange:r=>i(r.target.value)}),u.jsx(xy,{disabled:t==="",onClick:()=>s(),children:"Войти"})]})})},IW="_Loader_1vni4_1",EW={Loader:IW},CW="/assets/Loader2-6054666d.gif",Ua=()=>u.jsx("div",{className:EW.Loader,children:u.jsx("img",{src:CW,alt:""})}),kW="_Button_89hh0_1",RW={Button:kW},Ue=({children:t,onClick:e,style:n,disabled:i})=>u.jsx("button",{style:n,className:RW.Button,onClick:e,disabled:i,children:t}),n2=t=>{let e;const n=new Set,i=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(_=>_(e,m))}},s=()=>e,c={setState:i,getState:s,getInitialState:()=>a,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{n.clear()}},a=e=t(i,s,c);return c},PW=t=>t?n2(t):n2;var c3={exports:{}},a3={},u3={exports:{}},h3={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=d;function bW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AW=typeof Object.is=="function"?Object.is:bW,NW=wa.useState,DW=wa.useEffect,LW=wa.useLayoutEffect,jW=wa.useDebugValue;function OW(t,e){var n=e(),i=NW({inst:{value:n,getSnapshot:e}}),s=i[0].inst,r=i[1];return LW(function(){s.value=n,s.getSnapshot=e,G_(s)&&r({inst:s})},[t,n,e]),DW(function(){return G_(s)&&r({inst:s}),t(function(){G_(s)&&r({inst:s})})},[t]),jW(n),n}function G_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!AW(t,n)}catch{return!0}}function MW(t,e){return e()}var zW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MW:OW;h3.useSyncExternalStore=wa.useSyncExternalStore!==void 0?wa.useSyncExternalStore:zW;u3.exports=h3;var VW=u3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=d,FW=VW;function BW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $W=typeof Object.is=="function"?Object.is:BW,UW=FW.useSyncExternalStore,qW=Fg.useRef,WW=Fg.useEffect,HW=Fg.useMemo,GW=Fg.useDebugValue;a3.useSyncExternalStoreWithSelector=function(t,e,n,i,s){var r=qW(null);if(r.current===null){var o={hasValue:!1,value:null};r.current=o}else o=r.current;r=HW(function(){function c(m){if(!a){if(a=!0,h=m,m=i(m),s!==void 0&&o.hasValue){var _=o.value;if(s(_,m))return f=_}return f=m}if(_=f,$W(h,m))return _;var g=i(m);return s!==void 0&&s(_,g)?_:(h=m,f=g)}var a=!1,h,f,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,i,s]);var l=UW(t,r[0],r[1]);return WW(function(){o.hasValue=!0,o.value=l},[l]),GW(l),l};c3.exports=a3;var KW=c3.exports;const QW=Kh(KW),{useDebugValue:YW}=L2,{useSyncExternalStoreWithSelector:XW}=QW;const JW=t=>t;function ZW(t,e=JW,n){const i=XW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return YW(i),i}const i2=t=>{const e=typeof t=="function"?PW(t):t,n=(i,s)=>ZW(e,i,s);return Object.assign(n,e),n},eH=t=>t?i2(t):i2,Ty=new Map,vf=t=>{const e=Ty.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,i])=>[n,i.getState()])):{}},tH=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const i=Ty.get(n.name);if(i)return{type:"tracked",store:t,...i};const s={connection:e.connect(n),stores:{}};return Ty.set(n.name,s),{type:"tracked",store:t,...s}},nH=(t,e={})=>(n,i,s)=>{const{enabled:r,anonymousActionType:o,store:l,...c}=e;let a;try{a=(r??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!a)return t(n,i,s);const{connection:h,...f}=tH(l,a,c);let p=!0;s.setState=(g,S,v)=>{const y=n(g,S);if(!p)return y;const w=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return l===void 0?(h==null||h.send(w,i()),y):(h==null||h.send({...w,type:`${l}/${w.type}`},{...vf(c.name),[l]:s.getState()}),y)};const m=(...g)=>{const S=p;p=!1,n(...g),p=S},_=t(s.setState,i,s);if(f.type==="untracked"?h==null||h.init(_):(f.stores[f.store]=s,h==null||h.init(Object.fromEntries(Object.entries(f.stores).map(([g,S])=>[g,g===f.store?_:S.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let g=!1;const S=s.dispatch;s.dispatch=(...v)=>{S(...v)}}return h.subscribe(g=>{var S;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return K_(g.payload,v=>{if(v.type==="__setState"){if(l===void 0){m(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=v.state[l];if(y==null)return;JSON.stringify(s.getState())!==JSON.stringify(y)&&m(y);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(g.payload.type){case"RESET":return m(_),l===void 0?h==null?void 0:h.init(s.getState()):h==null?void 0:h.init(vf(c.name));case"COMMIT":if(l===void 0){h==null||h.init(s.getState());return}return h==null?void 0:h.init(vf(c.name));case"ROLLBACK":return K_(g.state,v=>{if(l===void 0){m(v),h==null||h.init(s.getState());return}m(v[l]),h==null||h.init(vf(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return K_(g.state,v=>{if(l===void 0){m(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[l])&&m(v[l])});case"IMPORT_STATE":{const{nextLiftedState:v}=g.payload,y=(S=v.computedStates.slice(-1)[0])==null?void 0:S.state;if(!y)return;m(l===void 0?y:y[l]),h==null||h.send(null,v);return}case"PAUSE_RECORDING":return p=!p}return}}),_},iH=nH,K_=(t,e)=>{let n;try{n=JSON.parse(t)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}n!==void 0&&e(n)};var hn=(t=>(t.ru="ru",t.en="en",t))(hn||{});const nt=eH()(iH(t=>({editMode:"Header",modal:!1,auth:{country:"",city:"",language:"",currency:"",square:"",forUse:"",strategy:"",minBudget:"",maxBudget:"",budgetCurrency:"",fullname:"",phoneNumber:"",email:"",description:"",codeForEnter:""},lang:hn.ru,changeLang:e=>t({lang:e}),changeEditMode:e=>t({editMode:e}),changeModal:e=>t({modal:e}),changeAuth:e=>t(n=>({auth:{...n.auth,...e}}))}))),sH="_Cookies_1gput_1",rH="_CookiesEdit_1gput_31",oH="_EditMode_1gput_75",Q_={Cookies:sH,CookiesEdit:rH,EditMode:oH},Fw=({edit:t,data:e})=>{const n=nt(w=>w.changeEditMode),i=localStorage.getItem("ok"),[s,r]=d.useState(!0),[o,l]=d.useState(""),[c,a]=d.useState(""),[h,f]=d.useState(""),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState(!1);d.useEffect(()=>{e&&(r((e==null?void 0:e.hidden)??!1),l(e==null?void 0:e.policy),a(e==null?void 0:e.privacy),f((e==null?void 0:e.text)||""),m((e==null?void 0:e.policyText)||""),g((e==null?void 0:e.privacyText)||""))},[e]),d.useEffect(()=>{i==="true"&&v(!0)},[]);function y(){v(!0),localStorage.setItem("ok",JSON.stringify(!0))}return u.jsx(u.Fragment,{children:(t||!S&&!s)&&u.jsxs("div",{className:t?Q_.CookiesEdit:Q_.Cookies,children:[t&&u.jsx("div",{className:Q_.EditMode,onClick:()=>n("Cookies")}),u.jsxs("p",{children:[h,u.jsx("a",{href:o,children:p}),","," ",u.jsx("a",{href:c,children:_})]}),u.jsx(Ue,{onClick:()=>y(),children:"Хорошо"})]})})},Iy={title:"",size:"14",position:"center"},lH={hidden:!1,note:"",item:Iy},Bw=["privacy","cookie-policy","terms-of-use"],d3={en:{privacy:"Privacy","cookie-policy":"Policy","terms-of-use":"Term of Use"},ru:{privacy:"Privacy","cookie-policy":"Policy","terms-of-use":"Term of Use"}},Vs=t=>Rl(Vw,"landingPageData",t),_m=()=>Rl(Vw,"landingPageData","landings");function s2(t,e="Лендинг Создан",n,i){function s(o){const l=Vs(o);Td(l).then(c=>{if(c.exists()){const a={...c.data(),name:`${o}${n}`},h=Vs(`${o}${n}`);return em(h,a)}else console.log("Document does not exist.")}).then(()=>{console.log("Document copied and modified successfully!")}).catch(c=>{console.error("Error copying and modifying document: ",c)})}function r(o){if(tm(_m(),t).then(()=>{alert(e)}).catch(l=>console.log(l)),n.length>=1){console.log(`${o}${n}`);const l=Vs(`${o}${n}`);$4(l).then(()=>{console.log(`Document successfully deleted!(${o})`)}).catch(c=>{console.error(`Error deleting document(${o}): `,c)})}else console.log("error - createNewLandings")}i&&i==="delete"?(r("en"),r("ru")):(tm(_m(),t).then(()=>{alert(e)}).catch(o=>console.log(o)),s("en"),s("ru"))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bc=function(){return bc=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)},f3=function(t){return{loading:t==null,value:t}},cH=function(){return function(t,e){switch(e.type){case"error":return bc(bc({},t),{error:e.error,loading:!1,value:void 0});case"reset":return f3(e.defaultValue);case"value":return bc(bc({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},aH=function(t){var e=t?t():void 0,n=d.useReducer(cH(),f3(e)),i=n[0],s=n[1],r=d.useCallback(function(){var c=t?t():void 0;s({type:"reset",defaultValue:c})},[t]),o=d.useCallback(function(c){s({type:"error",error:c})},[]),l=d.useCallback(function(c){s({type:"value",value:c})},[]);return d.useMemo(function(){return{error:i.error,loading:i.loading,reset:r,setError:o,setValue:l,value:i.value}},[i.error,i.loading,r,o,l,i.value])},uH=function(t,e,n){var i=d.useRef(t);return d.useEffect(function(){e(t,i.current)||(i.current=t,n&&n())}),i},hH=function(t,e){var n=!t&&!e,i=!!t&&!!e&&VS(t,e);return n||i},dH=function(t,e){return uH(t,hH,e)},xa=function(t,e){var n=aH(),i=n.error,s=n.loading,r=n.reset,o=n.setError,l=n.setValue,c=n.value,a=dH(t,r);return d.useEffect(function(){if(!a.current){l(void 0);return}var h=e!=null&&e.snapshotListenOptions?nm(a.current,e.snapshotListenOptions,l,o):nm(a.current,l,o);return function(){h()}},[a.current]),[c,s,i]};const $w=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Uw=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Ta=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 16 16",...t,children:u.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 4a1 1 0 11-2 0 1 1 0 012 0zm1.5-1h8a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-8a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5zm0 4h8a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-8a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5zm8 4h-8a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h8a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zM3 9a1 1 0 100-2 1 1 0 000 2zm1 3a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})}),fH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",fill:"currentColor",...t,children:u.jsx("path",{fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32",d:"M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z"})}),pH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",fill:"currentColor",...t,children:u.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 96h16v320h-16zm144 0h16v320h-16z"})}),mH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",...t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),gH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),_H=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})}),vH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h7"})}),yH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",fill:"currentColor",width:16,height:16,...t,children:u.jsx("path",{fillRule:"evenodd",d:"M484.7 132c3.56-11.28 0-19.48-15.75-19.48h-52.37c-13.21 0-19.31 7.18-22.87 14.86 0 0-26.94 65.6-64.56 108.13-12.2 12.3-17.79 16.4-24.4 16.4-3.56 0-8.14-4.1-8.14-15.37V131.47c0-13.32-4.06-19.47-15.25-19.47H199c-8.14 0-13.22 6.15-13.22 12.3 0 12.81 18.81 15.89 20.84 51.76V254c0 16.91-3 20-9.66 20-17.79 0-61-66.11-86.92-141.44C105 117.64 99.88 112 86.66 112H33.79C18.54 112 16 119.17 16 126.86c0 13.84 17.79 83.53 82.86 175.77 43.21 63 104.72 96.86 160.13 96.86 33.56 0 37.62-7.69 37.62-20.5v-47.66c0-15.37 3.05-17.93 13.73-17.93 7.62 0 21.35 4.09 52.36 34.33C398.28 383.6 404.38 400 424.21 400h52.36c15.25 0 22.37-7.69 18.3-22.55-4.57-14.86-21.86-36.38-44.23-62-12.2-14.34-30.5-30.23-36.09-37.92-7.62-10.25-5.59-14.35 0-23.57-.51 0 63.55-91.22 70.15-122"})}),Fn=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p3=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}),m3=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",...t,children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),SH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r2=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"none",viewBox:"0 0 25 25",...t,children:u.jsx("path",{fill:"currentColor",d:"M12.087 24.686c6.58 0 12.012-5.432 12.012-12.011C24.099 6.083 18.654.65 12.075.65 5.495.65.063 6.083.063 12.675c0 6.58 5.432 12.011 12.024 12.011zm2.124-6.066c-.379.378-1.135.354-1.538-.025l-4.87-4.59a1.83 1.83 0 010-2.649l4.87-4.59c.451-.414 1.11-.427 1.514-.024.427.415.463 1.123.024 1.538l-4.7 4.395 4.7 4.419c.415.39.44 1.086 0 1.526z"})}),wH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800",height:"800",fill:"none",viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M12 23.5c-1 0 .183-1.579-4.747-4.035a7.857 7.857 0 01-.785-.45C4.015 17.419 2.5 14.5 2.5 11.358 2.5 6.19 6.753 2 12 2s9.5 4.19 9.5 9.357c0 3.462-1.844 6.657-4.745 8.104C11.82 21.92 13 23.5 12 23.5zm0-8.39c2.111 0 3.8-1.672 3.8-3.705C15.8 9.372 14.111 7.7 12 7.7c-2.111 0-3.8 1.672-3.8 3.705 0 2.033 1.689 3.705 3.8 3.705z"})}),g3=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),sp=t=>u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"M10.0465 2.62501L11.6965 2.77501L11.5465 4.72501C10.9966 4.57501 9.83654 4.24501 9.59655 4.12501C8.64653 3.97501 6.71654 3.91501 6.59654 4.87501C6.47654 5.83501 8.64653 6.37501 9.74654 6.52501C10.4965 6.67501 11.9665 7.42501 11.8465 9.22501C11.7265 11.025 10.3966 11.975 9.74654 12.225V14.025L8.84655 14.475V12.225H7.19654L7.04654 14.775L5.69654 14.325V12.225H3.14655L4.19655 9.97501C4.24656 9.97501 4.58654 10.035 5.54655 10.275C8.24654 10.725 9.44655 9.67501 9.44655 9.37501C9.44655 9.07501 9.59654 8.77501 7.04654 7.87501C5.00654 7.15501 3.79656 4.075 3.44655 2.62501H5.54655V0.675006L6.89654 0.525006V2.32501H8.39654V0.225006H10.0465V2.62501Z",fill:"currentColor"})}),xH=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"})}),TH=t=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800",height:"800",fill:"none",stroke:"currentColor",strokeWidth:4,viewBox:"0 0 64 64",...t,children:[u.jsx("path",{strokeLinecap:"round",d:"M15.68 52.27L8.27 41.12a1.2 1.2 0 01.34-1.67l4.68-3a1.21 1.21 0 011.64.32l7.56 11a1.2 1.2 0 01-.32 1.67l-4.82 3.16a1.2 1.2 0 01-1.67-.33zM15.76 37.9l7.8-4.9a2.17 2.17 0 011.7-.27c2.77.71 11.1 3 14.17 4.08 2.31.81 3.24 3.09 2.31 4.59-1.26 2-3.18 1.81-4.56 1.42l-.55-.2-5.46-2.33"}),u.jsx("path",{strokeLinecap:"round",d:"M21.81 46.75l2.55-1.46 14.43 4a1.06 1.06 0 00.88-.14c2-1.3 10.71-7.06 15-10.09a2.4 2.4 0 00.3-4 3.1 3.1 0 00-3.71-.33c-1.5.84-5.67 3.94-5.67 3.94"}),u.jsx("path",{d:"M44.12 14.44a6 6 0 00-5.6-3.61c-5.05 0-5.24 3.61-5.24 3.61s-.76 4.46 5.42 4.93c6.43.49 5.42 4.93 5.42 4.93s-.65 3.86-5.42 4.1-6.24-4.76-6.24-4.76"}),u.jsx("path",{d:"M38.52 7.62L38.52 32.1"})]}),IH=t=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800",height:"800",fill:"none",viewBox:"0 0 24 24",...t,children:[u.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12.5 22H4.08c-1.16 0-2.11-.93-2.11-2.07V5.09c0-2.62 1.95-3.81 4.34-2.64l4.44 2.18c.96.47 1.75 1.72 1.75 2.78V22zM21.97 15.06v3.78c0 2.16-1 3.16-3.16 3.16H12.5V10.42l.47.1 4.5 1.01 2.03.45c1.32.29 2.4.97 2.46 2.89.01.06.01.12.01.19zM5.5 9h3.47M5.5 13h3.47"}),u.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.47 11.53v3.22c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25v-4.23l4.5 1.01zM21.96 14.87A2.249 2.249 0 0119.72 17c-1.24 0-2.25-1.01-2.25-2.25v-3.22l2.03.45c1.32.29 2.4.97 2.46 2.89z"})]}),EH="_Modal_hoicm_1",CH="_Big_hoicm_29",kH="_Box_hoicm_41",RH="_Icon_hoicm_61",PH="_Back_hoicm_79",bH="_links_hoicm_99",AH="_inputs_hoicm_117",NH="_routeLink_hoicm_129",DH="_nameRoute_hoicm_139",LH="_linkDescription_hoicm_147",Is={Modal:EH,Big:CH,Box:kH,Icon:RH,Back:PH,links:bH,inputs:AH,routeLink:NH,nameRoute:DH,linkDescription:LH},jH=["edit",...Bw],OH=({open:t,onClose:e})=>{const[n,i,s]=xa(_m()),[r,o]=d.useState(""),[l,c]=d.useState(""),a=()=>{const p=[...(n==null?void 0:n.data()).paths];if(!r||jH.some(m=>m===r)||p.some(({path:m})=>m===r.toLowerCase())){alert("Такой маршрут уже есть");return}s2({paths:[...p,{path:r.toLowerCase(),name:l}]},"Лендинг был добавлен!",r)},h=p=>{const _=[...(n==null?void 0:n.data()).paths].filter(g=>g.path!==p);confirm("Вы уверены что хотите удалить лендинг безвозвратно?")&&s2({paths:_},"Лендинг был удален!",p,"delete")};if(i)return u.jsx(Ua,{});if(s)return u.jsxs("h1",{children:["Error: ",s.message]});const f=(n==null?void 0:n.data()).paths;return u.jsx(u.Fragment,{children:t&&u.jsx("div",{className:`${Is.Modal} ${Is.Big}`,children:u.jsxs("div",{className:Is.Box,children:[u.jsx(m3,{className:Is.Icon,onClick:e}),u.jsx("div",{className:Is.links,children:f.map(p=>u.jsxs("div",{className:Is.routeLink,children:[u.jsx(B6,{to:`${p.path?`/${p.path}/`:"/"}edit`,children:u.jsxs("p",{className:Is.linkDescription,children:[u.jsxs("span",{children:["Имя:"," ",u.jsx("span",{className:Is.nameRoute,children:p.name})]}),u.jsxs("span",{children:["path:",u.jsx("span",{className:Is.nameRoute,children:p.path})]})]})},p.path+p.name),u.jsx("div",{style:{display:"flex",gap:"10px"},children:u.jsx(Ue,{onClick:()=>{h(p.path)},style:{background:"red"},children:"Удалить"})})]},p.path))}),u.jsxs("div",{className:Is.inputs,children:[u.jsx(gm,{value:r,label:"Ведите маршрут",onChange:p=>{o(p.target.value)}}),u.jsx(gm,{value:l,label:"Ведите имя",onChange:p=>c(p.target.value)})]}),u.jsx(Ue,{onClick:a,style:{width:"50%"},children:"Coздать"})]})})})},MH=t=>u.jsx("svg",{fill:"#000000",height:"100%",width:"100%",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330.002 330.002",...t,children:u.jsx("path",{id:"XMLID_105_",d:`M324.001,209.25L173.997,96.75c-5.334-4-12.667-4-18,0L6.001,209.25c-6.627,4.971-7.971,14.373-3,21\r
            c2.947,3.93,7.451,6.001,12.012,6.001c3.131,0,6.29-0.978,8.988-3.001L164.998,127.5l141.003,105.75c6.629,4.972,16.03,3.627,21-3\r
            C331.972,223.623,330.628,214.221,324.001,209.25z`})}),zH="_EditMode_uso43_1",VH="_Box_uso43_33",FH="_questionItem_uso43_69",BH="_Section_uso43_89",$H="_Form_uso43_113",UH="_QuestionIcon_uso43_139",qH="_NoGap_uso43_153",WH="_flex_uso43_165",HH="_down_uso43_175",ar={EditMode:zH,Box:VH,questionItem:FH,Section:BH,Form:$H,QuestionIcon:UH,NoGap:qH,flex:WH,down:HH},_3=({qa:t,index:e,edit:n,line:i=!0})=>{const[s,r]=d.useState(!1);return u.jsxs("div",{className:ar.questionItem,id:t.id,style:{borderBottom:i?"":"none"},children:[u.jsxs("div",{className:ar.flex,children:[u.jsx("h3",{style:{flex:1,whiteSpace:"pre-wrap",fontSize:`${t.question.size}px`,textAlign:t.question.position},children:t.question.title}),u.jsx("div",{style:{width:"20px",height:"20px"},className:n||s?"":ar.down,onClick:()=>r(o=>!o),children:u.jsx(MH,{color:"white"})})]}),(n||s)&&u.jsx("p",{style:{whiteSpace:"pre-wrap",fontSize:`${t.answer.size}px`,textAlign:t.answer.position},children:t.answer.title})]},e)},v3=({data:t,edit:e,order:n})=>{const i=nt(s=>s.changeEditMode);return!e&&t.hidden?null:u.jsxs("div",{className:ar.Section,style:{order:n},children:[e&&u.jsx("div",{className:ar.EditMode,onClick:()=>i("FAQ")}),u.jsxs("div",{className:ar.Box,children:[u.jsx("h1",{style:{width:"100%",fontSize:`${t.title.size}px`,textAlign:t.title.position},children:t.title.title||"Вопросы"}),t.questions.map((s,r)=>u.jsx(_3,{qa:s,index:r,edit:e},s.id))]})]})},GH="_Footer_v0pqy_1",KH="_EditMode_v0pqy_25",o2={Footer:GH,EditMode:KH},qw=({edit:t,data:e})=>{const n=nt(a=>a.changeEditMode),[i,s]=d.useState(""),[r,o]=d.useState("12"),[l,c]=d.useState("left");return d.useEffect(()=>{e&&(s(e==null?void 0:e.copyright),o(e==null?void 0:e.copyrightSize),c(e==null?void 0:e.copyrightPosition))},[e]),u.jsxs("footer",{className:o2.Footer,children:[t&&u.jsx("div",{className:o2.EditMode,onClick:()=>n("Footer")}),u.jsx("p",{style:{fontSize:`${r}px`,textAlign:l},children:i})]})},QH="_burgerMenu_miicj_3",YH="_burgerLine_miicj_13",XH="_menuContent_miicj_29",JH="_burgerMenuOpen_miicj_61",ZH="_show_miicj_85",eG="_hide_miicj_93",tG="_langBtnWrapper_miicj_115",Lr={burgerMenu:QH,burgerLine:YH,menuContent:XH,burgerMenuOpen:JH,show:ZH,hide:eG,langBtnWrapper:tG},nG=({show:t,onClose:e,onOpen:n,children:i})=>{const s=d.useRef(null),r=d.useRef(null),o=()=>{t&&e()},l=()=>{t?e():n()};return d.useEffect(()=>{const c=a=>{t&&s.current&&!s.current.contains(a.target)&&r.current&&!r.current.contains(a.target)&&o()};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[t]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:r,className:`${Lr.burgerMenu} ${t?Lr.burgerMenuOpen:""}`,onClick:l,children:[u.jsx("div",{className:Lr.burgerLine}),u.jsx("div",{className:Lr.burgerLine}),u.jsx("div",{className:Lr.burgerLine})]}),u.jsx("div",{ref:s,className:`${Lr.menuContent} ${t?Lr.show:Lr.hide}`,onClick:c=>c.stopPropagation(),children:i})]})},iG="_Header_1dd50_1",sG="_EditMode_1dd50_49",rG="_Left_1dd50_79",oG="_laptop_1dd50_95",lG="_Right_1dd50_141",cG="_Logo_1dd50_191",aG="_header__inner_1dd50_213",uG="_header__menu_1dd50_221",hG="_langBtnWrapperMob_1dd50_231",dG="_iPad_1dd50_247",fG="_langBtnWrapperDesk_1dd50_271",pG="_register_1dd50_283",Es={Header:iG,EditMode:sG,Left:rG,laptop:oG,Right:lG,Logo:cG,header__inner:aG,header__menu:uG,langBtnWrapperMob:hG,iPad:dG,langBtnWrapperDesk:fG,register:pG},Ww=({edit:t,data:e,lang:n})=>{var c,a,h;const i=nt(f=>f.changeEditMode),[s,r]=d.useState(!1),o=nt(f=>f.changeLang),l=()=>{n===hn.ru?(o(hn.en),localStorage.setItem("lang",hn.en)):(o(hn.ru),localStorage.setItem("lang",hn.ru))};return d.useEffect(()=>{let f=navigator.language==="ru-RU"?"ru":"en";const p=localStorage.getItem("lang");p?o(p):f==="ru"?(o(hn.ru),console.log("browser-lang: "+hn.ru)):(o(hn.en),console.log("browser-lang: "+hn.en))},[]),u.jsx(u.Fragment,{children:!(e!=null&&e.hidden)&&u.jsx("header",{className:Es.Header,children:u.jsxs("div",{className:Es.header__inner,children:[u.jsx("div",{className:"container",children:u.jsxs("div",{className:Es.header__menu,children:[t&&u.jsx("div",{className:Es.EditMode,onClick:()=>i("Header")}),u.jsx(nG,{onClose:()=>r(!1),show:s,onOpen:()=>r(!0),children:u.jsxs("div",{className:Es.iPad,children:[e==null?void 0:e.navigation.map((f,p)=>u.jsx("a",{href:f.link,style:{fontSize:`${f.size}px`,textAlign:f.position},children:f.name},p)),u.jsx("a",{href:e==null?void 0:e.button.link,children:u.jsx("button",{style:{fontSize:`${e==null?void 0:e.button.size}px`,textAlign:e==null?void 0:e.button.position,marginTop:"20px"},children:e==null?void 0:e.button.name})})]})}),u.jsxs("div",{className:Es.Left,children:[u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx("img",{src:e.img,alt:"Logo",style:{height:"50px",width:"auto"}}),u.jsx("p",{style:{fontSize:`${(c=e==null?void 0:e.logo)==null?void 0:c.size}px`,textAlign:(a=e==null?void 0:e.logo)==null?void 0:a.position},children:(h=e==null?void 0:e.logo)==null?void 0:h.name})]}),u.jsx("ul",{className:Es.laptop,children:e==null?void 0:e.navigation.map((f,p)=>u.jsx("li",{style:{fontSize:`${f.size}px`,textAlign:f.position},children:u.jsx("a",{href:f.link,children:f.name})},p))}),u.jsx("a",{href:e==null?void 0:e.button.link,className:Es.register,children:u.jsx("button",{style:{fontSize:`${e==null?void 0:e.button.size}px`,textAlign:e==null?void 0:e.button.position},children:e==null?void 0:e.button.name})})]}),u.jsx("div",{className:Es.langBtnWrapperMob,children:u.jsx(xy,{onClick:l,style:{width:"50px"},children:n==="ru"?"ENG":"РУС"})})]})}),u.jsx("div",{className:Es.langBtnWrapperDesk,children:u.jsx(xy,{onClick:l,style:{width:"50px",position:"absolute",top:"50%",transform:"translateY(-50%)",right:"20px"},children:n==="ru"?"ENG":"РУС"})})]})})})},mG="_wrapper_poha6_1",gG="_Section_poha6_9",_G="_EditMode_poha6_53",vG="_Box_poha6_83",yG="_miniBox_poha6_101",SG="_List_poha6_187",ic={wrapper:mG,Section:gG,EditMode:_G,Box:vG,miniBox:yG,List:SG},y3=({edit:t,data:e,order:n})=>{const i=nt(He=>He.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("14"),[h,f]=d.useState(""),[p,m]=d.useState("center"),[_,g]=d.useState(""),[S,v]=d.useState("38"),[y,w]=d.useState("center"),[T,I]=d.useState(""),[x,E]=d.useState("13"),[k,P]=d.useState("center"),[j,H]=d.useState(""),[X,K]=d.useState("28"),[ne,te]=d.useState("center"),[me,J]=d.useState(""),[O,F]=d.useState("13"),[B,G]=d.useState("center"),[Q,ge]=d.useState(""),[z,ue]=d.useState("28"),[re,M]=d.useState("center"),[V,le]=d.useState(""),[fe,ce]=d.useState("13"),[Te,ye]=d.useState("center"),[Re,we]=d.useState(""),[Le,je]=d.useState("28"),[Ne,Z]=d.useState("center"),[qe,ze]=d.useState(""),[Ve,We]=d.useState("13"),[Me,Be]=d.useState("center");return d.useEffect(()=>{var He,De,Ye,Oe;r(t?!1:e==null?void 0:e.hidden),f((He=e==null?void 0:e.button)==null?void 0:He.link),l((De=e==null?void 0:e.button)==null?void 0:De.text),a((Ye=e==null?void 0:e.button)==null?void 0:Ye.size),m((Oe=e==null?void 0:e.button)==null?void 0:Oe.position),g(e==null?void 0:e.title),v(e==null?void 0:e.titleSize),w(e==null?void 0:e.titlePosition),I(e==null?void 0:e.description),E(e==null?void 0:e.descriptionSize),P(e==null?void 0:e.descriptionPosition),H(e==null?void 0:e.list[0].title),K(e==null?void 0:e.list[0].sizeTitle),te(e==null?void 0:e.list[0].positionTitle),J(e==null?void 0:e.list[0].description),F(e==null?void 0:e.list[0].sizeDescription),G(e==null?void 0:e.list[0].positionDescription),ge(e==null?void 0:e.list[1].title),ue(e==null?void 0:e.list[1].sizeTitle),M(e==null?void 0:e.list[1].positionTitle),le(e==null?void 0:e.list[1].description),ce(e==null?void 0:e.list[1].sizeDescription),ye(e==null?void 0:e.list[1].positionDescription),we(e==null?void 0:e.list[2].title),je(e==null?void 0:e.list[2].sizeTitle),Z(e==null?void 0:e.list[2].positionTitle),ze(e==null?void 0:e.list[2].description),We(e==null?void 0:e.list[2].sizeDescription),Be(e==null?void 0:e.list[2].positionDescription)},[e]),u.jsx(u.Fragment,{children:!s&&u.jsx("div",{className:ic.wrapper,children:u.jsxs("section",{className:ic.Section,style:{order:n},children:[t&&u.jsx("div",{className:ic.EditMode,onClick:()=>i("Section1")}),u.jsxs("div",{className:ic.Box,children:[u.jsxs("div",{className:ic.miniBox,children:[u.jsx("h1",{style:{fontSize:`${S}px`,textAlign:y},children:_}),u.jsx("p",{style:{fontSize:`${x}px`,textAlign:k},children:T}),u.jsx("a",{href:h,children:u.jsx("button",{style:{fontSize:`${c}px`,textAlign:p},children:o})}),u.jsxs("div",{className:ic.List,children:[u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${X}px`,textAlign:ne},children:j}),u.jsx("p",{style:{fontSize:`${O}px`,textAlign:B},children:me})]}),u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${z}px`,textAlign:re},children:Q}),u.jsx("p",{style:{fontSize:`${fe}px`,textAlign:Te},children:V})]}),u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${Le}px`,textAlign:Ne},children:Re}),u.jsx("p",{style:{fontSize:`${Ve}px`,textAlign:Me},children:qe})]})]})]}),u.jsx("img",{src:e==null?void 0:e.image,alt:"main-img"})]})]})})})},wG="_Section_1cmdt_1",xG="_EditMode_1cmdt_23",TG="_Box_1cmdt_55",IG="_miniBox_1cmdt_93",EG="_founder_1cmdt_105",CG="_description_1cmdt_135",kG="_Buttons_1cmdt_151",RG="_JoinBox_1cmdt_237",PG="_Left_1cmdt_255",bG="_Right_1cmdt_257",AG="_LeftBox_1cmdt_279",ls={Section:wG,EditMode:xG,Box:TG,miniBox:IG,founder:EG,description:CG,Buttons:kG,JoinBox:RG,Left:PG,Right:bG,LeftBox:AG},NG=t=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",color:"currentColor",viewBox:"0 0 16 16",...t,children:[u.jsx("g",{clipPath:"url(#facebook_svg__a)",children:u.jsx("path",{fill:"currentColor",d:"M12.009 9l.443-2.895H9.676V4.224c0-.792.388-1.565 1.632-1.565h1.262V.194S11.426 0 10.327 0C8.038 0 6.542 1.388 6.542 3.898v2.207H4V9h2.542v7H9.67V9h2.338z"})}),u.jsx("defs",{children:u.jsx("clipPath",{id:"facebook_svg__a",children:u.jsx("path",{fill:"currentColor",d:"M0 0h8.57v16H0z",transform:"translate(4)"})})})]}),l2=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",color:"currentColor",viewBox:"0 0 16 16",...t,children:u.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.618 7.917a531.968 531.968 0 014.665-2.013c2.22-.926 2.686-1.086 2.986-1.092.066 0 .213.013.313.093.08.066.1.153.113.22.013.066.027.206.013.313-.12 1.266-.64 4.338-.906 5.75-.113.6-.333.8-.546.82-.467.04-.82-.306-1.266-.6-.707-.459-1.1-.746-1.786-1.199-.793-.52-.28-.806.173-1.273.12-.12 2.166-1.985 2.206-2.152.006-.02.006-.1-.04-.14-.047-.04-.114-.027-.167-.013-.073.013-1.193.76-3.372 2.232-.32.22-.606.327-.866.32-.287-.007-.833-.16-1.246-.293-.5-.16-.9-.247-.867-.527.02-.146.22-.293.593-.446z",clipRule:"evenodd"})}),DG=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",color:"currentColor",viewBox:"0 0 16 16",...t,children:u.jsx("path",{fill:"currentColor",d:"M4.77 14H2.213V4.947H4.77V14zM3.492 3.904C2.668 3.904 2 3.254 2 2.452 2 1.65 2.668 1 3.492 1c.823 0 1.492.65 1.492 1.452 0 .801-.668 1.452-1.492 1.452zM15 14h-2.557V9.388c0-2.772-3.41-2.562-3.41 0V14H6.475V4.947h2.558V6.4C10.223 4.27 15 4.114 15 8.437V14z"})}),LG=t=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"149",height:"44",fill:"none",viewBox:"0 0 149 44",...t,children:[u.jsxs("g",{clipPath:"url(#clip0_1674_10431)",children:[u.jsx("rect",{width:"150",height:"44",fill:"#000",rx:"8"}),u.jsx("path",{fill:"#fff",d:"M117.63 33h2.052V19.248h-2.052V33zm18.487-8.798l-2.353 5.962h-.07l-2.442-5.962h-2.211l3.663 8.333-2.089 4.635h2.141l5.644-12.967h-2.283zm-11.641 7.236c-.671 0-1.609-.336-1.609-1.168 0-1.061 1.168-1.468 2.176-1.468.902 0 1.328.194 1.875.46a2.488 2.488 0 01-2.442 2.176zm.249-7.537c-1.486 0-3.025.655-3.662 2.106l1.822.76c.389-.76 1.114-1.008 1.875-1.008 1.062 0 2.141.637 2.158 1.77v.14c-.372-.212-1.168-.53-2.14-.53-1.965 0-3.964 1.079-3.964 3.096 0 1.84 1.611 3.025 3.415 3.025 1.379 0 2.141-.619 2.618-1.345h.071v1.063h1.982v-5.273c0-2.441-1.823-3.804-4.175-3.804zm-12.685 1.975h-2.92v-4.713h2.92c1.534 0 2.405 1.27 2.405 2.356 0 1.066-.871 2.357-2.405 2.357zm-.053-6.628h-4.918V33h2.051v-5.21h2.867c2.275 0 4.511-1.646 4.511-4.27 0-2.624-2.236-4.271-4.511-4.271zM85.168 31.44c-1.418 0-2.604-1.187-2.604-2.817 0-1.649 1.186-2.853 2.604-2.853 1.4 0 2.499 1.204 2.499 2.853 0 1.63-1.099 2.817-2.499 2.817zm2.357-6.468h-.07c-.461-.55-1.348-1.045-2.464-1.045-2.34 0-4.483 2.056-4.483 4.696 0 2.622 2.144 4.66 4.483 4.66 1.116 0 2.003-.496 2.463-1.063h.071v.673c0 1.79-.957 2.747-2.498 2.747-1.258 0-2.038-.904-2.357-1.666l-1.79.745c.514 1.24 1.878 2.764 4.147 2.764 2.41 0 4.448-1.418 4.448-4.874V24.21h-1.95v.762zM90.893 33h2.055V19.248h-2.055V33zm5.085-4.537c-.053-1.808 1.401-2.729 2.446-2.729.816 0 1.506.408 1.737.992l-4.183 1.737zm6.38-1.56c-.39-1.045-1.577-2.976-4.005-2.976-2.41 0-4.413 1.896-4.413 4.678 0 2.623 1.986 4.678 4.643 4.678 2.144 0 3.385-1.31 3.899-2.073l-1.595-1.063c-.531.78-1.258 1.293-2.304 1.293-1.045 0-1.79-.478-2.267-1.418l6.254-2.587-.212-.532zm-49.838-1.54v1.984h4.75c-.143 1.116-.515 1.931-1.082 2.498-.691.691-1.772 1.454-3.668 1.454-2.924 0-5.21-2.357-5.21-5.281 0-2.924 2.286-5.281 5.21-5.281 1.577 0 2.729.62 3.58 1.418l1.4-1.4c-1.188-1.135-2.765-2.003-4.98-2.003-4.006 0-7.373 3.26-7.373 7.266 0 4.004 3.367 7.265 7.373 7.265 2.162 0 3.792-.709 5.068-2.038 1.311-1.311 1.72-3.154 1.72-4.643 0-.46-.037-.885-.108-1.24h-6.68zm12.187 6.077c-1.418 0-2.64-1.17-2.64-2.835 0-1.684 1.222-2.835 2.64-2.835 1.418 0 2.64 1.151 2.64 2.835 0 1.666-1.222 2.835-2.64 2.835zm0-7.513c-2.588 0-4.696 1.966-4.696 4.678 0 2.694 2.108 4.678 4.696 4.678 2.587 0 4.696-1.985 4.696-4.678 0-2.712-2.109-4.678-4.696-4.678zm10.244 7.513c-1.417 0-2.64-1.17-2.64-2.835 0-1.684 1.223-2.835 2.64-2.835 1.418 0 2.64 1.151 2.64 2.835 0 1.666-1.222 2.835-2.64 2.835zm0-7.513c-2.587 0-4.695 1.966-4.695 4.678 0 2.694 2.108 4.678 4.695 4.678 2.588 0 4.697-1.985 4.697-4.678 0-2.712-2.109-4.678-4.697-4.678z"}),u.jsx("path",{fill:"#EB3131",d:"M22.788 21.366l-11.71 12.43.002.007a3.162 3.162 0 004.66 1.908l.037-.022 13.182-7.606-6.17-6.717"}),u.jsx("path",{fill:"#F6B60B",d:"M34.636 19.25l-.01-.007-5.692-3.3-6.412 5.706 6.434 6.433 5.661-3.267a3.165 3.165 0 00.02-5.565"}),u.jsx("path",{fill:"#5778C5",d:"M11.076 10.205c-.07.26-.107.532-.107.814v21.964c0 .282.036.555.108.813L23.19 21.685l-12.114-11.48"}),u.jsx("path",{fill:"#3BAD49",d:"M22.875 22.001l6.061-6.06L15.77 8.309a3.17 3.17 0 00-4.691 1.894v.004l11.797 11.796"}),u.jsx("path",{fill:"#fff",stroke:"#fff",strokeMiterlimit:"10",strokeWidth:"0.267",d:"M52.134 10.76h-3.209v.794h2.405c-.065.648-.323 1.157-.758 1.526-.435.37-.99.555-1.647.555-.72 0-1.33-.25-1.83-.749-.49-.509-.739-1.138-.739-1.896s.25-1.387.74-1.895c.5-.499 1.11-.748 1.83-.748.37 0 .721.064 1.044.203.324.139.583.333.786.582l.61-.61a2.746 2.746 0 00-1.062-.73 3.628 3.628 0 00-1.379-.26c-.96 0-1.775.334-2.44.999-.665.667-.999 1.488-.999 2.46 0 .97.334 1.794.999 2.459s1.48.998 2.44.998c1.01 0 1.814-.323 2.433-.98.544-.546.823-1.285.823-2.21 0-.156-.02-.323-.047-.498h0zm1.243-3.08v6.62h3.866v-.813h-3.015v-2.1h2.72v-.794h-2.72V8.495h3.015V7.68h-3.866zm9.286.815V7.68h-4.55v.815h1.85V14.3h.85V8.494h1.85zm4.119-.815h-.851v6.62h.85V7.68zm5.615.815V7.68h-4.55v.815h1.85V14.3h.85V8.494h1.85zm8.585.046c-.656-.675-1.46-1.009-2.421-1.009-.963 0-1.767.334-2.424.999-.656.656-.98 1.48-.98 2.46 0 .979.324 1.802.98 2.459.657.665 1.461.998 2.424.998.952 0 1.765-.333 2.421-.998.657-.657.98-1.48.98-2.46 0-.97-.323-1.792-.98-2.449zm-4.235.554c.49-.499 1.092-.748 1.814-.748.72 0 1.321.25 1.802.748.49.49.73 1.129.73 1.895 0 .769-.24 1.406-.73 1.896-.48.498-1.082.75-1.802.75-.722 0-1.324-.252-1.814-.75-.48-.5-.72-1.127-.72-1.896 0-.766.24-1.395.72-1.895zm7.236 1.082L83.947 8.9h.036l3.365 5.4h.889V7.68h-.85v3.874l.035 1.277h-.036L84.17 7.68h-1.037v6.62h.851v-4.123z"})]}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0_1674_10431",children:u.jsx("path",{fill:"#fff",d:"M0 0H148.501V44H0z"})})})]}),jG=t=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"44",fill:"none",viewBox:"0 0 150 44",...t,children:[u.jsx("rect",{width:"150",height:"44",fill:"#000",rx:"8"}),u.jsx("path",{fill:"#fff",d:"M51.28 10.961l-.569-1.781c-.14-.44-.258-.931-.365-1.35h-.021c-.105.419-.215.92-.341 1.35l-.558 1.781h1.854zm-2.069.996l-.622 2.05h-1.363l2.318-7.229h1.682l2.348 7.229H52.16l-.655-2.05M55.546 8.785l.848 2.646c.15.461.255.88.351 1.31h.032c.097-.43.215-.838.355-1.31l.837-2.646h1.381l-1.993 5.222H56.06l-1.943-5.222M63.33 11.452c-.933-.01-1.824.183-1.824.977 0 .515.333.751.751.751a1.08 1.08 0 001.039-.719c.035-.097.035-.193.035-.29v-.719zm1.286 1.299c0 .472.021.934.086 1.253H63.51l-.094-.577h-.034c-.309.405-.856.695-1.543.695-1.052 0-1.64-.76-1.64-1.554 0-1.309 1.167-1.982 3.097-1.972v-.086c0-.343-.137-.912-1.06-.912-.515 0-1.052.161-1.406.386l-.258-.858c.387-.236 1.063-.459 1.89-.459 1.67 0 2.154 1.06 2.154 2.208M66.48 8.785h1.318v5.222H66.48V8.785zm.652-.751a.699.699 0 01-.727-.708c0-.408.298-.72.74-.72.449 0 .728.312.739.72 0 .386-.29.708-.738.708M69.695 14.007h1.32V6.38h-1.32v7.626zM75.689 11.452c-.934-.01-1.825.183-1.825.977 0 .515.333.751.752.751.536 0 .912-.343 1.04-.719.033-.097.033-.193.033-.29v-.719zm1.285 1.299c0 .472.022.934.086 1.253h-1.189l-.096-.577h-.032c-.312.405-.859.695-1.546.695-1.05 0-1.64-.76-1.64-1.554 0-1.309 1.17-1.982 3.1-1.972v-.086c0-.343-.14-.912-1.063-.912-.515 0-1.052.161-1.403.386l-.258-.858c.387-.236 1.06-.459 1.887-.459 1.671 0 2.154 1.06 2.154 2.208M80.16 11.85c0 .107.01.214.032.31.14.537.601.924 1.167.924.827 0 1.331-.655 1.331-1.715 0-.923-.44-1.674-1.32-1.674-.537 0-1.028.386-1.167.966a1.576 1.576 0 00-.043.343v.845zm-1.32-5.47h1.32v3.121h.021c.322-.504.889-.834 1.672-.834 1.277 0 2.187 1.06 2.176 2.648 0 1.876-1.188 2.81-2.37 2.81-.675 0-1.274-.258-1.65-.902h-.02l-.065.784h-1.127c.021-.354.043-.934.043-1.46M85.582 14.007H86.9V6.38h-1.318v7.626zM92.035 10.843c.011-.483-.204-1.277-1.081-1.277-.816 0-1.16.74-1.213 1.277h2.294zm-2.294.92c.032.945.773 1.353 1.61 1.353.61 0 1.038-.097 1.446-.236l.194.899c-.451.196-1.074.332-1.822.332-1.696 0-2.694-1.038-2.694-2.635 0-1.449.88-2.809 2.554-2.809 1.693 0 2.251 1.393 2.251 2.541 0 .247-.021.44-.043.556M99.83 13.17c.749 0 1.275-.73 1.275-1.79 0-.816-.365-1.76-1.264-1.76-.934 0-1.31.912-1.31 1.781 0 1.006.505 1.768 1.286 1.768h.013zm-.043.955c-1.47 0-2.616-1.01-2.616-2.692 0-1.717 1.124-2.766 2.702-2.766 1.554 0 2.595 1.092 2.595 2.68 0 1.92-1.353 2.778-2.67 2.778M104.019 10.339c0-.601-.019-1.106-.04-1.557h1.145l.065.784h.032c.236-.408.805-.899 1.674-.899.91 0 1.854.588 1.854 2.24v3.097h-1.32v-2.946c0-.752-.279-1.32-.995-1.32-.526 0-.891.375-1.031.772a1.224 1.224 0 00-.064.419v3.075h-1.32M114.827 7.443v1.34h1.253v.987h-1.253v2.294c0 .644.172.966.674.966.236 0 .365-.01.515-.054l.022.996c-.194.078-.548.14-.956.14-.491 0-.888-.162-1.135-.427-.29-.3-.418-.784-.418-1.47V9.77h-.741v-.988h.741v-.974M117.548 6.38h1.32v3.11h.021a1.74 1.74 0 01.655-.59c.269-.147.577-.233.91-.233.891 0 1.822.588 1.822 2.262v3.078h-1.318v-2.938c0-.752-.279-1.331-1.009-1.331-.512 0-.877.343-1.027.74a1.184 1.184 0 00-.054.397v3.132h-1.32M127.379 10.843c.011-.483-.204-1.277-1.084-1.277-.816 0-1.156.74-1.21 1.277h2.294zm-2.294.92c.032.945.77 1.353 1.607 1.353a4.18 4.18 0 001.446-.236l.196.899c-.451.196-1.073.332-1.824.332-1.693 0-2.692-1.038-2.692-2.635 0-1.449.88-2.809 2.552-2.809 1.693 0 2.251 1.393 2.251 2.541 0 .247-.021.44-.043.556M32.806 21.016c-.035-3.577 2.927-5.319 3.064-5.4-1.677-2.446-4.277-2.779-5.192-2.806-2.182-.228-4.299 1.31-5.41 1.31-1.135 0-2.85-1.286-4.693-1.248-2.377.037-4.599 1.414-5.817 3.547-2.511 4.355-.639 10.752 1.771 14.272 1.207 1.723 2.613 3.65 4.457 3.58 1.803-.075 2.476-1.149 4.653-1.149 2.157 0 2.79 1.149 4.671 1.106 1.935-.032 3.153-1.73 4.315-3.472 1.395-1.975 1.953-3.92 1.975-4.02-.046-.016-3.757-1.433-3.794-5.72zM29.253 10.497c.968-1.213 1.636-2.866 1.449-4.54-1.404.064-3.159.971-4.17 2.157-.894 1.047-1.696 2.761-1.487 4.371 1.578.119 3.196-.794 4.208-1.988zM54.567 27.845l-1.245-3.846c-.132-.391-.378-1.317-.743-2.771h-.043c-.145.625-.381 1.55-.7 2.771l-1.224 3.846h3.955zm4.304 6.141h-2.514l-1.377-4.325H50.2l-1.312 4.325H46.44l4.743-14.725h2.925M68.66 28.633c0-1.036-.234-1.886-.7-2.557-.51-.698-1.195-1.05-2.053-1.05-.583 0-1.114.197-1.584.58-.472.39-.783.894-.93 1.522-.073.29-.108.528-.108.716v1.771c0 .773.236 1.425.708 1.956.475.534 1.09.797 1.846.797.891 0 1.584-.34 2.075-1.028.499-.684.746-1.585.746-2.707zm2.404-.088c0 1.805-.489 3.235-1.465 4.282-.875.934-1.962 1.398-3.255 1.398-1.4 0-2.404-.505-3.016-1.508h-.043v5.595h-2.361v-11.45c0-1.135-.027-2.3-.086-3.496h2.074l.132 1.685h.045c.786-1.27 1.98-1.903 3.582-1.903 1.25 0 2.3.497 3.134 1.487.837.993 1.259 2.294 1.259 3.91zM80.87 28.633c0-1.036-.233-1.886-.7-2.557-.51-.698-1.194-1.05-2.052-1.05-.582 0-1.111.197-1.583.58-.475.39-.781.894-.926 1.522-.075.29-.11.528-.11.716v1.771c0 .773.233 1.425.706 1.956.475.534 1.089.797 1.848.797.889 0 1.58-.34 2.075-1.028.493-.684.743-1.585.743-2.707zm2.402-.088c0 1.805-.485 3.235-1.462 4.282-.875.934-1.959 1.398-3.255 1.398-1.398 0-2.401-.505-3.016-1.508h-.04v5.595h-2.361v-11.45c0-1.135-.03-2.3-.086-3.496h2.074l.131 1.685h.046c.784-1.27 1.978-1.903 3.58-1.903 1.252 0 2.296.497 3.136 1.487.837.993 1.253 2.294 1.253 3.91zM96.93 29.856c0 1.25-.434 2.27-1.31 3.06-.96.858-2.293 1.287-4.008 1.287-1.586 0-2.858-.306-3.821-.918l.547-1.964a6.486 6.486 0 003.413.937c.889 0 1.58-.199 2.077-.599.494-.402.74-.939.74-1.61 0-.595-.2-1.102-.608-1.51-.408-.408-1.087-.786-2.034-1.138-2.579-.963-3.867-2.372-3.867-4.223 0-1.21.451-2.203 1.355-2.976.902-.773 2.104-1.162 3.604-1.162 1.342 0 2.455.236 3.343.7l-.59 1.924c-.83-.45-1.768-.679-2.817-.679-.832 0-1.479.204-1.943.612-.392.365-.59.81-.59 1.334 0 .582.222 1.062.676 1.44.392.35 1.105.728 2.141 1.138 1.266.51 2.198 1.106 2.796 1.79.596.684.896 1.538.896 2.557zM104.727 25.137h-2.6v5.154c0 1.312.459 1.967 1.38 1.967.418 0 .77-.035 1.046-.107l.064 1.79c-.461.176-1.076.262-1.832.262-.931 0-1.661-.284-2.187-.85-.523-.57-.786-1.524-.786-2.863v-5.353H98.26v-1.771h1.55v-1.943l2.316-.7v2.643h2.6M114.014 28.665c0-.98-.212-1.816-.636-2.52-.491-.847-1.199-1.271-2.117-1.271-.947 0-1.669.424-2.163 1.272-.424.703-.63 1.556-.63 2.565 0 .98.206 1.816.63 2.517.51.848 1.224 1.272 2.144 1.272.899 0 1.607-.43 2.117-1.294.438-.713.655-1.561.655-2.54zm2.447-.075c0 1.631-.464 2.97-1.398 4.02-.977 1.078-2.273 1.615-3.888 1.615-1.562 0-2.801-.518-3.727-1.551-.923-1.033-1.385-2.337-1.385-3.91 0-1.647.475-2.994 1.431-4.04.952-1.052 2.237-1.576 3.853-1.576 1.559 0 2.815.518 3.759 1.551.904 1.01 1.355 2.303 1.355 3.891zM124.13 25.443a4.115 4.115 0 00-.744-.065c-.829 0-1.473.314-1.923.94-.392.555-.588 1.252-.588 2.095v5.573h-2.359l.019-7.274c0-1.226-.029-2.34-.086-3.346h2.056l.085 2.034h.062c.25-.698.644-1.261 1.181-1.683.526-.378 1.095-.569 1.706-.569.218 0 .416.017.591.043M132.429 27.562c.016-.697-.137-1.304-.456-1.814-.408-.654-1.039-.984-1.881-.984-.77 0-1.398.322-1.878.963-.392.51-.628 1.122-.695 1.835h4.91zm2.248.612c0 .424-.026.778-.083 1.07h-7.075c.024 1.05.367 1.852 1.025 2.405.595.496 1.368.74 2.315.74 1.047 0 2.002-.166 2.863-.501l.371 1.64c-1.007.434-2.193.657-3.564.657-1.645 0-2.938-.486-3.877-1.457-.937-.966-1.409-2.268-1.409-3.9 0-1.601.435-2.935 1.312-3.997.915-1.138 2.155-1.704 3.711-1.704 1.53 0 2.692.566 3.478 1.704.625.901.933 2.018.933 3.343z"})]}),S3=({edit:t,data:e,order:n})=>{const i=nt(Mt=>Mt.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(!1),[c,a]=d.useState(""),[h,f]=d.useState("32"),[p,m]=d.useState("left"),[_,g]=d.useState(""),[S,v]=d.useState("16"),[y,w]=d.useState("left"),[T,I]=d.useState(""),[x,E]=d.useState("10"),[k,P]=d.useState("left"),[j,H]=d.useState(""),[X,K]=d.useState(""),[ne,te]=d.useState(""),[me,J]=d.useState("20"),[O,F]=d.useState("left"),[B,G]=d.useState(""),[Q,ge]=d.useState(""),[z,ue]=d.useState("12"),[re,M]=d.useState("left"),[V,le]=d.useState(""),[fe,ce]=d.useState("20"),[Te,ye]=d.useState("left"),[Re,we]=d.useState(""),[Le,je]=d.useState("10"),[Ne,Z]=d.useState("left"),[qe,ze]=d.useState(""),[Ve,We]=d.useState(""),[Me,Be]=d.useState(""),[He,De]=d.useState(""),[Ye,Oe]=d.useState(!1),[it,st]=d.useState(!1),[$,Qe]=d.useState(!1),[vt,yt]=d.useState(!1),[ut,qt]=d.useState(""),[mn,Xt]=d.useState(""),[an,Jt]=d.useState("");return d.useEffect(()=>{var Mt,C,R,L,D,se,Ce,Se,_e,pe,be,Xe,Ie,Fe,Je,St,et,zt,ee;qt((e==null?void 0:e.image1)||""),Xt((e==null?void 0:e.image2)||""),Jt((e==null?void 0:e.image3)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.qrhidden),a(e==null?void 0:e.title),f(e==null?void 0:e.titleSize),m(e==null?void 0:e.titlePosition),g(e==null?void 0:e.description),v(e==null?void 0:e.descriptionSize),w(e==null?void 0:e.descriptionPosition),I(e==null?void 0:e.topText),E(e==null?void 0:e.topTextSize),P(e==null?void 0:e.topTextPosition),H((Mt=e==null?void 0:e.appBox)==null?void 0:Mt.appStoreLink),K((C=e==null?void 0:e.appBox)==null?void 0:C.googlePlayLink),te((R=e==null?void 0:e.appBox)==null?void 0:R.title),J((L=e==null?void 0:e.appBox)==null?void 0:L.appBoxTitleSize),F((D=e==null?void 0:e.appBox)==null?void 0:D.appBoxTitlePosition),G((Ce=(se=e==null?void 0:e.telegramBox)==null?void 0:se.button)==null?void 0:Ce.link),ge((_e=(Se=e==null?void 0:e.telegramBox)==null?void 0:Se.button)==null?void 0:_e.text),ue((be=(pe=e==null?void 0:e.telegramBox)==null?void 0:pe.button)==null?void 0:be.size),M((Ie=(Xe=e==null?void 0:e.telegramBox)==null?void 0:Xe.button)==null?void 0:Ie.position),le((Fe=e==null?void 0:e.telegramBox)==null?void 0:Fe.title),ce((Je=e==null?void 0:e.telegramBox)==null?void 0:Je.telegramBoxTitleSize),ye((St=e==null?void 0:e.telegramBox)==null?void 0:St.telegramBoxTitlePosition),we((et=e==null?void 0:e.telegramBox)==null?void 0:et.topTitle),je((zt=e==null?void 0:e.telegramBox)==null?void 0:zt.telegramBoxTopTitleSize),Z((ee=e==null?void 0:e.telegramBox)==null?void 0:ee.telegramBoxTopTitlePosition),ze(e==null?void 0:e.links[0].link),We(e==null?void 0:e.links[1].link),Be(e==null?void 0:e.links[2].link),De(e==null?void 0:e.links[3].link),Oe(e==null?void 0:e.links[0].hidden),st(e==null?void 0:e.links[1].hidden),Qe(e==null?void 0:e.links[2].hidden),yt(e==null?void 0:e.links[3].hidden)},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:ls.Section,style:{order:n},children:[t&&u.jsx("div",{className:ls.EditMode,onClick:()=>i("Section10")}),u.jsxs("div",{className:ls.Box,children:[u.jsx("img",{src:ut,alt:""}),u.jsxs("div",{className:ls.miniBox,children:[u.jsx("p",{className:ls.founder,style:{fontSize:`${x}px`,textAlign:k},children:T}),u.jsx("h2",{style:{fontSize:`${h}px`,textAlign:p},children:c}),u.jsx("p",{className:ls.description,style:{fontSize:`${S}px`,textAlign:y},children:_}),u.jsxs("div",{className:ls.Buttons,children:[!Ye&&u.jsx("a",{href:qe,children:u.jsxs("button",{children:[u.jsx(NG,{}),"Facebook"]})}),!it&&u.jsx("a",{href:Ve,children:u.jsxs("button",{children:[u.jsx(l2,{}),"Telegram"]})}),!$&&u.jsx("a",{href:Me,children:u.jsxs("button",{children:[u.jsx(DG,{}),"LinkedIn"]})}),!vt&&u.jsx("a",{href:He,children:u.jsxs("button",{children:[u.jsx(yH,{}),"Вконтакте"]})})]})]})]}),!o&&u.jsxs("div",{className:ls.JoinBox,children:[u.jsxs("div",{className:ls.Left,children:[u.jsxs("div",{className:ls.LeftBox,children:[u.jsx("h2",{style:{fontSize:`${me}px`,textAlign:O},children:ne}),u.jsxs("div",{children:[u.jsx("a",{href:j,children:u.jsx(jG,{})}),u.jsx("a",{href:X,children:u.jsx(LG,{})})]})]}),u.jsx("img",{src:mn,alt:""})]}),u.jsxs("div",{className:ls.Right,children:[u.jsxs("div",{children:[u.jsx("p",{style:{fontSize:`${Le}px`,textAlign:Ne},children:Re}),u.jsx("h2",{style:{fontSize:`${fe}px`,textAlign:Te},children:V}),u.jsx("a",{href:B,children:u.jsxs("button",{style:{fontSize:`${z}px`,textAlign:re},children:[u.jsx(l2,{}),Q]})})]}),u.jsx("img",{src:an,alt:""})]})]})]})})},OG="_Section_1fglw_1",MG="_EditMode_1fglw_27",zG="_Box_1fglw_59",Y_={Section:OG,EditMode:MG,Box:zG},w3=({edit:t,data:e,order:n})=>{const i=nt(y=>y.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("32"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState("14");return d.useEffect(()=>{r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.buttonText),g(e==null?void 0:e.buttonTextLink),v(e==null?void 0:e.buttonTextSize)},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:Y_.Section,style:{order:n},children:[t&&u.jsx("div",{className:Y_.EditMode,onClick:()=>i("Section11")}),u.jsxs("div",{className:Y_.Box,children:[u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("a",{href:_,children:u.jsx("button",{style:{fontSize:`${S}px`},children:p})})]})]})})},VG="_Review_x0v7g_1",FG="_ReviewUserBox_x0v7g_43",c2={Review:VG,ReviewUserBox:FG},yf=({id:t,image:e,name:n,text:i,idSize:s,nameSize:r,textSize:o,className:l,titlePosition:c})=>u.jsxs("div",{className:`${c2.Review} ${l}`,children:[u.jsx("p",{style:{fontSize:o+"px",textAlign:c},children:i}),u.jsxs("div",{className:c2.ReviewUserBox,children:[u.jsx("img",{src:e,alt:""}),u.jsxs("div",{children:[u.jsx("h3",{style:{fontSize:r+"px"},children:n}),u.jsx("p",{style:{fontSize:s+"px",whiteSpace:"pre-wrap"},children:t})]})]})]}),BG="_Section_13nx3_1",$G="_EditMode_13nx3_25",UG="_Box_13nx3_57",qG="_ReviewList_13nx3_69",WG="_MainReviewsBox_13nx3_85",HG="_MainReview_13nx3_85",GG="_ReviewUserBox_13nx3_137",KG="_SubReviews_13nx3_171",QG="_firstReview_13nx3_201",YG="_lastReview_13nx3_209",XG="_review_13nx3_267",Ui={Section:BG,EditMode:$G,Box:UG,ReviewList:qG,MainReviewsBox:WG,MainReview:HG,ReviewUserBox:GG,SubReviews:KG,firstReview:QG,lastReview:YG,review:XG},mu="https://images.unsplash.com/photo-1633332755192-727a05c4013d?q=80&w=2080&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",x3=({edit:t,data:e,order:n})=>{const i=nt(Je=>Je.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState("What people say about Unit Holder"),[c,a]=d.useState("30"),[h,f]=d.useState("center"),[p,m]=d.useState("Lorem, ipsum dolor sit amet consectetur adipisicing elit."),[_,g]=d.useState("14"),[S,v]=d.useState("center"),[y,w]=d.useState("Jacob Andreou"),[T,I]=d.useState("14"),[x,E]=d.useState("@Snap"),[k,P]=d.useState("14"),[j,H]=d.useState("Lorem, ipsum dolor sit amet consectetur adipisicing elit."),[X,K]=d.useState("20"),[ne,te]=d.useState("center"),[me,J]=d.useState("Jacob Andreou"),[O,F]=d.useState("14"),[B,G]=d.useState("@Snap"),[Q,ge]=d.useState("14"),[z,ue]=d.useState("Lorem, ipsum dolor sit amet consectetur adipisicing elit."),[re,M]=d.useState("14"),[V,le]=d.useState("center"),[fe,ce]=d.useState("Jacob Andreou"),[Te,ye]=d.useState("14"),[Re,we]=d.useState("@Snap"),[Le,je]=d.useState("14"),[Ne,Z]=d.useState("Lorem, ipsum dolor sit amet consectetur adipisicing elit."),[qe,ze]=d.useState("14"),[Ve,We]=d.useState("center"),[Me,Be]=d.useState("Jacob Andreou"),[He,De]=d.useState("14"),[Ye,Oe]=d.useState("@Snap"),[it,st]=d.useState("14"),[$,Qe]=d.useState("Lorem, ipsum dolor sit amet consectetur adipisicing elit."),[vt,yt]=d.useState("14"),[ut,qt]=d.useState("center"),[mn,Xt]=d.useState("Jacob Andreou"),[an,Jt]=d.useState("14"),[Mt,C]=d.useState("@Snap"),[R,L]=d.useState("14"),[D,se]=d.useState(""),[Ce,Se]=d.useState(""),[_e,pe]=d.useState(""),[be,Xe]=d.useState(""),[Ie,Fe]=d.useState("");return d.useEffect(()=>{e&&(se((e==null?void 0:e.image1)||""),Se((e==null?void 0:e.image2)||""),pe((e==null?void 0:e.image3)||""),Xe((e==null?void 0:e.image4)||""),Fe((e==null?void 0:e.image5)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.reviews[0].title),g(e==null?void 0:e.reviews[0].titleSize),v(e==null?void 0:e.reviews[0].titlePosition),w(e==null?void 0:e.reviews[0].username),I(e==null?void 0:e.reviews[0].usernameSize),E(e==null?void 0:e.reviews[0].tag),P(e==null?void 0:e.reviews[0].tagSize),H(e==null?void 0:e.reviews[1].title),K(e==null?void 0:e.reviews[1].titleSize),te(e==null?void 0:e.reviews[1].titlePosition),J(e==null?void 0:e.reviews[1].username),F(e==null?void 0:e.reviews[1].usernameSize),G(e==null?void 0:e.reviews[1].tag),ge(e==null?void 0:e.reviews[1].tagSize),ue(e==null?void 0:e.reviews[2].title),M(e==null?void 0:e.reviews[2].titleSize),le(e==null?void 0:e.reviews[2].titlePosition),ce(e==null?void 0:e.reviews[2].username),ye(e==null?void 0:e.reviews[2].usernameSize),we(e==null?void 0:e.reviews[2].tag),je(e==null?void 0:e.reviews[2].tagSize),Z(e==null?void 0:e.reviews[3].title),ze(e==null?void 0:e.reviews[3].titleSize),Be(e==null?void 0:e.reviews[3].username),We(e==null?void 0:e.reviews[3].titlePosition),De(e==null?void 0:e.reviews[3].usernameSize),Oe(e==null?void 0:e.reviews[3].tag),st(e==null?void 0:e.reviews[3].tagSize),Qe(e==null?void 0:e.reviews[4].title),yt(e==null?void 0:e.reviews[4].titleSize),qt(e==null?void 0:e.reviews[4].titlePosition),Xt(e==null?void 0:e.reviews[4].username),Jt(e==null?void 0:e.reviews[4].usernameSize),C(e==null?void 0:e.reviews[4].tag),L(e==null?void 0:e.reviews[4].tagSize))},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:Ui.Section,style:{order:n},children:[t&&u.jsx("div",{className:Ui.EditMode,onClick:()=>i("Section12")}),u.jsxs("div",{className:Ui.Box,children:[u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsxs("div",{className:Ui.ReviewList,children:[u.jsx(yf,{id:x,idSize:k,image:D||mu,name:y,nameSize:T,text:p,textSize:_,titlePosition:S,className:Ui.firstReview}),u.jsxs("div",{className:Ui.MainReviewsBox,children:[u.jsxs("div",{className:Ui.MainReview,children:[u.jsx("p",{style:{fontSize:`${X}px`,textAlign:ne},children:j}),u.jsxs("div",{className:Ui.ReviewUserBox,children:[u.jsx("img",{src:Ce||mu,alt:""}),u.jsxs("div",{children:[u.jsx("h3",{style:{fontSize:`${O}px`},children:me}),u.jsx("p",{style:{fontSize:`${Q}px`},children:B})]})]})]}),u.jsxs("div",{className:Ui.SubReviews,children:[u.jsx(yf,{id:Re,idSize:Le,image:_e||mu,name:fe,nameSize:Te,text:z,textSize:re,className:Ui.review,titlePosition:V}),u.jsx(yf,{id:Ye,idSize:it,image:be||mu,name:Me,nameSize:He,text:Ne,textSize:qe,titlePosition:Ve,className:Ui.review})]})]}),u.jsx(yf,{id:Mt,titlePosition:ut,idSize:R,image:Ie||mu,name:mn,nameSize:an,text:$,textSize:vt,className:Ui.lastReview})]})]})]})})},JG="_Section_4tnbl_1",ZG="_EditMode_4tnbl_25",eK="_Box_4tnbl_57",X_={Section:JG,EditMode:ZG,Box:eK},T3=({edit:t,data:e,order:n})=>{const i=nt(zd=>zd.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState(""),[h,f]=d.useState(""),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState(""),[y,w]=d.useState(""),[T,I]=d.useState(""),[x,E]=d.useState(""),[k,P]=d.useState(""),[j,H]=d.useState(""),[X,K]=d.useState(""),[ne,te]=d.useState(""),[me,J]=d.useState(""),[O,F]=d.useState(""),[B,G]=d.useState(""),[Q,ge]=d.useState(""),[z,ue]=d.useState(""),[re,M]=d.useState(""),[V,le]=d.useState(""),[fe,ce]=d.useState(""),[Te,ye]=d.useState(""),[Re,we]=d.useState(""),[Le,je]=d.useState(""),[Ne,Z]=d.useState(""),[qe,ze]=d.useState(""),[Ve,We]=d.useState(""),[Me,Be]=d.useState(""),[He,De]=d.useState(""),[Ye,Oe]=d.useState(""),[it,st]=d.useState(""),[$,Qe]=d.useState(""),[vt,yt]=d.useState(""),[ut,qt]=d.useState(""),[mn,Xt]=d.useState(""),[an,Jt]=d.useState(""),[Mt,C]=d.useState(""),[R,L]=d.useState(""),[D,se]=d.useState(""),[Ce,Se]=d.useState(""),[_e,pe]=d.useState(""),[be,Xe]=d.useState(""),[Ie,Fe]=d.useState(""),[Je,St]=d.useState(""),[et,zt]=d.useState(""),[ee,Zt]=d.useState(""),[wn,Bn]=d.useState(""),[$n,kr]=d.useState(""),[Rr,rs]=d.useState(""),[Ws,_t]=d.useState(""),[xt,ci]=d.useState(""),[Hs,Ql]=d.useState(""),[Nd,Dd]=d.useState(""),[Ld,jd]=d.useState(""),[Od,Md]=d.useState("");return d.useEffect(()=>{e&&(r(t?!1:e==null?void 0:e.hidden),l(e.links[0].title),a(e.links[0].link[0].name),f(e.links[0].link[0].url),m(e.links[0].link[1].name),g(e.links[0].link[1].url),v(e.links[0].link[2].name),w(e.links[0].link[2].url),I(e.links[0].link[3].name),E(e.links[0].link[3].url),P(e.links[0].link[4].name),H(e.links[0].link[4].url),K(e.links[1].title),te(e.links[1].link[0].name),J(e.links[1].link[0].url),F(e.links[1].link[1].name),G(e.links[1].link[1].url),ge(e.links[1].link[2].name),ue(e.links[1].link[2].url),M(e.links[1].link[3].name),le(e.links[1].link[3].url),ce(e.links[1].link[4].name),ye(e.links[1].link[4].url),we(e.links[2].title),je(e.links[2].link[0].name),Z(e.links[2].link[0].url),ze(e.links[2].link[1].name),We(e.links[2].link[1].url),Be(e.links[2].link[2].name),De(e.links[2].link[2].url),Oe(e.links[2].link[3].name),st(e.links[2].link[3].url),Qe(e.links[2].link[4].name),yt(e.links[2].link[4].url),qt(e.links[3].title),Xt(e.links[3].link[0].name),Jt(e.links[3].link[0].url),C(e.links[3].link[1].name),L(e.links[3].link[1].url),se(e.links[3].link[2].name),Se(e.links[3].link[2].url),pe(e.links[3].link[3].name),Xe(e.links[3].link[3].url),Fe(e.links[3].link[4].name),St(e.links[3].link[4].url),zt(e.links[4].title),Zt(e.links[4].link[0].name),Bn(e.links[4].link[0].url),kr(e.links[4].link[1].name),rs(e.links[4].link[1].url),_t(e.links[4].link[2].name),ci(e.links[4].link[2].url),Ql(e.links[4].link[3].name),Dd(e.links[4].link[3].url),jd(e.links[4].link[4].name),Md(e.links[4].link[4].url))},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:X_.Section,style:{order:n},children:[t&&u.jsx("div",{className:X_.EditMode,onClick:()=>i("Section13")}),u.jsxs("div",{className:X_.Box,children:[u.jsxs("div",{children:[u.jsx("p",{children:o}),u.jsxs("ul",{children:[u.jsx("a",{href:h,children:u.jsx("li",{children:c})}),u.jsx("a",{href:_,children:u.jsx("li",{children:p})}),u.jsx("a",{href:y,children:u.jsx("li",{children:S})}),u.jsx("a",{href:x,children:u.jsx("li",{children:T})}),u.jsx("a",{href:j,children:u.jsx("li",{children:k})})]})]}),u.jsxs("div",{children:[u.jsx("p",{children:X}),u.jsxs("ul",{children:[u.jsx("a",{href:me,children:u.jsx("li",{children:ne})}),u.jsx("a",{href:B,children:u.jsx("li",{children:O})}),u.jsx("a",{href:z,children:u.jsx("li",{children:Q})}),u.jsx("a",{href:V,children:u.jsx("li",{children:re})}),u.jsx("a",{href:Te,children:u.jsx("li",{children:fe})})]})]}),u.jsxs("div",{children:[u.jsx("p",{children:Re}),u.jsxs("ul",{children:[u.jsx("a",{href:Ne,children:u.jsx("li",{children:Le})}),u.jsx("a",{href:Ve,children:u.jsx("li",{children:qe})}),u.jsx("a",{href:He,children:u.jsx("li",{children:Me})}),u.jsx("a",{href:it,children:u.jsx("li",{children:Ye})}),u.jsx("a",{href:vt,children:u.jsx("li",{children:$})})]})]}),u.jsxs("div",{children:[u.jsx("p",{children:ut}),u.jsxs("ul",{children:[u.jsx("a",{href:an,children:u.jsx("li",{children:mn})}),u.jsx("a",{href:R,children:u.jsx("li",{children:Mt})}),u.jsx("a",{href:Ce,children:u.jsx("li",{children:D})}),u.jsx("a",{href:be,children:u.jsx("li",{children:_e})}),u.jsx("a",{href:Je,children:u.jsx("li",{children:Ie})})]})]}),u.jsxs("div",{children:[u.jsx("p",{children:et}),u.jsxs("ul",{children:[u.jsx("a",{href:wn,children:u.jsx("li",{children:ee})}),u.jsx("a",{href:Rr,children:u.jsx("li",{children:$n})}),u.jsx("a",{href:xt,children:u.jsx("li",{children:Ws})}),u.jsx("a",{href:Nd,children:u.jsx("li",{children:Hs})}),u.jsx("a",{href:Od,children:u.jsx("li",{children:Ld})})]})]})]})]})})},tK="_Item_up350_1",nK={Item:tK},iK=({item:t})=>u.jsxs("div",{className:nK.Item,children:[u.jsx("img",{src:t.img,alt:""}),u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${t.sizeTitle}px`,textAlign:t.positionTitle},children:t.title}),u.jsx("p",{style:{fontSize:`${t.sizeDescription}px`,textAlign:t.positionDescription},children:t.description})]})]}),sK="_Section_157fq_1",rK="_EditMode_157fq_19",oK="_Box_157fq_51",J_={Section:sK,EditMode:rK,Box:oK},I3=({edit:t,data:e,order:n})=>{const i=nt(ye=>ye.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("24"),[h,f]=d.useState("left"),[p,m]=d.useState(""),[_,g]=d.useState("16"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState("24"),[x,E]=d.useState("left"),[k,P]=d.useState(""),[j,H]=d.useState("16"),[X,K]=d.useState("left"),[ne,te]=d.useState(""),[me,J]=d.useState("24"),[O,F]=d.useState("left"),[B,G]=d.useState(""),[Q,ge]=d.useState("16"),[z,ue]=d.useState("left"),[re,M]=d.useState(""),[V,le]=d.useState(""),[fe,ce]=d.useState("");d.useEffect(()=>{M((e==null?void 0:e.image1)||""),le((e==null?void 0:e.image2)||""),ce((e==null?void 0:e.image3)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.items[0].title),a(e==null?void 0:e.items[0].sizeTitle),f(e==null?void 0:e.items[0].positionTitle),m(e==null?void 0:e.items[0].description),g(e==null?void 0:e.items[0].sizeDescription),v(e==null?void 0:e.items[0].positionDescription),w(e==null?void 0:e.items[1].title),I(e==null?void 0:e.items[1].sizeTitle),E(e==null?void 0:e.items[1].positionTitle),P(e==null?void 0:e.items[1].description),H(e==null?void 0:e.items[1].sizeDescription),K(e==null?void 0:e.items[1].positionDescription),te(e==null?void 0:e.items[2].title),J(e==null?void 0:e.items[2].sizeTitle),F(e==null?void 0:e.items[2].positionTitle),G(e==null?void 0:e.items[2].description),ge(e==null?void 0:e.items[2].sizeDescription),ue(e==null?void 0:e.items[2].positionDescription)},[e]);const Te=[{id:1,img:re,title:o,description:p,positionTitle:h,sizeTitle:c,positionDescription:S,sizeDescription:_},{id:2,img:V,title:y,description:k,positionTitle:x,sizeTitle:T,positionDescription:X,sizeDescription:j},{id:3,img:fe,title:ne,description:B,positionTitle:O,sizeTitle:me,positionDescription:z,sizeDescription:Q}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:J_.Section,style:{order:n},children:[t&&u.jsx("div",{className:J_.EditMode,onClick:()=>i("Section2")}),u.jsx("div",{className:J_.Box,children:Te.map(ye=>u.jsx(iK,{item:ye},ye.id))})]})})},lK="_Section_2uy4z_1",cK="_EditMode_2uy4z_23",aK="_Box_2uy4z_73",uK="_phone_2uy4z_115",Sf={Section:lK,EditMode:cK,Box:aK,phone:uK},hK="_Item_1yvf0_1",dK="_miniBox_1yvf0_27",fK="_Icon_1yvf0_47",pK="_Box_1yvf0_59",mK="_Info_1yvf0_71",gu={Item:hK,miniBox:dK,Icon:fK,Box:pK,Info:mK},gK=({item:t,iconStyle:e})=>u.jsxs("div",{className:gu.Item,children:[u.jsx("img",{src:t.img,alt:""}),u.jsxs("div",{className:gu.Box,children:[u.jsx("div",{className:`${gu.miniBox} ${e}`,children:u.jsx(t.icon,{className:gu.Icon})}),u.jsxs("div",{className:gu.Info,children:[u.jsx("h2",{style:{fontSize:`${t.sizeTitle}px`,textAlign:t.positionTitle},children:t.title}),u.jsx("p",{style:{fontSize:`${t.sizeDescription}px`,textAlign:t.positionDescription},children:t.description})]})]})]}),E3=({edit:t,data:e,order:n})=>{const i=nt(Qe=>Qe.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("48"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState("24"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState("16"),[x,E]=d.useState("left"),[k,P]=d.useState(""),[j,H]=d.useState("24"),[X,K]=d.useState("left"),[ne,te]=d.useState(""),[me,J]=d.useState("16"),[O,F]=d.useState("left"),[B,G]=d.useState(""),[Q,ge]=d.useState("24"),[z,ue]=d.useState("left"),[re,M]=d.useState(""),[V,le]=d.useState("16"),[fe,ce]=d.useState("left"),[Te,ye]=d.useState(""),[Re,we]=d.useState("24"),[Le,je]=d.useState("left"),[Ne,Z]=d.useState(""),[qe,ze]=d.useState("16"),[Ve,We]=d.useState("left"),[Me,Be]=d.useState(""),[He,De]=d.useState(""),[Ye,Oe]=d.useState(""),[it,st]=d.useState("");d.useEffect(()=>{Be((e==null?void 0:e.image1)||""),De((e==null?void 0:e.image2)||""),Oe((e==null?void 0:e.image3)||""),st((e==null?void 0:e.image4)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.items[0].title),g(e==null?void 0:e.items[0].sizeTitle),v(e==null?void 0:e.items[0].positionTitle),w(e==null?void 0:e.items[0].description),I(e==null?void 0:e.items[0].sizeDescription),E(e==null?void 0:e.items[0].positionDescription),P(e==null?void 0:e.items[1].title),H(e==null?void 0:e.items[1].sizeTitle),K(e==null?void 0:e.items[1].positionTitle),te(e==null?void 0:e.items[1].description),J(e==null?void 0:e.items[1].sizeDescription),F(e==null?void 0:e.items[1].positionDescription),G(e==null?void 0:e.items[2].title),ge(e==null?void 0:e.items[2].sizeTitle),ue(e==null?void 0:e.items[2].positionTitle),M(e==null?void 0:e.items[2].description),le(e==null?void 0:e.items[2].sizeDescription),ce(e==null?void 0:e.items[2].positionDescription),ye(e==null?void 0:e.items[3].title),we(e==null?void 0:e.items[3].sizeTitle),je(e==null?void 0:e.items[3].positionTitle),Z(e==null?void 0:e.items[3].description),ze(e==null?void 0:e.items[3].sizeDescription),We(e==null?void 0:e.items[3].positionDescription)},[e]);const $=[{id:1,img:Me,title:p,description:y,positionTitle:S,sizeTitle:_,positionDescription:x,sizeDescription:T,icon:$w},{id:2,img:He,title:k,description:ne,positionTitle:X,sizeTitle:j,positionDescription:O,sizeDescription:me,icon:Uw},{id:3,img:Ye,title:B,description:re,positionTitle:z,sizeTitle:Q,positionDescription:fe,sizeDescription:V,icon:Ta},{id:4,img:it,title:Te,description:Ne,positionTitle:Le,sizeTitle:Re,positionDescription:Ve,sizeDescription:qe,icon:Ta}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:Sf.Section,style:{order:n},children:[t&&u.jsx("div",{className:Sf.EditMode,onClick:()=>i("Section3")}),u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("div",{className:Sf.Box,children:$.map(Qe=>u.jsx(gK,{item:Qe,iconStyle:Sf.phone},Qe.id))})]})})},_K="_Section_1tujh_1",vK="_EditMode_1tujh_23",yK="_Grid_1tujh_69",SK="_miniBox_1tujh_91",wK="_Icon_1tujh_111",xK="_Box_1tujh_123",TK="_Info_1tujh_135",Mo={Section:_K,EditMode:vK,Grid:yK,miniBox:SK,Icon:wK,Box:xK,Info:TK},IK="_Video_vjm31_1",EK="_Icon_vjm31_63",wf={Video:IK,Icon:EK},CK=({src:t})=>{const e=d.useRef(null),[n,i]=d.useState(!1);function s(){var l;i(!0),(l=e==null?void 0:e.current)==null||l.play()}function r(){var l;i(!1),(l=e==null?void 0:e.current)==null||l.pause()}function o(){n?r():s()}return u.jsxs("div",{className:wf.Video,onClick:()=>o(),children:[u.jsx("video",{ref:e,src:t,className:wf.Video}),n?u.jsx("button",{onClick:()=>r(),children:u.jsx(pH,{className:wf.Icon})}):u.jsx("button",{onClick:()=>s(),children:u.jsx(fH,{className:wf.Icon})})]})},C3=({edit:t,data:e,order:n})=>{const i=nt(De=>De.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("48"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState("24"),[y,w]=d.useState("left"),[T,I]=d.useState(""),[x,E]=d.useState("16"),[k,P]=d.useState("left"),[j,H]=d.useState(""),[X,K]=d.useState("24"),[ne,te]=d.useState("left"),[me,J]=d.useState(""),[O,F]=d.useState("16"),[B,G]=d.useState("left"),[Q,ge]=d.useState(""),[z,ue]=d.useState("24"),[re,M]=d.useState("left"),[V,le]=d.useState(""),[fe,ce]=d.useState("16"),[Te,ye]=d.useState("left"),[Re,we]=d.useState(""),[Le,je]=d.useState("24"),[Ne,Z]=d.useState("left"),[qe,ze]=d.useState(""),[Ve,We]=d.useState("16"),[Me,Be]=d.useState("left");d.useEffect(()=>{r(t?!1:e==null?void 0:e.hidden),m((e==null?void 0:e.video)||""),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),g(e==null?void 0:e.items[0].title),v(e==null?void 0:e.items[0].sizeTitle),w(e==null?void 0:e.items[0].positionTitle),I(e==null?void 0:e.items[0].description),E(e==null?void 0:e.items[0].sizeDescription),P(e==null?void 0:e.items[0].positionDescription),H(e==null?void 0:e.items[1].title),K(e==null?void 0:e.items[1].sizeTitle),te(e==null?void 0:e.items[1].positionTitle),J(e==null?void 0:e.items[1].description),F(e==null?void 0:e.items[1].sizeDescription),G(e==null?void 0:e.items[1].positionDescription),ge(e==null?void 0:e.items[2].title),ue(e==null?void 0:e.items[2].sizeTitle),M(e==null?void 0:e.items[2].positionTitle),le(e==null?void 0:e.items[2].description),ce(e==null?void 0:e.items[2].sizeDescription),ye(e==null?void 0:e.items[2].positionDescription),we(e==null?void 0:e.items[3].title),je(e==null?void 0:e.items[3].sizeTitle),Z(e==null?void 0:e.items[3].positionTitle),ze(e==null?void 0:e.items[3].description),We(e==null?void 0:e.items[3].sizeDescription),Be(e==null?void 0:e.items[3].positionDescription)},[e]);const He=[{id:1,title:_,description:T,positionTitle:y,sizeTitle:S,positionDescription:k,sizeDescription:x,icon:$w},{id:2,title:j,description:me,positionTitle:ne,sizeTitle:X,positionDescription:B,sizeDescription:O,icon:Uw},{id:3,title:Q,description:V,positionTitle:re,sizeTitle:z,positionDescription:Te,sizeDescription:fe,icon:Ta},{id:4,title:Re,description:qe,positionTitle:Ne,sizeTitle:Le,positionDescription:Me,sizeDescription:Ve,icon:Ta}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:Mo.Section,style:{order:n},children:[t&&u.jsx("div",{className:Mo.EditMode,onClick:()=>i("Section4")}),u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),e!=null&&e.isImage?u.jsx("img",{src:p,alt:""}):u.jsx(CK,{src:p}),u.jsx("div",{className:Mo.Grid,children:He.map(De=>u.jsxs("div",{className:Mo.Box,children:[u.jsx("div",{className:Mo.miniBox,children:u.jsx(De.icon,{className:Mo.Icon})}),u.jsxs("div",{className:Mo.Info,children:[u.jsx("h2",{style:{fontSize:`${De.sizeTitle}px`,textAlign:De.positionTitle},children:De.title}),u.jsx("p",{style:{fontSize:`${De.sizeDescription}px`,textAlign:De.positionDescription},children:De.description})]})]},De.id))})]})})},kK="_Section_vr59g_1",RK="_EditMode_vr59g_23",PK="_Box_vr59g_53",bK="_miniBox_vr59g_81",AK="_button_vr59g_237",sc={Section:kK,EditMode:RK,Box:PK,miniBox:bK,button:AK},NK="_Input_xjlfp_1",DK="_Label_xjlfp_33",LK="_InputBox_xjlfp_47",Z_={Input:NK,Label:DK,InputBox:LK},A=({label:t,placeholder:e,type:n,onChange:i,value:s,style:r,labelStyles:o})=>u.jsxs("div",{className:Z_.InputBox,children:[u.jsx("label",{className:`{${Z_.Label} ${o}`,style:r,children:t}),u.jsx("input",{className:Z_.Input,type:n,value:s,onChange:i,placeholder:e})]}),k3=({edit:t,data:e,order:n})=>{const i=nt(B=>B.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("38"),[h,f]=d.useState("left"),[p,m]=d.useState(""),[_,g]=d.useState("16"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState(""),[x,E]=d.useState("12"),[k,P]=d.useState("center"),[j,H]=d.useState(""),[X,K]=d.useState("14"),[ne,te]=d.useState("left"),[me,J]=d.useState(""),[O,F]=d.useState("");return d.useEffect(()=>{var B,G,Q,ge,z,ue,re,M;F((e==null?void 0:e.image)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.description),g(e==null?void 0:e.descriptionSize),v(e==null?void 0:e.descriptionPosition),w((B=e==null?void 0:e.button)==null?void 0:B.link),I((G=e==null?void 0:e.button)==null?void 0:G.text),E((Q=e==null?void 0:e.button)==null?void 0:Q.buttonTextSize),P((ge=e==null?void 0:e.button)==null?void 0:ge.buttonTextPosition),H((z=e==null?void 0:e.input)==null?void 0:z.label),K((ue=e==null?void 0:e.input)==null?void 0:ue.inputLabelSize),te((re=e==null?void 0:e.input)==null?void 0:re.inputLabelPosition),J((M=e==null?void 0:e.input)==null?void 0:M.placeholder)},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:sc.Section,style:{order:n},children:[t&&u.jsx("div",{className:sc.EditMode,onClick:()=>i("Section5")}),u.jsxs("div",{className:sc.Box,children:[u.jsxs("div",{className:sc.miniBox,children:[u.jsx("h2",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("p",{style:{fontSize:`${_}px`,textAlign:S},children:p}),u.jsxs("div",{children:[u.jsx(A,{style:{fontSize:`${X}px`,textAlign:ne},label:j,placeholder:me,type:"email",labelStyles:sc.label}),u.jsx("a",{href:y,className:sc.button,children:u.jsx(Ue,{style:{fontSize:`${x}px`,textAlign:k},children:T})})]})]}),u.jsx("img",{src:O,alt:""})]})]})})},jK="_Section_lq9sg_1",OK="_EditMode_lq9sg_29",MK="_Box_lq9sg_75",ev={Section:jK,EditMode:OK,Box:MK},zK="_Item_up350_1",VK={Item:zK},FK=({item:t})=>u.jsxs("div",{className:VK.Item,children:[u.jsx("img",{src:t.img,alt:""}),u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${t.sizeTitle}px`,textAlign:t.positionTitle},children:t.title}),u.jsx("p",{style:{fontSize:`${t.sizeDescription}px`,textAlign:t.positionDescription},children:t.description})]})]}),R3=({edit:t,data:e,order:n})=>{const i=nt(Z=>Z.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("48"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState("24"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState("16"),[x,E]=d.useState("left"),[k,P]=d.useState(""),[j,H]=d.useState("24"),[X,K]=d.useState("left"),[ne,te]=d.useState(""),[me,J]=d.useState("16"),[O,F]=d.useState("left"),[B,G]=d.useState(""),[Q,ge]=d.useState("24"),[z,ue]=d.useState("left"),[re,M]=d.useState(""),[V,le]=d.useState("16"),[fe,ce]=d.useState("left"),[Te,ye]=d.useState(""),[Re,we]=d.useState(""),[Le,je]=d.useState("");d.useEffect(()=>{ye(e.image1||""),we(e.image2||""),je(e.image3||""),r(t?!1:!!(e!=null&&e.hidden)),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.items[0].title),g(e==null?void 0:e.items[0].sizeTitle),v(e==null?void 0:e.items[0].positionTitle),w(e==null?void 0:e.items[0].description),I(e==null?void 0:e.items[0].sizeDescription),E(e==null?void 0:e.items[0].positionDescription),P(e==null?void 0:e.items[1].title),H(e==null?void 0:e.items[1].sizeTitle),K(e==null?void 0:e.items[1].positionTitle),te(e==null?void 0:e.items[1].description),J(e==null?void 0:e.items[1].sizeDescription),F(e==null?void 0:e.items[1].positionDescription),G(e==null?void 0:e.items[2].title),ge(e==null?void 0:e.items[2].sizeTitle),ue(e==null?void 0:e.items[2].positionTitle),M(e==null?void 0:e.items[2].description),le(e==null?void 0:e.items[2].sizeDescription),ce(e==null?void 0:e.items[2].positionDescription)},[e]);const Ne=[{id:1,img:Te,title:p,description:y,positionTitle:S,sizeTitle:_,positionDescription:x,sizeDescription:T},{id:2,img:Re,title:k,description:ne,positionTitle:X,sizeTitle:j,positionDescription:O,sizeDescription:me},{id:3,img:Le,title:B,description:re,positionTitle:z,sizeTitle:Q,positionDescription:fe,sizeDescription:V}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:ev.Section,style:{order:n},children:[t&&u.jsx("div",{className:ev.EditMode,onClick:()=>i("Section6")}),u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("div",{className:ev.Box,children:Ne.map(Z=>u.jsx(FK,{item:Z},Z.id))})]})})},BK="_Section_1inms_1",$K="_EditMode_1inms_23",UK="_Box_1inms_71",tv={Section:BK,EditMode:$K,Box:UK},qK="_Item_1yvf0_1",WK="_miniBox_1yvf0_27",HK="_Icon_1yvf0_47",GK="_Box_1yvf0_59",KK="_Info_1yvf0_71",_u={Item:qK,miniBox:WK,Icon:HK,Box:GK,Info:KK},QK=({item:t})=>u.jsxs("div",{className:_u.Item,children:[u.jsx("img",{src:t.img,alt:""}),u.jsxs("div",{className:_u.Box,children:[u.jsx("div",{className:_u.miniBox,children:u.jsx(t.icon,{className:_u.Icon})}),u.jsxs("div",{className:_u.Info,children:[u.jsx("h2",{style:{fontSize:`${t.sizeTitle}px`,textAlign:t.positionTitle},children:t.title}),u.jsx("p",{style:{fontSize:`${t.sizeDescription}px`,textAlign:t.positionDescription},children:t.description})]})]})]}),P3=({edit:t,data:e,order:n})=>{const i=nt(Qe=>Qe.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("48"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState("24"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState("16"),[x,E]=d.useState("left"),[k,P]=d.useState(""),[j,H]=d.useState("24"),[X,K]=d.useState("left"),[ne,te]=d.useState(""),[me,J]=d.useState("16"),[O,F]=d.useState("left"),[B,G]=d.useState(""),[Q,ge]=d.useState("24"),[z,ue]=d.useState("left"),[re,M]=d.useState(""),[V,le]=d.useState("16"),[fe,ce]=d.useState("left"),[Te,ye]=d.useState(""),[Re,we]=d.useState("24"),[Le,je]=d.useState("left"),[Ne,Z]=d.useState(""),[qe,ze]=d.useState("16"),[Ve,We]=d.useState("left"),[Me,Be]=d.useState(""),[He,De]=d.useState(""),[Ye,Oe]=d.useState(""),[it,st]=d.useState("");d.useEffect(()=>{Be(e.image1||""),De(e.image2||""),Oe(e.image3||""),st(e.image4||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.items[0].title),g(e==null?void 0:e.items[0].sizeTitle),v(e==null?void 0:e.items[0].positionTitle),w(e==null?void 0:e.items[0].description),I(e==null?void 0:e.items[0].sizeDescription),E(e==null?void 0:e.items[0].positionDescription),P(e==null?void 0:e.items[1].title),H(e==null?void 0:e.items[1].sizeTitle),K(e==null?void 0:e.items[1].positionTitle),te(e==null?void 0:e.items[1].description),J(e==null?void 0:e.items[1].sizeDescription),F(e==null?void 0:e.items[1].positionDescription),G(e==null?void 0:e.items[2].title),ge(e==null?void 0:e.items[2].sizeTitle),ue(e==null?void 0:e.items[2].positionTitle),M(e==null?void 0:e.items[2].description),le(e==null?void 0:e.items[2].sizeDescription),ce(e==null?void 0:e.items[2].positionDescription),ye(e==null?void 0:e.items[3].title),we(e==null?void 0:e.items[3].sizeTitle),je(e==null?void 0:e.items[3].positionTitle),Z(e==null?void 0:e.items[3].description),ze(e==null?void 0:e.items[3].sizeDescription),We(e==null?void 0:e.items[3].positionDescription)},[e]);const $=[{id:1,img:Me,title:p,description:y,positionTitle:S,sizeTitle:_,positionDescription:x,sizeDescription:T,icon:$w},{id:2,img:He,title:k,description:ne,positionTitle:X,sizeTitle:j,positionDescription:O,sizeDescription:me,icon:Uw},{id:3,img:Ye,title:B,description:re,positionTitle:z,sizeTitle:Q,positionDescription:fe,sizeDescription:V,icon:Ta},{id:4,img:it,title:Te,description:Ne,positionTitle:Le,sizeTitle:Re,positionDescription:Ve,sizeDescription:qe,icon:Ta}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:tv.Section,style:{order:n},children:[t&&u.jsx("div",{className:tv.EditMode,onClick:()=>i("Section7")}),u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("div",{className:tv.Box,children:$.map(Qe=>u.jsx(QK,{item:Qe},Qe.id))})]})})},YK="_Section_1c259_1",XK="_EditMode_1c259_23",JK="_Box_1c259_55",ZK="_miniBox_1c259_79",xf={Section:YK,EditMode:XK,Box:JK,miniBox:ZK},b3=({edit:t,data:e,order:n})=>{const i=nt(B=>B.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("38"),[h,f]=d.useState("left"),[p,m]=d.useState(""),[_,g]=d.useState("16"),[S,v]=d.useState("left"),[y,w]=d.useState(""),[T,I]=d.useState(""),[x,E]=d.useState("12"),[k,P]=d.useState("center"),[j,H]=d.useState(""),[X,K]=d.useState("14"),[ne,te]=d.useState("left"),[me,J]=d.useState(""),[O,F]=d.useState("");return d.useEffect(()=>{var B,G,Q,ge,z,ue,re,M;F(e.image||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.description),g(e==null?void 0:e.descriptionSize),v(e==null?void 0:e.descriptionPosition),w((B=e==null?void 0:e.button)==null?void 0:B.link),I((G=e==null?void 0:e.button)==null?void 0:G.text),E((Q=e==null?void 0:e.button)==null?void 0:Q.buttonTextSize),P((ge=e==null?void 0:e.button)==null?void 0:ge.buttonTextPosition),H((z=e==null?void 0:e.input)==null?void 0:z.label),K((ue=e==null?void 0:e.input)==null?void 0:ue.inputLabelSize),te((re=e==null?void 0:e.input)==null?void 0:re.inputLabelPosition),J((M=e==null?void 0:e.input)==null?void 0:M.placeholder)},[e]),u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:xf.Section,style:{order:n},children:[t&&u.jsx("div",{className:xf.EditMode,onClick:()=>i("Section8")}),u.jsxs("div",{className:xf.Box,children:[u.jsx("img",{src:O,alt:""}),u.jsxs("div",{className:xf.miniBox,children:[u.jsx("h2",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("p",{style:{fontSize:`${_}px`,textAlign:S},children:p}),u.jsxs("div",{children:[u.jsx(A,{style:{fontSize:`${X}px`,textAlign:ne},label:j,placeholder:me,type:"email"}),u.jsx("a",{href:y,children:u.jsx(Ue,{style:{fontSize:`${x}px`,textAlign:k},children:T})})]})]})]})]})})},eQ="_Section_1oxje_1",tQ="_EditMode_1oxje_23",nQ="_Box_1oxje_69",nv={Section:eQ,EditMode:tQ,Box:nQ},iQ="_Item_ar9bn_1",sQ={Item:iQ},rQ=({item:t})=>u.jsxs("div",{className:sQ.Item,children:[u.jsx("img",{src:t.img,alt:""}),u.jsxs("div",{children:[u.jsx("h2",{style:{fontSize:`${t.sizeTitle}px`,textAlign:t.positionTitle},children:t.title}),u.jsx("p",{style:{fontSize:`${t.sizeDescription}px`,textAlign:t.positionDescription},children:t.description})]})]}),A3=({edit:t,data:e,order:n})=>{const i=nt(Zt=>Zt.changeEditMode),[s,r]=d.useState(!1),[o,l]=d.useState(""),[c,a]=d.useState("32"),[h,f]=d.useState("center"),[p,m]=d.useState(""),[_,g]=d.useState("20"),[S,v]=d.useState("center"),[y,w]=d.useState(""),[T,I]=d.useState("14"),[x,E]=d.useState("center"),[k,P]=d.useState(""),[j,H]=d.useState("20"),[X,K]=d.useState("center"),[ne,te]=d.useState(""),[me,J]=d.useState("14"),[O,F]=d.useState("center"),[B,G]=d.useState(""),[Q,ge]=d.useState("20"),[z,ue]=d.useState("center"),[re,M]=d.useState("14"),[V,le]=d.useState("center"),[fe,ce]=d.useState(""),[Te,ye]=d.useState(""),[Re,we]=d.useState("20"),[Le,je]=d.useState("center"),[Ne,Z]=d.useState(""),[qe,ze]=d.useState("14"),[Ve,We]=d.useState("center"),[Me,Be]=d.useState(""),[He,De]=d.useState("20"),[Ye,Oe]=d.useState("center"),[it,st]=d.useState(""),[$,Qe]=d.useState("14"),[vt,yt]=d.useState("center"),[ut,qt]=d.useState(""),[mn,Xt]=d.useState("20"),[an,Jt]=d.useState("center"),[Mt,C]=d.useState(""),[R,L]=d.useState("14"),[D,se]=d.useState("center"),[Ce,Se]=d.useState(""),[_e,pe]=d.useState(""),[be,Xe]=d.useState(""),[Ie,Fe]=d.useState(""),[Je,St]=d.useState(""),[et,zt]=d.useState("");d.useEffect(()=>{Se((e==null?void 0:e.image1)||""),pe((e==null?void 0:e.image2)||""),Xe((e==null?void 0:e.image3)||""),Fe((e==null?void 0:e.image4)||""),St((e==null?void 0:e.image5)||""),zt((e==null?void 0:e.image6)||""),r(t?!1:e==null?void 0:e.hidden),l(e==null?void 0:e.title),a(e==null?void 0:e.titleSize),f(e==null?void 0:e.titlePosition),m(e==null?void 0:e.items[0].title),g(e==null?void 0:e.items[0].sizeTitle),v(e==null?void 0:e.items[0].positionTitle),w(e==null?void 0:e.items[0].description),I(e==null?void 0:e.items[0].sizeDescription),E(e==null?void 0:e.items[0].positionDescription),P(e==null?void 0:e.items[1].title),H(e==null?void 0:e.items[1].sizeTitle),K(e==null?void 0:e.items[1].positionTitle),te(e==null?void 0:e.items[1].description),J(e==null?void 0:e.items[1].sizeDescription),F(e==null?void 0:e.items[1].positionDescription),G(e==null?void 0:e.items[2].title),ge(e==null?void 0:e.items[2].sizeTitle),ue(e==null?void 0:e.items[2].positionTitle),ce(e==null?void 0:e.items[2].description),le(e==null?void 0:e.items[2].sizeDescription),M(e==null?void 0:e.items[2].positionDescription),ye(e==null?void 0:e.items[3].title),we(e==null?void 0:e.items[3].sizeTitle),je(e==null?void 0:e.items[3].positionTitle),Z(e==null?void 0:e.items[3].description),ze(e==null?void 0:e.items[3].sizeDescription),We(e==null?void 0:e.items[3].positionDescription),Be(e==null?void 0:e.items[4].title),De(e==null?void 0:e.items[4].sizeTitle),Oe(e==null?void 0:e.items[4].positionTitle),st(e==null?void 0:e.items[4].description),Qe(e==null?void 0:e.items[4].sizeDescription),yt(e==null?void 0:e.items[4].positionDescription),qt(e==null?void 0:e.items[5].title),Xt(e==null?void 0:e.items[5].sizeTitle),Jt(e==null?void 0:e.items[5].positionTitle),C(e==null?void 0:e.items[5].description),L(e==null?void 0:e.items[5].sizeDescription),se(e==null?void 0:e.items[5].positionDescription)},[e]);const ee=[{id:1,img:Ce,title:p,description:y,sizeTitle:_,positionTitle:S,positionDescription:x,sizeDescription:T},{id:2,img:_e,title:k,description:ne,sizeTitle:j,positionTitle:X,positionDescription:O,sizeDescription:me},{id:3,img:be,title:B,description:fe,sizeTitle:Q,positionTitle:z,positionDescription:re,sizeDescription:V},{id:4,img:Ie,title:Te,description:Ne,sizeTitle:Re,positionTitle:Le,positionDescription:Ve,sizeDescription:qe},{id:5,img:Je,title:Me,description:it,sizeTitle:He,positionTitle:Ye,positionDescription:vt,sizeDescription:$},{id:6,img:et,title:ut,description:Mt,sizeTitle:mn,positionTitle:an,positionDescription:D,sizeDescription:R}];return u.jsx(u.Fragment,{children:!s&&u.jsxs("section",{className:nv.Section,style:{order:n},children:[t&&u.jsx("div",{className:nv.EditMode,onClick:()=>i("Section9")}),u.jsx("h1",{style:{fontSize:`${c}px`,textAlign:h},children:o}),u.jsx("div",{className:nv.Box,children:ee.map(Zt=>u.jsx(rQ,{item:Zt},Zt.id))})]})})},oQ="landing/header/logo",lQ="landing/section9/user1",cQ="landing/section9/user2",aQ="landing/section9/user3",uQ="landing/section9/user4",hQ="landing/section9/user5",dQ="landing/section1",fQ="landing/section2/item_1",pQ="landing/section2/item_2",mQ="landing/section2/item_3",gQ="landing/section3/item_1",_Q="landing/section3/item_2",vQ="landing/section3/item_3",yQ="landing/section3/item_4",SQ="landing/section4",wQ="landing/section5",xQ="landing/section6/item_1",TQ="landing/section6/item_2",IQ="landing/section6/item_3",EQ="landing/section7/item_1",CQ="landing/section7/item_2",kQ="landing/section7/item_3",RQ="landing/section7/item_4",PQ="landing/section8",bQ="landing/section9/item_1",AQ="landing/section9/item_2",NQ="landing/section9/item_3",DQ="landing/section9/item_4",LQ="landing/section9/item_5",jQ="landing/section9/item_6",OQ="landing/section10/founder",MQ="landing/section10/appQrCode",zQ="landing/section10/telegramQrCode",VQ={Section1:1,Section2:2,Section3:3,Section4:4,Section5:5,Section6:6,Section7:7,Section8:8,Section9:9,Section10:10,Section11:11,Section12:12,Section13:13},Wt={FAQ:{questions:[],hidden:!1,note:"",title:{title:"",size:"",position:"center"}},privacy:{questions:[],hidden:!1,note:"",title:{title:"Privacy",size:"",position:"center"}},"cookie-policy":{questions:[],hidden:!1,note:"",title:{title:"cookie-policy",size:"",position:"center"}},"terms-of-use":{questions:[],hidden:!1,note:"",title:{title:"terms-of-use",size:"",position:"center"}},footer:{copyright:"Unit Holder © 2023",copyrightPosition:"left",hidden:!1,copyrightSize:"12"},section12:{note:"",reviews:[{tag:"@Snap",titleSize:"14",username:"Jacob Andreou",titlePosition:"center",title:`Unit Holder преобразил 
мой подход к инвестициям в недвижимость
`,tagSize:"14",usernameSize:"14"},{titleSize:"20",title:`Система Unit Holder позволила 
мне выйти на рынок недвижимости 
с минимальными вложениями
 `,tagSize:"14",titlePosition:"center",username:"Jacob Andreou",tag:"@Snap",usernameSize:"14"},{username:"Jacob Andreou",title:`Unit Holder открыл для меня 
новые перспективы в инвестировании 
`,usernameSize:"14",titlePosition:"center",tag:"@Snap",tagSize:"14",titleSize:"14"},{usernameSize:"14",username:"Jacob Andreou",titlePosition:"center",titleSize:"14",tagSize:"14",tag:"@Snap",title:`Я воспользовался 
программой
'Арендуй и Выкупай' 
от Unit Holder 
и очень доволен
`},{tag:"@Snap",tagSize:"14",usernameSize:"14",titlePosition:"center",title:`Благодаря Unit Holder, 
я получил доступ 
к глобальному рынку недвижимости 
`,titleSize:"14",username:"Jacob Andreou"}],title:"Что люди говорят о Unit Holder?",hidden:!1,titlePosition:"center",titleSize:"30"},section13:{note:"",hidden:!1,links:[{title:"Популярные ссылки",link:[{url:"https://unit-holder-real-estate-portal.netlify.app",name:"Портал цифровой недвижимости"},{name:"Регистрация на портале",url:"https://unit-holder-real-estate-portal.netlify.app/register"},{url:"",name:"Инвестиции от 1000$"},{name:"Инвестиции от 100$",url:""},{url:"",name:"Заработать с Unit Holder"}]},{title:"Дополнительные ссылки",link:[{url:"",name:"Для партнеров и продавцов"},{url:"",name:"Наш телеграм канал"},{name:"Наш телеграм бот",url:""},{url:"",name:"Предложения и Идеи"},{name:"Часто задаваемые вопросы",url:""}]},{title:"Наши социальные сети",link:[{name:"Наша страничка на Facebook",url:""},{url:"",name:"Наш канал на You Tube"},{url:"",name:"Наш Tik Tok"},{name:"Наша старничка на Linkendin",url:""},{url:"",name:"Обратная связь"}]},{link:[{name:"Отдел продаж",url:""},{name:"Тех поддержка",url:""},{name:"Консультант по недвижимости",url:""},{name:"Консультант по продуктам",url:""},{url:"",name:"Консультант по Юридическим вопросам"}],title:"Каналы связи с нами"},{link:[{name:"",url:""},{url:"",name:""},{url:"",name:""},{name:"",url:""},{name:"",url:""}],title:""}]},section9:{title:"Что  вы еще получите?",hidden:!1,titlePosition:"center",titleSize:"36",note:"",items:[{title:`Удобная коммуникация 
по предпочтению`,description:`Получайте информацию 
удобным способом: 
по телефону, в мессенджерах
через приложение или на портале
24/7 и по всему миру`,id:1,positionDescription:"center",positionTitle:"center",sizeDescription:"16",sizeTitle:"20"},{positionTitle:"center",id:2,sizeTitle:"20",description:`Начни создание своих активов 
всего с одного Цифрового Метра 
100 $ = 100 Stable Unit`,sizeDescription:"16",positionDescription:"center",title:`Покупай вместе с
другими Инвесторами`},{sizeTitle:"20",positionDescription:"center",title:`Не знаешь с чего начать?

`,positionTitle:"center",description:`Получи On-Line консультация
 от наших специалистов`,id:3,sizeDescription:"16"},{sizeDescription:"16",sizeTitle:"20",positionTitle:"left",positionDescription:"center",title:"Будь Мобильным",description:`Управляй цифровыми активами и 
получайте информацию 
через портал и телефон 
24/7 по всему миру
`,id:4},{description:`Участвуй в программе 
"Арендуй и Выкупай" 
от Uniit Holder 
с рассрочкой до 30 лет`,positionDescription:"center",id:5,title:`Программы покупки 
недвижимости от Unit Holder`,sizeTitle:"20",positionTitle:"center",sizeDescription:"16"},{description:`Становись партнером 
и частью сообщества 
`,title:`Хочешь поддержать 
UNIT HOLDER`,sizeDescription:"16",sizeTitle:"20",id:6,positionTitle:"center",positionDescription:"center"}]},section11:{titlePosition:"center",titleSize:"32",buttonTextSize:"14",title:"Присоеденяйся к сообществу Unit Holder",buttonTextLink:"https://unit-holder-real-estate-portal.netlify.app/register",note:"",hidden:!1,buttonText:"Попробуй бесплатно"},section6:{note:"",hidden:!0,titlePosition:"center",title:"ПОДБОРКИ И КОНТРОЛЬ",items:[{description:"Создавайте индивидуальные коллекции понравившихся объектов за секунды и делитесь с вашими друзьями и родственниками с помощью одной ссылки",positionTitle:"center",sizeTitle:"20",positionDescription:"center",sizeDescription:"16",title:"Веб-презентации"},{sizeDescription:"16",positionTitle:"center",title:"Личный кабинет",positionDescription:"center",description:"Проверяйте онлайн-статусы сделок и обратную связь от Продавцов, Покупателей, Партнеров и Застройщика.",sizeTitle:"20"},{positionDescription:"center",positionTitle:"center",sizeTitle:"20",title:"Уведомления",description:`Контролируйте все аспекты, связанные с вашими сделками по цифровой недвижимости. 
Получайте уведомления о важных для вас событиях через приложение в формате 24/7`,sizeDescription:"16"}],titleSize:"36"},section5:{titleSize:"30",title:`Погрузись в Мир 
Цифровой  Недвижимости 

Зарегистрируйся 
в один клик`,button:{text:`Получи доступ к 
цифровым объектам`,buttonTextSize:"16",buttonTextPosition:"center",link:"https://unit-holder-real-estate-portal.netlify.app/register"},descriptionPosition:"center",input:{inputLabelPosition:"center",inputLabelSize:"16",label:"Телефон",placeholder:"+7-000-00-00"},hidden:!0,note:"",description:`Только зарегистрированные пользователи получают доступ к полному функционалу
Маркет Плейса `,descriptionSize:"16",titlePosition:"center"},header:{navigation:[{size:"16",position:"center",name:`Маркет Плейс
Недвижимости`,link:"https://unit-holder-real-estate-portal.netlify.app/"},{link:"",name:`Инвестиции
от 1000$`,position:"center",size:"16"},{position:"center",link:"",name:`Инвестиции
от 100$`,size:"16"},{name:`Заработать с
Unit Holder`,size:"16",position:"center",link:""},{position:"center",link:"",size:"21",name:""},{size:"15",name:"",link:"12",position:"right"},{position:"left",link:"",name:"",size:""}],button:{size:"16",name:"Регистрация",link:"https://unit-holder-real-estate-portal.netlify.app/register",position:"center"},hidden:!1,logo:{name:`UNIT 
HOLDER`,position:"center",size:"16",link:""},note:"my note"},cookies:{policyText:" Политикой конфидициальности",note:"",policy:"/policy",privacy:"/privacy",text:"Мы используем файлы cookie и рекомендательные технологии. Продолжив работу с сайтом, вы соглашаетесь с",privacyText:"и Правилами пользования сайтом"},section7:{note:"",title:"ДЛЯ КОГО НАШ ПРОДУКТ?",titleSize:"48",hidden:!1,titlePosition:"center",items:[{description:`ПРОБЛЕМА:
БЮДЖЕТНЫЕ ОГРАНИЧЕНИЯ: 
Выбор ограничен бюджетом
ФОКУС НА ЦЕНЕ, А НЕ ЛЕКВИДНОСТИ: 
Выбор основан на стоимости 
в ушерб ликвидность объекта
ПОВЫШЕННЫЕ РИСКИ 
Работа с малоизвестными застройщиками 
увеличивает риски качества и надежности
РЕЩЕНИЕ:
ВХОД С ЛЮБЫМ БЮДЖЕТОМ: 
Покупай Цифровую Недвижимсть от 100$
НЕДВИЖИМОСТЬ КЛАССА ЛЮКС 
ОТ ТОПОВЫХ ЗАСТРОЙЩИКОВ: 
Выбор высококлассного жилья 
от лучших застройщиков.
`,sizeDescription:"16",sizeTitle:"24",positionDescription:"left",positionTitle:"left",title:`Покупатели
Международной Недвижимости 
с бюджетом 25000$ - 100 000$`},{sizeDescription:"16",sizeTitle:"24",positionDescription:"left",title:`Спекулятивные Инвесторы
в Международную недвижимость
с капиталом 25000$ - 50 000$`,positionTitle:"left",description:`ПРОБЛЕМА:
КОЛЛИЧЕСТВО ПРОЕКТО ОГРАНИЧЕНО: 
Ограничение участия в выгодных проектах 
из-за размера капитала
ФОКУС НА ЦЕНЕ, А НЕ НА ДОХОДНОСТИ: 
Выбор основан на стоимости
а не на доходности инвестиций
РЕШЕНИЕ:
НЕДВИЖИМОСТЬ КЛАССА ЛЮКС
С НАИБОЛЬШОЙ ДОХОДНОСТЬЮ: 
Выбор десятков комплексов 
с понятной доходностью
ВЫХОД ДОСТУПЕН СРАЗУ ЖЕ: 
Возможность немедленной продажи 
"Connected Units" на нашем Маркет Плейсе`},{description:`ПРОБЛЕМА:
ОГРАНИЧЕНИЯ РАЗМЕРА КАПИТАЛА: 
Выбор ограничен размером капитала
ФОКУС НА ЦЕНЕ, А НЕ ДОХОДНОСТИ: 
Выбор основан на стоимости
а не доходности объекта
ИНВЕСТИЦИИ В ЭКОНОМ СЕГМЕНТ: 
Повышенные риски в дешевом сегменте рынка
РЕШЕНИЕ:
ВХОД С ЛЮБЫМ БЮДЖЕТОМ 
Инвестиции в недвижимость доступны 
для всех уровней капитала.
НЕДВИЖИМОСТЬ КЛАССА ЛЮКС от
ТОПОВЫХ ЗАСТРОЙЩИКОВ: 
Выбор десятков комплексов
высококлассного жилья 
от лучших застройщиков`,sizeDescription:"16",positionDescription:"left",positionTitle:"left",sizeTitle:"24",title:`Инвесторы в Недвижимость
с капиталом 5000$ - 100 000$`},{title:`Новые инвесторы
в Международную недвижимость
с капиталом 100$ - 4 999$`,sizeTitle:"24",description:`ПРОБЛЕМА:
ВЫСОКИЙ ПОРОГ ВХОДА В ИНВЕСТИЦИИ
ПО НЕДВИЖИМОСТИ: 
Отсутсвие начального капитала для того 
что бы попробовать и научиться 
НЕТ ВОЗМОЖНОСТИ НАКОПИТЬ КАПИТАЛ: 
Ограничения возможностей накопить 
стартовый капитал в недвижимости
РЕШЕНИЕ:
ВХОД С ЛЮБЫМ БЮДЖЕТОМ 
Можно начать от 100$
ДОСТУП ВСЕХ ИНСТРУМЕНТОВ СРАЗУ: 
Можно пробовать и учиться прямо сейчас
ВОЗМОЖНОСТЬ НАКАПЛИВАТЬ КАПИТАЛ:
Покупая юниты каждый месяц 
вы растите свой капитал каждый день`,positionDescription:"left",positionTitle:"left",sizeDescription:"16"}]},order:{Section6:7,Section9:9,Section3:3,Section10:11,Section4:4,Section12:10,Section5:6,Section11:12,Section1:1,Section8:8,Section2:2,Section7:5,Section13:13,FAQ:14},section4:{titlePosition:"center",items:[{sizeDescription:"16",sizeTitle:"24",description:`РЕГИСТРАЦИЯ НА ПОРТАЛЕ: 
Участники системы начинают с создания 
своего профиля и личного кабинета

ВЫБОР ИНДИВИДУАЛЬНОЙ СРАТЕГИИ: 
Каждый Участник индивидуален
поэтому мы создаем 
индивидуальную стратегию
 для каждого клиента

ПОДБОР ОБЪЕКТОВ ПОД СТРАТЕГИЮ: 
Исходя из выбранной стратегии
сотрудники компании 
подберут объекты недвижимости
которые соответствуют 
установленным критериям 
и потребностям Участника`,positionDescription:"left",positionTitle:"left",title:"Первый шаг "},{description:`ОТКРЫТИЕ СЧЕТОВ 
В СИСТЕМЕ DIGITAL UNITS:
Клиент открывает три вида счетов в системе: 
Stable Units, Bonus Units и Connected Units
STABLE UNITS: 
Основной счет для управления стандартными инвестиционными единицами
BONUS UNITS: 
Счет для управления бонусными единицами 
получаемыми в рамках различных акций
и программ лояльности
CONNECTED UNITS: 
Счет для управления Connected Units 
представляющими долевое участие
в конкретных объектах недвижимости

ПРИСОЕДИНЕНИЕ 
К ИНВЕСТИЦИОННОМУ ПУЛУ: 
После покупки Stable Units 
Участник системы выбирает
и присоединяется к инвестиционному пулу 
который соответствует его стратегии и 
целям инвестирования
`,positionTitle:"left",positionDescription:"left",sizeTitle:"24",title:"Второй Шаг",sizeDescription:"16"},{title:"Третий Шаг",sizeTitle:"24",description:`ЗАКРЫТИЕ ПУЛА И ПОКУПКА ОБЪЕКТА:
После накопления необходимых средств 
инвестиционный пул закрывается  
Система выбирает и Покупает 
подходящий объект недвижимости
соответствующий критериям пула

РЕГИСТРАЦИЯ ОБЪЕКТА, КОНВЕРТАЦИЯ и 
РАСПРЕДЕЛЕНИЕ CONNECTED UNITS:
После закрытия пула и покупки объекта 
недвижимость регистрируется 
на управляющую компанию
STABLE UNITS инвесторов 
конвертируются в CONNECTED UNITS
Эти Connected Units распределяются 
между участниками пула 
согласно их доле участия
`,positionDescription:"left",sizeDescription:"16",positionTitle:"left"},{title:"Результат",positionTitle:"left",description:`УПРАВЛЕНИЕ И 
ТОРГОВЛЯ CONNECTED UNITS:
После распределения Connected Units 
Участники системы получают контроль 
над своими долями в цифровой форме

Участники могут активно участвовать 
в торговле юнитами на внутреннем маркетплейсе
реализуя свою инвестиционную стратегию

РАСПРЕДЕЛЕНИЕ АРЕНДНОГО ДОХОДА:
В случае, когда объект начал приносить
Арендный Доход, такой доход начисляется 
каждый месяц и распределяется между 
владельцами Connected Units 
Доходность начисляется в Stable Units`,sizeTitle:"24",sizeDescription:"16",positionDescription:"left"}],hidden:!1,titleSize:"36",note:"",title:"КАК РАБОТАЕТ  СИСТЕМА UNIT HOLDER"},section10:{topTextPosition:"left",topText:"ОСНОВАТЕЛЬ UNIT HOLDER",note:"",hidden:!1,titlePosition:"left",descriptionPosition:"left",descriptionSize:"16",links:[{link:"",hidden:!1},{link:"",hidden:!1},{link:"",hidden:!1},{hidden:!0,link:""}],topTextSize:"20",appBox:{appStoreLink:"",title:"Unit Holder App is already available in AppStore & Play Market",googlePlayLink:"",appBoxTitleSize:"20",appBoxTitlePosition:"left"},title:"Васехо Юрий",qrhidden:!0,titleSize:"32",description:"Добрый день Вас приветствует основатель Unit Holder. В динамичном мире в котором мы живем сейчас, покупка недвижимости остается тяжелым и сложным процессом требующим крупных финансовых затрат и большого объема знаний. В этом лабиринте легко свернуть не туда и оказаться в тупике. Unit Holder предлагает работать с цифровыми активами On-Line, имея только телефон из любой точки мира 24/7, с минимальным чеком входа от 100 долларов и с недостижимым ранее уровнем доступа к информации, безопасности и контролем своих цифровых активов.  Скорость с которой вы сможете совершать сделки со своими цифровыми активами равняется миллисекундам.  Я считаю, что каждый достоин лучшей жизни, и цифровые технологии в области недвижимости делают эту мечту возможной и реалистичной",telegramBox:{topTitle:"RECENT NEWS AND INFO",telegramBoxTopTitleSize:"10",telegramBoxTopTitlePosition:"left",title:"Join us in Telegram!",telegramBoxTitlePosition:"left",button:{position:"left",size:"12",text:"Subscribe to Unit Holder Channel",link:""},telegramBoxTitleSize:"20"}},section3:{hidden:!1,titleSize:"20",note:"",titlePosition:"center",title:`ВЫЗОВ СЕГОДНЯ  - Нестабильность доходов, Высокая инфляция, Риски в инвестициях
 
СОВРЕМЕННЫЙ ОТВЕТ - Цифровая Недвижимость`,items:[{sizeTitle:"18",sizeDescription:"16",title:"НЕСТАБИЛЬНОСТЬ ДОХОДОВ",positionDescription:"left",positionTitle:"left",description:`ПРОБЛЕМА: 
Непредсказуемость доходов 
из-за изменчивости ситуции на рынках.

РЕШЕНИЕ: 
Цифровая недвижимость предлагает 
стабильный и предсказуемый источник дохода 
благодаря долгосрочным арендным соглашениям и 
низкой волатильности природе недвижимости`},{positionTitle:"left",sizeDescription:"16",title:"ВЫСОКАЯ ИНФЛЯЦИЯ",description:`ПРОБЛЕМА: 
Снижение покупательской способности денег
сбережения теряют свою ценность

РЕШЕНИЕ: 
Инвестиции в цифровую недвижимость 
служат защитой от рисков 
так как стоимость недвижимости и 
арендные ставки растут с уровнем инфляции`,sizeTitle:"18",positionDescription:"left"},{title:"РИСКИ В ИНВЕСТИЦИЯХ",positionDescription:"left",sizeDescription:"16",positionTitle:"left",description:`ПРОБЛЕМА: 
Высокая волатильность и 
сложная предсказуемость результата 
в связи с рыночными колебаний

РЕШЕНИЕ: 
Цифровая недвижимость 
дает низкий уровень риска 
за счет вложений в материальные активы 
с установленной стоимостью`,sizeTitle:"18"},{positionDescription:"left",title:`НАКОПИ, СОХРАНИ И ПРИУМНОЖ
= ЦИФРОВАЯ НЕДВИЖИМОСТЬ`,sizeTitle:"18",positionTitle:"left",description:`СТАБИЛЬНОСТЬ ДОХОДОВ: 
Обеспечивает регулярный и 
предсказуемый пассивный доход

ЗАЩИТА ОТ ИНФЛЯЦИИ: 
Стоимость и доходность недвижимости 
растет вместе с инфляцией
обеспечивая сохранность капитала

СНИЖЕНИЕ ИНВЕСТИЦИОННЫХ РИСКОВ: 
Недвижимость традиционно считается 
надежным активом с меньшей волатильностью 
по сравнению с другими видами инвестиций

ДОЛГОСРОЧНЫЙ РОСТ СТОИМОСТИ АКТИВА: 
Потенциал увеличения стоимости актива 
в долгосрочной перспективе`,sizeDescription:"16"}]},section2:{hidden:!1,note:"",items:[{sizeDescription:"16",title:`ВЫБИРАЙ
Цифровая Недвижимость ON-LINE
для Покупки и Инвестиций`,positionDescription:"center",description:`Вся информация 
для принятия решения оn-line 
на Портале и в Телефоне`,positionTitle:"center",sizeTitle:"18"},{description:`Стань владельцем 
своей первой Цифровой Недвижимости
в один клик из любой точки мира 
Всего от 100$ = 100 Connected Units`,positionDescription:"center",sizeDescription:"16",sizeTitle:"18",positionTitle:"center",title:`ПОКУПАЙ 
Цифровая Недвижимость ON-LINE
для Себя и Инвестиций`},{sizeTitle:"18",title:`ЗАРАБАТЫВАЙ
на Цифровой Недвижимости 
ON-LINE      `,description:`Продавай Connected Units 
Фиксируй Прибыль 
СТРАТЕГИЯ
(BUY+HOLDE+RENT)+SELL=PROFIT`,sizeDescription:"16",positionDescription:"center",positionTitle:"center"}]},section1:{description:`Недвижимость класса Люкс
от Топовых застройщиков Дубая
в Цифровом Формате`,descriptionPosition:"left",title:`Цифровая Недвижимость 
в ДУБАЕ - это Реально?

UNIT HOLDER представляет -
Первый в Мире Маркет Плейс 
по Международной 
Цифровой Недвижимости`,titleSize:"33",hidden:!1,button:{size:"16",text:`Купи Свой Первый Цифровой Метр 
`,link:"https://unit-holder-real-estate-portal.netlify.app/",position:"center"},descriptionSize:"16",titlePosition:"left",note:"",list:[{description:`КОМЛЕКСОВ 
КЛАССА ЛЮКС `,sizeTitle:"28",positionTitle:"left",sizeDescription:"16",positionDescription:"left",title:"28"},{sizeTitle:"28",title:"20",positionTitle:"left",positionDescription:"left",sizeDescription:"16",description:`ТОПОВЫХ 
ЗАСТРОЙЩИКОВ ДУБАЯ`},{description:`В ЦИФРОВОМ ФОРМАТЕ
ВХОД от 100$ `,sizeDescription:"16",sizeTitle:"28",positionTitle:"left",positionDescription:"left",title:"Недвижимость"}]},section8:{descriptionPosition:"center",button:{text:`Получи доступ
к цифровым объектам`,buttonTextSize:"16",link:"https://unit-holder-real-estate-portal.netlify.app/register",buttonTextPosition:"center"},description:`Только зарегистрированные пользователи 
получают доступ к полному функционалу 
Маркет Плейса `,input:{inputLabelSize:"16",label:"Телефон",placeholder:"+7-000-00-00",inputLabelPosition:"center"},titlePosition:"center",hidden:!1,titleSize:"30",descriptionSize:"16",title:`Купи свой первый 
Цифровой метр

Зарегистрируйся 
Прямо Сейчас!`,note:""}},FQ="_Section_te6si_1",BQ="_EditMode_te6si_23",$Q="_Row_te6si_55",UQ="_Scroll_te6si_71",qQ="_Edit_te6si_23",WQ="_main_te6si_103",HQ="_Form_te6si_113",GQ="_QuestionIcon_te6si_139",KQ="_NoGap_te6si_153",rp={Section:FQ,EditMode:BQ,Row:$Q,Scroll:UQ,Edit:qQ,main:WQ,Form:HQ,QuestionIcon:GQ,NoGap:KQ},QQ="_EditMode_1qxpd_1",YQ={EditMode:QQ},XQ=({edit:t,path:e})=>{const n=nt(i=>i.changeEditMode);return u.jsx(u.Fragment,{children:t&&u.jsx("div",{className:YQ.EditMode,onClick:()=>n(e)})})},N3=({path:t,data:e,edit:n,lang:i})=>{var s,r,o,l,c;return u.jsx(u.Fragment,{children:!e.hidden&&u.jsxs("section",{className:rp.Section,children:[u.jsx(XQ,{edit:n,path:t}),u.jsx("h1",{style:{fontSize:`${(s=e.title)==null?void 0:s.size}px`,textAlign:(r=e.title)==null?void 0:r.position},children:((o=e.title)==null?void 0:o.title)||d3[i][t]}),u.jsx("ul",{children:(l=e.questions)==null?void 0:l.map(({question:a,id:h})=>u.jsx("a",{href:`#${h}`,children:u.jsx("li",{children:a.title})},h))}),(c=e.questions)==null?void 0:c.map((a,h)=>u.jsx(_3,{qa:a,index:h,edit:n,line:!1},a.id))]})})};function a2(t,e,n){if(!e)return t;const i={...t};console.log(t,e,n);let s,r;for(const o in i)i[o]===e?s=o:i[o]===e+n&&(r=o);return s&&r&&(i[s]=e+n,i[r]=e),i}function D3(t){if(t==null)return"";if(typeof t=="object")for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=D3(t[e]));else if(t===void 0)return"";return t}function Sn(t,e){em(Vs(t),D3(e),{merge:!0}).then(()=>{alert("Данные были обновлены")}).then(()=>{(t==="en"||t==="ru")&&Td(Vs(t)).then(n=>n.data()).then(n=>{n&&fetch("http://i938517i.beget.tech",{method:"POST",body:JSON.stringify({lang:t,response:n})}).then(i=>i.text()).then(i=>{console.log("The returned data: "+i)}).catch(i=>{console.log("updateLandingData fetch error: "+i)})}).catch(n=>{console.log("updateLandingData getDoc error: "+n)})}).catch(n=>console.log("updateLandingData setDoc error: "+n))}const JQ="_Form_1sw5f_1",ZQ="_Row_1sw5f_31",eY="_QuestionIcon_1sw5f_45",tY="_NoGap_1sw5f_59",iv={Form:JQ,Row:ZQ,QuestionIcon:eY,NoGap:tY},nY="_Textarea_v76ur_1",iY="_Label_v76ur_35",u2={Textarea:nY,Label:iY},ie=({label:t,placeholder:e,onChange:n,value:i})=>u.jsxs("div",{children:[u.jsx("label",{className:u2.Label,children:t}),u.jsx("textarea",{className:u2.Textarea,value:i,onChange:n,placeholder:e})]}),sY="_Checkbox_19huc_1",rY="_Toggle_19huc_27",oY="_Active_19huc_41",lY="_Hidden_19huc_59",Tf={Checkbox:sY,Toggle:rY,Active:oY,Hidden:lY},Ft=({setValue:t,value:e,text:n})=>u.jsxs("div",{className:Tf.Hidden,children:[u.jsx("p",{children:n||"Скрыть блок"}),u.jsx("div",{onClick:()=>t(!e),className:`${Tf.Checkbox} ${e?Tf.Active:""}`,children:u.jsx("div",{className:Tf.Toggle})})]}),cY=({lang:t,data:e})=>{const[n,i]=d.useState(!1),[s,r]=d.useState(""),[o,l]=d.useState(""),[c,a]=d.useState(""),[h,f]=d.useState(""),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState(!1);d.useEffect(()=>{e&&(r(e.policy),l(e.privacy),m((e==null?void 0:e.text)||""),a((e==null?void 0:e.policyText)||""),f((e==null?void 0:e.privacyText)||""),g((e==null?void 0:e.note)||""),i((e==null?void 0:e.hidden)||!1))},[e]);async function y(){Sn(t,{cookies:{policy:s,privacy:o,text:p,policyText:c,privacyText:h,note:_,hidden:n}})}return u.jsxs("div",{className:iv.Form,children:[u.jsx(Ft,{value:n,setValue:i}),S&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:_,onChange:w=>g(w.target.value)}),u.jsxs("div",{className:iv.NoGap,children:[u.jsx("h2",{children:"Cookies"}),u.jsx(Fn,{className:iv.QuestionIcon,onClick:()=>v(!S)})]}),u.jsx(ie,{label:"Текст перед ссылками",placeholder:"",value:p,onChange:w=>m(w.target.value)}),u.jsx(A,{label:"Текст ссылки",placeholder:"Текс",type:"text",value:c,onChange:w=>a(w.target.value)}),u.jsx(A,{label:"Ссылка на политику обработки персональных данных",placeholder:"Ссылка",type:"text",value:s,onChange:w=>r(w.target.value)}),u.jsx(A,{label:"Текст ссылки",placeholder:"Текст",type:"text",value:h,onChange:w=>f(w.target.value)}),u.jsx(A,{label:"Ссылка на правила пользования сайтом",placeholder:"Ссылка",type:"text",value:o,onChange:w=>l(w.target.value)}),u.jsx(Ue,{onClick:()=>y(),children:"Сохранить"})]})},aY="_Item_yxe2w_1",uY="_Row_yxe2w_15",L3={Item:aY,Row:uY},hY="_TextPosition_5u9zo_1",dY="_Active_5u9zo_59",h2={TextPosition:hY,Active:dY},Ae=({position:t,setPosition:e})=>{const n=[{id:1,name:"left",icon:vH},{id:2,name:"center",icon:gH},{id:3,name:"right",icon:_H}];return u.jsx("div",{className:h2.TextPosition,children:n.map(i=>u.jsx("div",{className:t===i.name?h2.Active:"",onClick:()=>e(i.name),children:u.jsx(i.icon,{})},i.id))})},vm=({item:t,setItem:e,label:n,placeholder:i=""})=>{const s=(r,o)=>{const l={...t,[r]:o};e(l)};return u.jsxs(u.Fragment,{children:[u.jsx(ie,{label:n,placeholder:i,value:t.title,onChange:r=>s("title",r.target.value)}),u.jsxs("div",{className:L3.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Number(t.size),onChange:r=>s("size",r.target.value)}),u.jsx(Ae,{position:t.position,setPosition:r=>s("position",r)})]})]})},j3=({questionAndAnswer:t,setBlock:e,removeBlock:n,questionLabel:i="Вопрос",answerLabel:s="Ответ"})=>{const r=(o,l)=>{const c={...t,[o]:l};e(c)};return u.jsxs("div",{className:L3.Item,children:[u.jsx(vm,{item:t.question,setItem:o=>r("question",o),label:i}),u.jsx(vm,{item:t.answer,setItem:o=>r("answer",o),label:s}),u.jsx(Ue,{onClick:n,style:{background:"#fff",color:"#000",border:"2px solid red",height:"40px"},children:"Удалить блок"})]})};let If;const fY=new Uint8Array(16);function pY(){if(!If&&(If=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!If))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return If(fY)}const Un=[];for(let t=0;t<256;++t)Un.push((t+256).toString(16).slice(1));function mY(t,e=0){return Un[t[e+0]]+Un[t[e+1]]+Un[t[e+2]]+Un[t[e+3]]+"-"+Un[t[e+4]]+Un[t[e+5]]+"-"+Un[t[e+6]]+Un[t[e+7]]+"-"+Un[t[e+8]]+Un[t[e+9]]+"-"+Un[t[e+10]]+Un[t[e+11]]+Un[t[e+12]]+Un[t[e+13]]+Un[t[e+14]]+Un[t[e+15]]}const gY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d2={randomUUID:gY};function _Y(t,e,n){if(d2.randomUUID&&!e&&!t)return d2.randomUUID();t=t||{};const i=t.random||(t.rng||pY)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=i[s];return e}return mY(i)}const ym=()=>({question:Iy,answer:Iy,id:_Y()}),vY=({lang:t,data:e})=>{const[n,i]=d.useState(!1),[s,r]=d.useState();d.useEffect(()=>{r(e)},[e]);const o={title:"",size:"14",position:"center"},l=(p,m)=>{if(s){const _={...s,[m]:p};r(_)}},c=(p,m)=>{if(s!=null&&s.questions){const _=s.questions.map(g=>g.id===m?p:g);l(_,"questions")}},a=p=>{if(s!=null&&s.questions){const m=s.questions.filter(_=>_.id!==p);l(m,"questions")}},h=()=>{const p=s!=null&&s.questions?[...s==null?void 0:s.questions,ym()]:[ym()];l(p,"questions")};function f(){Sn(t,{FAQ:s})}return u.jsxs("div",{className:ar.Form,children:[u.jsx(Ft,{value:(s==null?void 0:s.hidden)||!1,setValue:p=>l(p,"hidden")}),n&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:s==null?void 0:s.note,onChange:p=>l(p.target.value,"note")}),u.jsxs("div",{className:ar.NoGap,children:[u.jsx("h2",{children:"Блок 14"}),u.jsx(Fn,{className:ar.QuestionIcon,onClick:()=>i(!n)})]}),u.jsx(vm,{item:(s==null?void 0:s.title)||o,setItem:p=>l(p,"title"),label:"Заголовок",placeholder:"Заголовок"}),s==null?void 0:s.questions.map(p=>u.jsx(j3,{setBlock:m=>c(m,p.id),questionAndAnswer:p,removeBlock:()=>a(p.id)},p.id)),u.jsx(Ue,{onClick:h,style:{background:"#fff",color:"#000",border:"2px solid #ccc"},children:"Добавить новый блок"}),u.jsx(Ue,{onClick:f,children:"Сохранить"})]})},yY="_Form_1sw5f_1",SY="_Row_1sw5f_31",wY="_QuestionIcon_1sw5f_45",xY="_NoGap_1sw5f_59",Ef={Form:yY,Row:SY,QuestionIcon:wY,NoGap:xY},TY=({lang:t,data:e})=>{const[n,i]=d.useState(!1),[s,r]=d.useState(""),[o,l]=d.useState("12"),[c,a]=d.useState("left"),[h,f]=d.useState(""),[p,m]=d.useState(!1);d.useEffect(()=>{e&&(i(e==null?void 0:e.hidden),r(e==null?void 0:e.copyright),l(e==null?void 0:e.copyrightSize),a(e==null?void 0:e.copyrightPosition),f((e==null?void 0:e.note)||""))},[e]);function _(){Sn(t,{footer:{copyright:s,copyrightSize:o,copyrightPosition:c,hidden:n,note:h}})}return u.jsxs("div",{className:Ef.Form,children:[u.jsx(Ft,{value:n,setValue:i}),p&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:h,onChange:g=>f(g.target.value)}),u.jsxs("div",{className:Ef.NoGap,children:[u.jsx("h2",{children:"Footer"}),u.jsx(Fn,{className:Ef.QuestionIcon,onClick:()=>m(!p)})]}),u.jsx(ie,{label:"Copyright",placeholder:"Текст",value:s,onChange:g=>r(g.target.value)}),u.jsxs("div",{className:Ef.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:o,onChange:g=>l(g.target.value)}),u.jsx(Ae,{position:c,setPosition:a})]}),u.jsx(Ue,{onClick:()=>_(),children:"Сохранить"})]})},IY="_Form_1sw5f_1",EY="_Row_1sw5f_31",CY="_QuestionIcon_1sw5f_45",kY="_NoGap_1sw5f_59",op={Form:IY,Row:EY,QuestionIcon:CY,NoGap:kY},RY="_UploadImages_1wkwt_1",PY="_Icon_1wkwt_53",bY="_CheckboxBlock_1wkwt_119",f2={UploadImages:RY,Icon:PY,CheckboxBlock:bY},Dn=({path:t,title:e,defaultWidth:n,defaultHeight:i,img:s,onImageChange:r,resize:o=!0})=>{const[l,c]=d.useState(s),[a,h]=d.useState(n),[f,p]=d.useState(i),m=async S=>{if(S.target.files&&S.target.files[0]){const v=S.target.files[0];let y=v;if(v){const w=lW(fW,`images/${t}`);await rW(w,y);const T=await oW(w);c(T),r(T)}}},_=S=>{h(parseInt(S.target.value))},g=S=>{p(parseInt(S.target.value))};return d.useEffect(()=>{c(s)},[s]),u.jsxs("div",{className:f2.UploadImages,children:[u.jsx("p",{children:e}),u.jsx(A,{label:"Ширина (px)",placeholder:"Width",type:"number",value:a??0,onChange:_}),u.jsx(A,{label:"Высота (px)",placeholder:"Height",type:"number",value:f??0,onChange:g}),s&&(o?u.jsx("img",{src:l,alt:""}):u.jsx("video",{src:l})),u.jsx("input",{id:t,type:"file",onChange:m,accept:o?"image/*":"video/*"}),u.jsx("label",{htmlFor:t,children:u.jsxs(u.Fragment,{children:[u.jsx(mH,{className:f2.Icon}),u.jsx("p",{children:"Загрузите изображение"})]})})]})},AY=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(t),[r,o]=d.useState(!1),l=(p,m)=>{s(_=>({..._,[p]:m}))},c=(p,m)=>{const _=[...i.navigation];_[p]={..._[p],...m},l("navigation",_)};function a(){Sn(e,{header:i})}const h=()=>{const p={size:"",position:"left",name:"",link:""};s(m=>({...m,navigation:[...m.navigation,p]}))},f=p=>{confirm("Вы действительно хотите удалить этот пункт меню ?")&&s(_=>{const g=[..._.navigation];return g.splice(p,1),{..._,navigation:g}})};return d.useEffect(()=>{s(t)},[t]),u.jsxs("div",{className:op.Form,children:[u.jsx(Ft,{value:i.hidden,setValue:p=>l("hidden",p)}),u.jsxs("div",{children:[r&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:i.note||"",onChange:p=>l("note",p.target.value)}),u.jsxs("div",{className:op.NoGap,children:[u.jsx("h2",{children:"Header"}),u.jsx(Fn,{className:op.QuestionIcon,onClick:()=>o(!r)})]})]}),u.jsx(Dn,{path:n+oQ,title:"Логитип (размер 180px-150px)",defaultWidth:180,defaultHeight:150,img:(i==null?void 0:i.img)||"",onImageChange:p=>l("img",p)}),u.jsx(sv,{navItem:i.logo,onChangeState:l,label:"Текст лого",name:"logo"}),u.jsx(sv,{navItem:i.button,onChangeState:l,label:"Текст кнопки",name:"button"}),i.navigation.map((p,m)=>u.jsx(sv,{navItem:p,onChangeState:c,removeBlock:()=>f(m),name:m},m)),u.jsx(Ue,{onClick:h,style:{background:"#fff",color:"#000",border:"2px solid #ccc"},children:"Добавить новый блок"}),u.jsx(Ue,{onClick:a,children:"Сохранить"})]})},sv=({navItem:t,onChangeState:e,removeBlock:n,label:i="Название",name:s})=>{const r=(o,l)=>{const c={...t,[o]:l};e(s,c)};return u.jsxs(u.Fragment,{children:[u.jsx(ie,{label:i,placeholder:"Текст",value:(t==null?void 0:t.name)||"",onChange:o=>r("name",o.target.value)}),u.jsx(A,{label:"Ссылка",placeholder:"Ссылка",type:"text",value:(t==null?void 0:t.link)||"",onChange:o=>r("link",o.target.value)}),u.jsxs("div",{className:op.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:(t==null?void 0:t.size)||"",onChange:o=>r("size",o.target.value)}),u.jsx(Ae,{position:(t==null?void 0:t.position)||"center",setPosition:o=>r("position",o)})]}),u.jsx(Ue,{onClick:n,style:{background:"#fff",color:"#000",border:"2px solid red"},children:"Удалить блок"})]})},NY="_Row_picxg_31",DY="_QuestionIcon_picxg_45",LY="_NoGap_picxg_59",qi={Row:NY,QuestionIcon:DY,NoGap:LY},jY=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState(""),[a,h]=d.useState("14"),[f,p]=d.useState(""),[m,_]=d.useState("center"),[g,S]=d.useState(""),[v,y]=d.useState("38"),[w,T]=d.useState("center"),[I,x]=d.useState(""),[E,k]=d.useState("13"),[P,j]=d.useState("center"),[H,X]=d.useState(""),[K,ne]=d.useState("28"),[te,me]=d.useState("center"),[J,O]=d.useState(""),[F,B]=d.useState("13"),[G,Q]=d.useState("center"),[ge,z]=d.useState(""),[ue,re]=d.useState("28"),[M,V]=d.useState("center"),[le,fe]=d.useState(""),[ce,Te]=d.useState("13"),[ye,Re]=d.useState("center"),[we,Le]=d.useState(""),[je,Ne]=d.useState("28"),[Z,qe]=d.useState("center"),[ze,Ve]=d.useState(""),[We,Me]=d.useState("13"),[Be,He]=d.useState("center"),[De,Ye]=d.useState(""),[Oe,it]=d.useState(!1);d.useEffect(()=>{var $,Qe,vt,yt;s(t==null?void 0:t.hidden),p(($=t==null?void 0:t.button)==null?void 0:$.link),c((Qe=t==null?void 0:t.button)==null?void 0:Qe.text),h((vt=t==null?void 0:t.button)==null?void 0:vt.size),_((yt=t==null?void 0:t.button)==null?void 0:yt.position),S(t==null?void 0:t.title),y(t==null?void 0:t.titleSize),T(t==null?void 0:t.titlePosition),x(t==null?void 0:t.description),k(t==null?void 0:t.descriptionSize),j(t==null?void 0:t.descriptionPosition),X(t==null?void 0:t.list[0].title),ne(t==null?void 0:t.list[0].sizeTitle),me(t==null?void 0:t.list[0].positionTitle),O(t==null?void 0:t.list[0].description),B(t==null?void 0:t.list[0].sizeDescription),Q(t==null?void 0:t.list[0].positionDescription),z(t==null?void 0:t.list[1].title),re(t==null?void 0:t.list[1].sizeTitle),V(t==null?void 0:t.list[1].positionTitle),fe(t==null?void 0:t.list[1].description),Te(t==null?void 0:t.list[1].sizeDescription),Re(t==null?void 0:t.list[1].positionDescription),Le(t==null?void 0:t.list[2].title),Ne(t==null?void 0:t.list[2].sizeTitle),qe(t==null?void 0:t.list[2].positionTitle),Ve(t==null?void 0:t.list[2].description),Me(t==null?void 0:t.list[2].sizeDescription),He(t==null?void 0:t.list[2].positionDescription),o((t==null?void 0:t.image)||""),Ye((t==null?void 0:t.note)||"")},[t]);function st(){Sn(e,{section1:{button:{link:f,text:l,size:a,position:m},list:[{title:H,description:J,sizeTitle:K,positionTitle:te,sizeDescription:F,positionDescription:G},{title:ge,description:le,sizeTitle:ue,positionTitle:M,sizeDescription:ce,positionDescription:ye},{title:we,description:ze,sizeTitle:je,positionTitle:Z,sizeDescription:We,positionDescription:Be}],title:g,titleSize:v,titlePosition:w,description:I,descriptionSize:E,descriptionPosition:P,hidden:i,image:r,note:De}})}return u.jsxs("div",{className:qi.Form,children:[u.jsx(Ft,{value:i,setValue:s}),Oe&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:De,onChange:$=>Ye($.target.value)}),u.jsxs("div",{className:qi.NoGap,children:[u.jsx("h2",{children:"Блок 1"}),u.jsx(Fn,{className:qi.QuestionIcon,onClick:()=>it(!Oe)})]}),u.jsx(ie,{label:"Текст кнопки",placeholder:"Текст",value:l,onChange:$=>c($.target.value)}),u.jsx(A,{label:"Ссылка кнопки",placeholder:"Ссылка",type:"text",value:f,onChange:$=>p($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:a,onChange:$=>h($.target.value)}),u.jsx(Ae,{position:m,setPosition:_})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:g,onChange:$=>S($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:v,onChange:$=>y($.target.value)}),u.jsx(Ae,{position:w,setPosition:T})]}),u.jsx(ie,{label:"Описание",placeholder:"Текст",value:I,onChange:$=>x($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:E,onChange:$=>k($.target.value)}),u.jsx(Ae,{position:P,setPosition:j})]}),u.jsx(Dn,{path:n+dQ,title:"Логитип (размер 370px-650px)",defaultWidth:370,defaultHeight:650,img:r,onImageChange:o}),u.jsx("h2",{children:"Элементы"}),u.jsx(ie,{label:"Заголовок 1",placeholder:"Ссылка",value:H,onChange:$=>X($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:K,onChange:$=>ne($.target.value)}),u.jsx(Ae,{position:te,setPosition:me})]}),u.jsx(ie,{label:"Описание 1",placeholder:"Текст",value:J,onChange:$=>O($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:F,onChange:$=>B($.target.value)}),u.jsx(Ae,{position:G,setPosition:Q})]}),u.jsx(ie,{label:"Заголовок 2",placeholder:"Ссылка",value:ge,onChange:$=>z($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ue,onChange:$=>re($.target.value)}),u.jsx(Ae,{position:M,setPosition:V})]}),u.jsx(ie,{label:"Описание 2",placeholder:"Текст",value:le,onChange:$=>fe($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ce,onChange:$=>Te($.target.value)}),u.jsx(Ae,{position:ye,setPosition:Re})]}),u.jsx(ie,{label:"Заголовок 3",placeholder:"Ссылка",value:we,onChange:$=>Le($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:je,onChange:$=>Ne($.target.value)}),u.jsx(Ae,{position:Z,setPosition:qe})]}),u.jsx(ie,{label:"Описание 3",placeholder:"Текст",value:ze,onChange:$=>Ve($.target.value)}),u.jsxs("div",{className:qi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:We,onChange:$=>Me($.target.value)}),u.jsx(Ae,{position:Be,setPosition:He})]}),u.jsx(Ue,{onClick:()=>st(),children:"Сохранить"})]})},OY="_Row_hdxrt_31",MY="_Center_hdxrt_45",zY="_QuestionIcon_hdxrt_53",VY="_NoGap_hdxrt_67",kn={Row:OY,Center:MY,QuestionIcon:zY,NoGap:VY},FY=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(!1),[l,c]=d.useState(""),[a,h]=d.useState("32"),[f,p]=d.useState("left"),[m,_]=d.useState(""),[g,S]=d.useState("16"),[v,y]=d.useState("left"),[w,T]=d.useState(""),[I,x]=d.useState("10"),[E,k]=d.useState("left"),[P,j]=d.useState(""),[H,X]=d.useState(""),[K,ne]=d.useState(""),[te,me]=d.useState("20"),[J,O]=d.useState("left"),[F,B]=d.useState(""),[G,Q]=d.useState(""),[ge,z]=d.useState("12"),[ue,re]=d.useState("left"),[M,V]=d.useState(""),[le,fe]=d.useState("20"),[ce,Te]=d.useState("left"),[ye,Re]=d.useState(""),[we,Le]=d.useState("10"),[je,Ne]=d.useState("left"),[Z,qe]=d.useState(""),[ze,Ve]=d.useState(""),[We,Me]=d.useState(""),[Be,He]=d.useState(""),[De,Ye]=d.useState(!1),[Oe,it]=d.useState(!1),[st,$]=d.useState(!1),[Qe,vt]=d.useState(!1),[yt,ut]=d.useState(""),[qt,mn]=d.useState(!1),[Xt,an]=d.useState(""),[Jt,Mt]=d.useState(""),[C,R]=d.useState("");d.useEffect(()=>{var D,se,Ce,Se,_e,pe,be,Xe,Ie,Fe,Je,St,et,zt,ee,Zt,wn,Bn,$n;t&&(an(t.image1||""),Mt(t.image2||""),R(t.image3||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.qrhidden),c(t==null?void 0:t.title),h(t==null?void 0:t.titleSize),p(t==null?void 0:t.titlePosition),_(t==null?void 0:t.description),S(t==null?void 0:t.descriptionSize),y(t==null?void 0:t.descriptionPosition),T(t==null?void 0:t.topText),x(t==null?void 0:t.topTextSize),k(t==null?void 0:t.topTextPosition),j((D=t==null?void 0:t.appBox)==null?void 0:D.appStoreLink),X((se=t==null?void 0:t.appBox)==null?void 0:se.googlePlayLink),ne((Ce=t==null?void 0:t.appBox)==null?void 0:Ce.title),me((Se=t==null?void 0:t.appBox)==null?void 0:Se.appBoxTitleSize),O((_e=t==null?void 0:t.appBox)==null?void 0:_e.appBoxTitlePosition),B((be=(pe=t==null?void 0:t.telegramBox)==null?void 0:pe.button)==null?void 0:be.link),Q((Ie=(Xe=t==null?void 0:t.telegramBox)==null?void 0:Xe.button)==null?void 0:Ie.text),z((Je=(Fe=t==null?void 0:t.telegramBox)==null?void 0:Fe.button)==null?void 0:Je.size),re((et=(St=t==null?void 0:t.telegramBox)==null?void 0:St.button)==null?void 0:et.position),V((zt=t==null?void 0:t.telegramBox)==null?void 0:zt.title),fe((ee=t==null?void 0:t.telegramBox)==null?void 0:ee.telegramBoxTitleSize),Te((Zt=t==null?void 0:t.telegramBox)==null?void 0:Zt.telegramBoxTitlePosition),Re((wn=t==null?void 0:t.telegramBox)==null?void 0:wn.topTitle),Le((Bn=t==null?void 0:t.telegramBox)==null?void 0:Bn.telegramBoxTopTitleSize),Ne(($n=t==null?void 0:t.telegramBox)==null?void 0:$n.telegramBoxTopTitlePosition),qe(t==null?void 0:t.links[0].link),Ve(t==null?void 0:t.links[1].link),Me(t==null?void 0:t.links[2].link),He(t==null?void 0:t.links[3].link),Ye(t==null?void 0:t.links[0].hidden),it(t==null?void 0:t.links[1].hidden),$(t==null?void 0:t.links[2].hidden),vt(t==null?void 0:t.links[3].hidden),ut((t==null?void 0:t.note)||""))},[t]);async function L(){Sn(e,{section10:{title:l,titleSize:a,titlePosition:f,description:m,descriptionSize:g,descriptionPosition:v,topText:w,topTextPosition:E,topTextSize:I,appBox:{appStoreLink:P,googlePlayLink:H,title:K,appBoxTitleSize:te,appBoxTitlePosition:J},links:[{link:Z,hidden:De},{link:ze,hidden:Oe},{link:We,hidden:st},{link:Be,hidden:Qe}],telegramBox:{button:{link:F,text:G,size:ge,position:ue},title:M,telegramBoxTitleSize:le,telegramBoxTitlePosition:ce,topTitle:ye,telegramBoxTopTitlePosition:je,telegramBoxTopTitleSize:we},hidden:i,qrhidden:r,note:yt,image1:Xt,image2:Jt,image3:C}})}return u.jsxs("div",{className:kn.Form,children:[u.jsx(Ft,{value:i,setValue:s}),u.jsx(Ft,{value:r,setValue:o,text:"Скрыть нижний блок"}),qt&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:yt,onChange:D=>ut(D.target.value)}),u.jsxs("div",{className:kn.NoGap,children:[u.jsx("h2",{children:"Блок 10"}),u.jsx(Fn,{className:kn.QuestionIcon,onClick:()=>mn(!qt)})]}),u.jsx(ie,{label:"Основатель",placeholder:"Текст",value:l,onChange:D=>c(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:a,onChange:D=>h(D.target.value)}),u.jsx(Ae,{position:f,setPosition:p})]}),u.jsx(ie,{label:"Описание",placeholder:"Текст",value:m,onChange:D=>_(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:g,onChange:D=>S(D.target.value)}),u.jsx(Ae,{position:v,setPosition:y})]}),u.jsx(ie,{label:"Текст над основателем",placeholder:"Текст",value:w,onChange:D=>T(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:I,onChange:D=>x(D.target.value)}),u.jsx(Ae,{position:E,setPosition:k})]}),u.jsx(Dn,{img:Xt,onImageChange:an,path:n+OQ,title:"Фото основателя (размер 150px-200px)",defaultWidth:150,defaultHeight:200}),u.jsxs("div",{className:`${kn.Row} ${kn.Center}`,children:[u.jsx(A,{label:"Ссылка на Facebook",placeholder:"Ссылка",type:"text",value:Z,onChange:D=>qe(D.target.value)}),u.jsx(Ft,{value:De,setValue:Ye,text:"Скрыть"})]}),u.jsxs("div",{className:`${kn.Row} ${kn.Center}`,children:[u.jsx(A,{label:"Ссылка на Telegram",placeholder:"Ссылка",type:"text",value:ze,onChange:D=>Ve(D.target.value)}),u.jsx(Ft,{value:Oe,setValue:it,text:"Скрыть"})]}),u.jsxs("div",{className:`${kn.Row} ${kn.Center}`,children:[u.jsx(A,{label:"Ссылка на LinkedIn",placeholder:"Ссылка",type:"text",value:We,onChange:D=>Me(D.target.value)}),u.jsx(Ft,{value:st,setValue:$,text:"Скрыть"})]}),u.jsxs("div",{className:`${kn.Row} ${kn.Center}`,children:[u.jsx(A,{label:"Ссылка на Вконтакте",placeholder:"Ссылка",type:"text",value:Be,onChange:D=>He(D.target.value)}),u.jsx(Ft,{value:Qe,setValue:vt,text:"Скрыть"})]}),u.jsx(A,{label:"Ссылка на App Store",placeholder:"Ссылка",type:"text",value:P,onChange:D=>j(D.target.value)}),u.jsx(A,{label:"Ссылка на Google Play",placeholder:"Ссылка",type:"text",value:H,onChange:D=>X(D.target.value)}),u.jsx(ie,{label:"Заголовок для скачивания приложения",placeholder:"Текст",value:K,onChange:D=>ne(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:te,onChange:D=>me(D.target.value)}),u.jsx(Ae,{position:J,setPosition:O})]}),u.jsx(Dn,{img:Jt,onImageChange:Mt,path:n+MQ,title:"QR код для скачивания",defaultWidth:16,defaultHeight:16}),u.jsx(A,{label:"Ссылка кнопки на Telegram Unit Holder",placeholder:"Ссылка",type:"text",value:F,onChange:D=>B(D.target.value)}),u.jsx(ie,{label:"Текст кнопки на Telegram Unit Holder",placeholder:"Текст",value:G,onChange:D=>Q(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ge,onChange:D=>z(D.target.value)}),u.jsx(Ae,{position:ue,setPosition:re})]}),u.jsx(ie,{label:"Заголовок Telegram Unit Holder",placeholder:"Текст",value:M,onChange:D=>V(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:le,onChange:D=>fe(D.target.value)}),u.jsx(Ae,{position:ce,setPosition:Te})]}),u.jsx(ie,{label:"Текст над заголовком Telegram Unit Holder",placeholder:"Текст",value:ye,onChange:D=>Re(D.target.value)}),u.jsxs("div",{className:kn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:we,onChange:D=>Le(D.target.value)}),u.jsx(Ae,{position:je,setPosition:Ne})]}),u.jsx(Dn,{img:C,onImageChange:R,path:n+zQ,title:"QR код Telegram Unit Holder",defaultWidth:16,defaultHeight:16}),u.jsx(Ue,{onClick:()=>L(),children:"Сохранить"})]})},BY="_Form_1lrcl_1",$Y="_Row_1lrcl_29",UY="_Center_1lrcl_43",qY="_QuestionIcon_1lrcl_51",WY="_NoGap_1lrcl_65",vu={Form:BY,Row:$Y,Center:UY,QuestionIcon:qY,NoGap:WY},HY=({data:t,lang:e})=>{const[n,i]=d.useState(!1),[s,r]=d.useState(""),[o,l]=d.useState("32"),[c,a]=d.useState("center"),[h,f]=d.useState(""),[p,m]=d.useState(""),[_,g]=d.useState("14"),[S,v]=d.useState(""),[y,w]=d.useState(!1);d.useEffect(()=>{t&&(v((t==null?void 0:t.note)||""),i(t==null?void 0:t.hidden),r(t==null?void 0:t.title),l(t==null?void 0:t.titleSize),a(t==null?void 0:t.titlePosition),f(t==null?void 0:t.buttonText),m(t==null?void 0:t.buttonTextLink),g(t==null?void 0:t.buttonTextSize))},[t]);async function T(){Sn(e,{section11:{title:s,titleSize:o,titlePosition:c,hidden:n,buttonText:h,buttonTextLink:p,buttonTextSize:_,note:S}})}return u.jsxs("div",{className:vu.Form,children:[u.jsx(Ft,{value:n,setValue:i}),y&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:S,onChange:I=>v(I.target.value)}),u.jsxs("div",{className:vu.NoGap,children:[u.jsx("h2",{children:"Блок 11"}),u.jsx(Fn,{className:vu.QuestionIcon,onClick:()=>w(!y)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:s,onChange:I=>r(I.target.value)}),u.jsxs("div",{className:vu.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:o,onChange:I=>l(I.target.value)}),u.jsx(Ae,{position:c,setPosition:a})]}),u.jsx(ie,{label:"Кнопка",placeholder:"Текст",value:h,onChange:I=>f(I.target.value)}),u.jsxs("div",{className:vu.Row,children:[u.jsx(A,{label:"Ссылка кнопки",placeholder:"Ссылка",type:"text",value:p,onChange:I=>m(I.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:_,onChange:I=>g(I.target.value)})]}),u.jsx(Ue,{onClick:T,children:"Сохранить"})]})},GY="_Row_1172n_31",KY="_Center_1172n_45",QY="_QuestionIcon_1172n_53",YY="_NoGap_1172n_67",xn={Row:GY,Center:KY,QuestionIcon:QY,NoGap:YY},XY=({lang:t,data:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("32"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("14"),[g,S]=d.useState("center"),[v,y]=d.useState(""),[w,T]=d.useState("14"),[I,x]=d.useState(""),[E,k]=d.useState("14"),[P,j]=d.useState(""),[H,X]=d.useState("14"),[K,ne]=d.useState("center"),[te,me]=d.useState(""),[J,O]=d.useState("14"),[F,B]=d.useState(""),[G,Q]=d.useState("14"),[ge,z]=d.useState(""),[ue,re]=d.useState("14"),[M,V]=d.useState("center"),[le,fe]=d.useState(""),[ce,Te]=d.useState("14"),[ye,Re]=d.useState(""),[we,Le]=d.useState("14"),[je,Ne]=d.useState(""),[Z,qe]=d.useState("14"),[ze,Ve]=d.useState("center"),[We,Me]=d.useState(""),[Be,He]=d.useState("14"),[De,Ye]=d.useState(""),[Oe,it]=d.useState("14"),[st,$]=d.useState(""),[Qe,vt]=d.useState("14"),[yt,ut]=d.useState("center"),[qt,mn]=d.useState(""),[Xt,an]=d.useState("14"),[Jt,Mt]=d.useState(""),[C,R]=d.useState("14"),[L,D]=d.useState(""),[se,Ce]=d.useState(!1),[Se,_e]=d.useState(""),[pe,be]=d.useState(""),[Xe,Ie]=d.useState(""),[Fe,Je]=d.useState(""),[St,et]=d.useState("");d.useEffect(()=>{e&&(_e((e==null?void 0:e.image1)||""),be((e==null?void 0:e.image2)||""),Ie((e==null?void 0:e.image3)||""),Je((e==null?void 0:e.image4)||""),et((e==null?void 0:e.image5)||""),s(e==null?void 0:e.hidden),o(e==null?void 0:e.title),c(e==null?void 0:e.titleSize),h(e==null?void 0:e.titlePosition),p(e==null?void 0:e.reviews[0].title),_(e==null?void 0:e.reviews[0].titleSize),S(e==null?void 0:e.reviews[0].titlePosition),y(e==null?void 0:e.reviews[0].username),T(e==null?void 0:e.reviews[0].usernameSize),x(e==null?void 0:e.reviews[0].tag),k(e==null?void 0:e.reviews[0].tagSize),j(e==null?void 0:e.reviews[1].title),X(e==null?void 0:e.reviews[1].titleSize),ne(e==null?void 0:e.reviews[1].titlePosition),me(e==null?void 0:e.reviews[1].username),O(e==null?void 0:e.reviews[1].usernameSize),B(e==null?void 0:e.reviews[1].tag),Q(e==null?void 0:e.reviews[1].tagSize),z(e==null?void 0:e.reviews[2].title),re(e==null?void 0:e.reviews[2].titleSize),fe(e==null?void 0:e.reviews[2].username),V(e==null?void 0:e.reviews[2].titlePosition),Te(e==null?void 0:e.reviews[2].usernameSize),Re(e==null?void 0:e.reviews[2].tag),Le(e==null?void 0:e.reviews[2].tagSize),Ne(e==null?void 0:e.reviews[3].title),qe(e==null?void 0:e.reviews[3].titleSize),Ve(e==null?void 0:e.reviews[3].titlePosition),Me(e==null?void 0:e.reviews[3].username),He(e==null?void 0:e.reviews[3].usernameSize),Ye(e==null?void 0:e.reviews[3].tag),it(e==null?void 0:e.reviews[3].tagSize),$(e==null?void 0:e.reviews[4].title),vt(e==null?void 0:e.reviews[4].titleSize),ut(e==null?void 0:e.reviews[4].titlePosition),mn(e==null?void 0:e.reviews[4].username),an(e==null?void 0:e.reviews[4].usernameSize),Mt(e==null?void 0:e.reviews[4].tag),R(e==null?void 0:e.reviews[4].tagSize),D((e==null?void 0:e.note)||""))},[e]);async function zt(){Sn(t,{section12:{title:r,titleSize:l,titlePosition:a,hidden:i,note:L,image1:Se,image2:pe,image3:Xe,image4:Fe,image5:St,reviews:[{title:f,titleSize:m,username:v,titlePosition:g,usernameSize:w,tag:I,tagSize:E},{title:P,titleSize:H,titlePosition:K,username:te,usernameSize:J,tag:F,tagSize:G},{title:ge,titleSize:ue,titlePosition:M,username:le,usernameSize:ce,tag:ye,tagSize:we},{title:je,titleSize:Z,titlePosition:ze,username:We,usernameSize:Be,tag:De,tagSize:Oe},{title:st,titleSize:Qe,titlePosition:yt,username:qt,usernameSize:Xt,tag:Jt,tagSize:C}]}})}return u.jsxs("div",{className:xn.Form,children:[u.jsx(Ft,{value:i,setValue:s}),se&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:L,onChange:ee=>D(ee.target.value)}),u.jsxs("div",{className:xn.NoGap,children:[u.jsx("h2",{children:"Блок 12"}),u.jsx(Fn,{className:xn.QuestionIcon,onClick:()=>Ce(!se)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:ee=>o(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:ee=>c(ee.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx("h2",{children:"Элементы"}),u.jsx("h3",{children:"Отзыв #1"}),u.jsx(Dn,{img:Se,onImageChange:_e,path:n+lQ,title:"Изображение комментария 1 (размер 50px-50px)",defaultWidth:50,defaultHeight:50}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:f,onChange:ee=>p(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:m,onChange:ee=>_(ee.target.value)}),u.jsx(Ae,{position:g,setPosition:S})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Пользлватель",placeholder:"Текст",type:"text",value:v,onChange:ee=>y(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:w,onChange:ee=>T(ee.target.value)})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Тэг",placeholder:"Текст",type:"text",value:I,onChange:ee=>x(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:E,onChange:ee=>k(ee.target.value)})]}),u.jsx("h3",{children:"Отзыв #2"}),u.jsx(Dn,{img:pe,onImageChange:be,path:n+cQ,title:"Изображение комментария 2 (размер 50px-50px)",defaultWidth:50,defaultHeight:50}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:P,onChange:ee=>j(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:H,onChange:ee=>X(ee.target.value)}),u.jsx(Ae,{position:K,setPosition:ne})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Пользлватель",placeholder:"Текст",type:"text",value:te,onChange:ee=>me(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:J,onChange:ee=>O(ee.target.value)})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Тэг",placeholder:"Текст",type:"text",value:F,onChange:ee=>B(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:G,onChange:ee=>Q(ee.target.value)})]}),u.jsx("h3",{children:"Отзыв #3"}),u.jsx(Dn,{img:Xe,onImageChange:Ie,path:n+aQ,title:"Изображение комментария 3 (размер 50px-50px)",defaultWidth:50,defaultHeight:50}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:ge,onChange:ee=>z(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ue,onChange:ee=>re(ee.target.value)}),u.jsx(Ae,{position:M,setPosition:V})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Пользлватель",placeholder:"Текст",type:"text",value:le,onChange:ee=>fe(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ce,onChange:ee=>Te(ee.target.value)})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Тэг",placeholder:"Текст",type:"text",value:ye,onChange:ee=>Re(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:we,onChange:ee=>Le(ee.target.value)})]}),u.jsx("h3",{children:"Отзыв #4"}),u.jsx(Dn,{img:Fe,onImageChange:Je,path:n+uQ,title:"Изображение комментария 4 (размер 50px-50px)",defaultWidth:50,defaultHeight:50}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:je,onChange:ee=>Ne(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Z,onChange:ee=>qe(ee.target.value)}),u.jsx(Ae,{position:ze,setPosition:Ve})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Пользлватель",placeholder:"Текст",type:"text",value:We,onChange:ee=>Me(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Be,onChange:ee=>He(ee.target.value)})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Тэг",placeholder:"Текст",type:"text",value:De,onChange:ee=>Ye(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Oe,onChange:ee=>it(ee.target.value)})]}),u.jsx("h3",{children:"Отзыв #5"}),u.jsx(Dn,{img:St,onImageChange:et,path:n+hQ,title:"Изображение комментария 5 (размер 50px-50px)",defaultWidth:50,defaultHeight:50}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:st,onChange:ee=>$(ee.target.value)}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Qe,onChange:ee=>vt(ee.target.value)}),u.jsx(Ae,{position:yt,setPosition:ut})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Пользлватель",placeholder:"Текст",type:"text",value:qt,onChange:ee=>mn(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:Xt,onChange:ee=>an(ee.target.value)})]}),u.jsxs("div",{className:xn.Row,children:[u.jsx(A,{label:"Тэг",placeholder:"Текст",type:"text",value:Jt,onChange:ee=>Mt(ee.target.value)}),u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:C,onChange:ee=>R(ee.target.value)})]}),u.jsx(Ue,{onClick:()=>zt(),children:"Сохранить"})]})},JY="_Row_1g04g_31",ZY="_Center_1g04g_45",eX="_QuestionIcon_1g04g_53",tX="_NoGap_1g04g_67",Ct={Row:JY,Center:ZY,QuestionIcon:eX,NoGap:tX},nX=({data:t,lang:e})=>{const[n,i]=d.useState(!1),[s,r]=d.useState(""),[o,l]=d.useState(""),[c,a]=d.useState(""),[h,f]=d.useState(""),[p,m]=d.useState(""),[_,g]=d.useState(""),[S,v]=d.useState(""),[y,w]=d.useState(""),[T,I]=d.useState(""),[x,E]=d.useState(""),[k,P]=d.useState(""),[j,H]=d.useState(""),[X,K]=d.useState(""),[ne,te]=d.useState(""),[me,J]=d.useState(""),[O,F]=d.useState(""),[B,G]=d.useState(""),[Q,ge]=d.useState(""),[z,ue]=d.useState(""),[re,M]=d.useState(""),[V,le]=d.useState(""),[fe,ce]=d.useState(""),[Te,ye]=d.useState(""),[Re,we]=d.useState(""),[Le,je]=d.useState(""),[Ne,Z]=d.useState(""),[qe,ze]=d.useState(""),[Ve,We]=d.useState(""),[Me,Be]=d.useState(""),[He,De]=d.useState(""),[Ye,Oe]=d.useState(""),[it,st]=d.useState(""),[$,Qe]=d.useState(""),[vt,yt]=d.useState(""),[ut,qt]=d.useState(""),[mn,Xt]=d.useState(""),[an,Jt]=d.useState(""),[Mt,C]=d.useState(""),[R,L]=d.useState(""),[D,se]=d.useState(""),[Ce,Se]=d.useState(""),[_e,pe]=d.useState(""),[be,Xe]=d.useState(""),[Ie,Fe]=d.useState(""),[Je,St]=d.useState(""),[et,zt]=d.useState(""),[ee,Zt]=d.useState(""),[wn,Bn]=d.useState(""),[$n,kr]=d.useState(""),[Rr,rs]=d.useState(""),[Ws,_t]=d.useState(""),[xt,ci]=d.useState(""),[Hs,Ql]=d.useState(""),[Nd,Dd]=d.useState(""),[Ld,jd]=d.useState(""),[Od,Md]=d.useState(""),[zd,F3]=d.useState(!1);d.useEffect(()=>{t&&(i(t==null?void 0:t.hidden),r(t.links[0].title),l(t.links[0].link[0].name),a(t.links[0].link[0].url),f(t.links[0].link[1].name),m(t.links[0].link[1].url),g(t.links[0].link[2].name),v(t.links[0].link[2].url),w(t.links[0].link[3].name),I(t.links[0].link[3].url),E(t.links[0].link[4].name),P(t.links[0].link[4].url),H(t.links[1].title),K(t.links[1].link[0].name),te(t.links[1].link[0].url),J(t.links[1].link[1].name),F(t.links[1].link[1].url),G(t.links[1].link[2].name),ge(t.links[1].link[2].url),ue(t.links[1].link[3].name),M(t.links[1].link[3].url),le(t.links[1].link[4].name),ce(t.links[1].link[4].url),ye(t.links[2].title),we(t.links[2].link[0].name),je(t.links[2].link[0].url),Z(t.links[2].link[1].name),ze(t.links[2].link[1].url),We(t.links[2].link[2].name),Be(t.links[2].link[2].url),De(t.links[2].link[3].name),Oe(t.links[2].link[3].url),st(t.links[2].link[4].name),Qe(t.links[2].link[4].url),yt(t.links[3].title),qt(t.links[3].link[0].name),Xt(t.links[3].link[0].url),Jt(t.links[3].link[1].name),C(t.links[3].link[1].url),L(t.links[3].link[2].name),se(t.links[3].link[2].url),Se(t.links[3].link[3].name),pe(t.links[3].link[3].url),Xe(t.links[3].link[4].name),Fe(t.links[3].link[4].url),St(t.links[4].title),zt(t.links[4].link[0].name),Zt(t.links[4].link[0].url),Bn(t.links[4].link[1].name),kr(t.links[4].link[1].url),rs(t.links[4].link[2].name),_t(t.links[4].link[2].url),ci(t.links[4].link[3].name),Ql(t.links[4].link[3].url),Dd(t.links[4].link[4].name),jd(t.links[4].link[4].url),Md(t.note||""))},[t]);async function B3(){Sn(e,{section13:{hidden:n,note:Od,links:[{title:s,link:[{name:o,url:c},{name:h,url:p},{name:_,url:S},{name:y,url:T},{name:x,url:k}]},{title:j,link:[{name:X,url:ne},{name:me,url:O},{name:B,url:Q},{name:z,url:re},{name:V,url:fe}]},{title:Te,link:[{name:Re,url:Le},{name:Ne,url:qe},{name:Ve,url:Me},{name:He,url:Ye},{name:it,url:$}]},{title:vt,link:[{name:ut,url:mn},{name:an,url:Mt},{name:R,url:D},{name:Ce,url:_e},{name:be,url:Ie}]},{title:Je,link:[{name:et,url:ee},{name:wn,url:$n},{name:Rr,url:Ws},{name:xt,url:Hs},{name:Nd,url:Ld}]}]}})}return u.jsxs("div",{className:Ct.Form,children:[u.jsx(Ft,{value:n,setValue:i}),zd&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:Od,onChange:U=>Md(U.target.value)}),u.jsxs("div",{className:Ct.NoGap,children:[u.jsx("h2",{children:"Блок 13"}),u.jsx(Fn,{className:Ct.QuestionIcon,onClick:()=>F3(!zd)})]}),u.jsx("h3",{children:"Блок ссылок #1"}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:s,onChange:U=>r(U.target.value)}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:o,onChange:U=>l(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:c,onChange:U=>a(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:h,onChange:U=>f(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:p,onChange:U=>m(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:_,onChange:U=>g(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:S,onChange:U=>v(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:y,onChange:U=>w(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:T,onChange:U=>I(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:x,onChange:U=>E(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:k,onChange:U=>P(U.target.value)})]}),u.jsx("h3",{children:"Блок ссылок #2"}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:j,onChange:U=>H(U.target.value)}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:X,onChange:U=>K(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:ne,onChange:U=>te(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:me,onChange:U=>J(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:O,onChange:U=>F(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:B,onChange:U=>G(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Q,onChange:U=>ge(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:z,onChange:U=>ue(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:re,onChange:U=>M(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:V,onChange:U=>le(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:fe,onChange:U=>ce(U.target.value)})]}),u.jsx("h3",{children:"Блок ссылок #3"}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:Te,onChange:U=>ye(U.target.value)}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Re,onChange:U=>we(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Le,onChange:U=>je(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Ne,onChange:U=>Z(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:qe,onChange:U=>ze(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Ve,onChange:U=>We(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Me,onChange:U=>Be(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:He,onChange:U=>De(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Ye,onChange:U=>Oe(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:it,onChange:U=>st(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:$,onChange:U=>Qe(U.target.value)})]}),u.jsx("h3",{children:"Блок ссылок #4"}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:vt,onChange:U=>yt(U.target.value)}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:ut,onChange:U=>qt(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:mn,onChange:U=>Xt(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:an,onChange:U=>Jt(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Mt,onChange:U=>C(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:R,onChange:U=>L(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:D,onChange:U=>se(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Ce,onChange:U=>Se(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:_e,onChange:U=>pe(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:be,onChange:U=>Xe(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Ie,onChange:U=>Fe(U.target.value)})]}),u.jsx("h3",{children:"Блок ссылок #5"}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:Je,onChange:U=>St(U.target.value)}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:et,onChange:U=>zt(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:ee,onChange:U=>Zt(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:wn,onChange:U=>Bn(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:$n,onChange:U=>kr(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Rr,onChange:U=>rs(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Ws,onChange:U=>_t(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:xt,onChange:U=>ci(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Hs,onChange:U=>Ql(U.target.value)})]}),u.jsxs("div",{className:Ct.Row,children:[u.jsx(A,{label:"Ссылка",placeholder:"Текст",type:"text",value:Nd,onChange:U=>Dd(U.target.value)}),u.jsx(A,{label:"URL",placeholder:"https://example.com/",type:"text",value:Ld,onChange:U=>jd(U.target.value)})]}),u.jsx(Ue,{onClick:()=>B3(),children:"Сохранить"})]})},iX="_Row_picxg_31",sX="_QuestionIcon_picxg_45",rX="_NoGap_picxg_59",rv={Row:iX,QuestionIcon:sX,NoGap:rX},oX="_Item_10ht0_1",lX="_Row_10ht0_15",ov={Item:oX,Row:lX},lv=({count:t,inputOnChange:e,inputValue:n,path:i,textareaOnChange:s,textareaValue:r,inputSize:o,inputSizeOnchange:l,textareaSize:c,textareaSizeOnchange:a,inputPosition:h,inputPositionOnchange:f,textareaPosition:p,textareaPositionOnchange:m,image:_,setImage:g})=>u.jsxs("div",{className:ov.Item,children:[u.jsx(ie,{label:`Заголовок ${t}`,placeholder:"Ссылка",value:n,onChange:S=>e(S.target.value)}),u.jsxs("div",{className:ov.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:o,onChange:S=>l(S.target.value)}),u.jsx(Ae,{position:h,setPosition:f})]}),u.jsx(ie,{label:`Описание ${t}`,placeholder:"Текст",value:r,onChange:S=>s(S.target.value)}),u.jsxs("div",{className:ov.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:c,onChange:S=>a(S.target.value)}),u.jsx(Ae,{position:p,setPosition:m})]}),u.jsx(Dn,{img:_,onImageChange:g,path:i,title:`Изображение ${t} (размер 350px-350px)`,defaultWidth:350,defaultHeight:350})]}),cX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("24"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("16"),[g,S]=d.useState("center"),[v,y]=d.useState(""),[w,T]=d.useState("24"),[I,x]=d.useState("center"),[E,k]=d.useState(""),[P,j]=d.useState("16"),[H,X]=d.useState("center"),[K,ne]=d.useState(""),[te,me]=d.useState("24"),[J,O]=d.useState("center"),[F,B]=d.useState(""),[G,Q]=d.useState("16"),[ge,z]=d.useState("center"),[ue,re]=d.useState(""),[M,V]=d.useState(""),[le,fe]=d.useState(""),[ce,Te]=d.useState(""),[ye,Re]=d.useState(!1);d.useEffect(()=>{t&&(re((t==null?void 0:t.image1)||""),V((t==null?void 0:t.image2)||""),fe((t==null?void 0:t.image3)||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.items[0].title),c(t==null?void 0:t.items[0].sizeTitle),h(t==null?void 0:t.items[0].positionTitle),p(t==null?void 0:t.items[0].description),_(t==null?void 0:t.items[0].sizeDescription),S(t==null?void 0:t.items[0].positionDescription),y(t==null?void 0:t.items[1].title),T(t==null?void 0:t.items[1].sizeTitle),x(t==null?void 0:t.items[1].positionTitle),k(t==null?void 0:t.items[1].description),j(t==null?void 0:t.items[1].sizeDescription),X(t==null?void 0:t.items[1].positionDescription),ne(t==null?void 0:t.items[2].title),me(t==null?void 0:t.items[2].sizeTitle),O(t==null?void 0:t.items[2].positionTitle),B(t==null?void 0:t.items[2].description),Q(t==null?void 0:t.items[2].sizeDescription),z(t==null?void 0:t.items[2].positionDescription),Te((t==null?void 0:t.note)||""))},[t]);async function we(){Sn(e,{section2:{image1:ue,image2:M,image3:le,items:[{title:r,description:f,sizeTitle:l,positionTitle:a,sizeDescription:m,positionDescription:g},{title:v,description:E,sizeTitle:w,positionTitle:I,sizeDescription:P,positionDescription:H},{title:K,description:F,sizeTitle:te,positionTitle:J,sizeDescription:G,positionDescription:ge}],hidden:i,note:ce}})}return u.jsxs("div",{className:rv.Form,children:[u.jsx(Ft,{value:i,setValue:s}),ye&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:ce,onChange:Le=>Te(Le.target.value)}),u.jsxs("div",{className:rv.NoGap,children:[u.jsx("h2",{children:"Блок 2"}),u.jsx(Fn,{className:rv.QuestionIcon,onClick:()=>Re(!ye)})]}),u.jsx(lv,{image:ue,setImage:re,count:"1",inputOnChange:o,inputValue:r,path:n+fQ,textareaOnChange:p,textareaValue:f,inputSize:l,inputSizeOnchange:c,textareaSize:m,textareaSizeOnchange:_,inputPosition:a,inputPositionOnchange:h,textareaPosition:g,textareaPositionOnchange:S}),u.jsx(lv,{image:M,setImage:V,count:"2",inputOnChange:y,inputValue:v,path:n+pQ,textareaOnChange:k,textareaValue:E,inputSize:w,inputSizeOnchange:T,textareaSize:P,textareaSizeOnchange:j,inputPosition:I,inputPositionOnchange:x,textareaPosition:H,textareaPositionOnchange:X}),u.jsx(lv,{image:le,setImage:fe,count:"3",inputOnChange:ne,inputValue:K,path:n+mQ,textareaOnChange:B,textareaValue:F,inputSize:te,inputSizeOnchange:me,textareaSize:G,textareaSizeOnchange:Q,inputPosition:J,inputPositionOnchange:O,textareaPosition:ge,textareaPositionOnchange:z}),u.jsx(Ue,{onClick:()=>we(),children:"Сохранить"})]})},aX="_Row_wc7dc_23",uX="_Form_wc7dc_1",hX="_QuestionIcon_wc7dc_45",dX="_NoGap_wc7dc_59",Cf={Row:aX,Form:uX,QuestionIcon:hX,NoGap:dX},fX="_Item_10ht0_1",pX="_Row_10ht0_15",cv={Item:fX,Row:pX},kf=({count:t,inputOnChange:e,inputValue:n,path:i,textareaOnChange:s,textareaValue:r,inputSize:o,inputSizeOnchange:l,textareaSize:c,textareaSizeOnchange:a,inputPosition:h,inputPositionOnchange:f,textareaPosition:p,textareaPositionOnchange:m,image:_,setImage:g})=>u.jsxs("div",{className:cv.Item,children:[u.jsx(ie,{label:`Заголовок ${t}`,placeholder:"Ссылка",value:n,onChange:S=>e(S.target.value)}),u.jsxs("div",{className:cv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:o,onChange:S=>l(S.target.value)}),u.jsx(Ae,{position:h,setPosition:f})]}),u.jsx(ie,{label:`Описание ${t}`,placeholder:"Текст",value:r,onChange:S=>s(S.target.value)}),u.jsxs("div",{className:cv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:c,onChange:S=>a(S.target.value)}),u.jsx(Ae,{position:p,setPosition:m})]}),u.jsx(Dn,{img:_,onImageChange:g,path:i,title:`Изображение ${t} (размер 570px-320px)`,defaultWidth:570,defaultHeight:320})]}),mX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("48"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("24"),[g,S]=d.useState("left"),[v,y]=d.useState(""),[w,T]=d.useState("16"),[I,x]=d.useState("left"),[E,k]=d.useState(""),[P,j]=d.useState("24"),[H,X]=d.useState("left"),[K,ne]=d.useState(""),[te,me]=d.useState("16"),[J,O]=d.useState("left"),[F,B]=d.useState(""),[G,Q]=d.useState("24"),[ge,z]=d.useState("left"),[ue,re]=d.useState(""),[M,V]=d.useState("16"),[le,fe]=d.useState("left"),[ce,Te]=d.useState(""),[ye,Re]=d.useState("24"),[we,Le]=d.useState("left"),[je,Ne]=d.useState(""),[Z,qe]=d.useState("16"),[ze,Ve]=d.useState("left"),[We,Me]=d.useState(""),[Be,He]=d.useState(!1),[De,Ye]=d.useState(""),[Oe,it]=d.useState(""),[st,$]=d.useState(""),[Qe,vt]=d.useState("");d.useEffect(()=>{t&&(Ye((t==null?void 0:t.image1)||""),it((t==null?void 0:t.image2)||""),$((t==null?void 0:t.image3)||""),vt((t==null?void 0:t.image4)||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.title),c(t==null?void 0:t.titleSize),h(t==null?void 0:t.titlePosition),p(t==null?void 0:t.items[0].title),_(t==null?void 0:t.items[0].sizeTitle),S(t==null?void 0:t.items[0].positionTitle),y(t==null?void 0:t.items[0].description),T(t==null?void 0:t.items[0].sizeDescription),x(t==null?void 0:t.items[0].positionDescription),k(t==null?void 0:t.items[1].title),j(t==null?void 0:t.items[1].sizeTitle),X(t==null?void 0:t.items[1].positionTitle),ne(t==null?void 0:t.items[1].description),me(t==null?void 0:t.items[1].sizeDescription),O(t==null?void 0:t.items[1].positionDescription),B(t==null?void 0:t.items[2].title),Q(t==null?void 0:t.items[2].sizeTitle),z(t==null?void 0:t.items[2].positionTitle),re(t==null?void 0:t.items[2].description),V(t==null?void 0:t.items[2].sizeDescription),fe(t==null?void 0:t.items[2].positionDescription),Te(t==null?void 0:t.items[3].title),Re(t==null?void 0:t.items[3].sizeTitle),Le(t==null?void 0:t.items[3].positionTitle),Ne(t==null?void 0:t.items[3].description),qe(t==null?void 0:t.items[3].sizeDescription),Ve(t==null?void 0:t.items[3].positionDescription),Me((t==null?void 0:t.note)||""))},[t]);async function yt(){Sn(e,{section3:{items:[{title:f,description:v,positionTitle:g,sizeTitle:m,positionDescription:I,sizeDescription:w},{title:E,description:K,positionTitle:H,sizeTitle:P,positionDescription:J,sizeDescription:te},{title:F,description:ue,positionTitle:ge,sizeTitle:G,positionDescription:le,sizeDescription:M},{title:ce,description:je,positionTitle:we,sizeTitle:ye,positionDescription:ze,sizeDescription:Z}],title:r,titlePosition:a,titleSize:l,hidden:i,note:We,image1:De,image2:Oe,image3:st,image4:Qe}})}return u.jsxs("div",{className:Cf.Form,children:[u.jsx(Ft,{value:i,setValue:s}),Be&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:We,onChange:ut=>Me(ut.target.value)}),u.jsxs("div",{className:Cf.NoGap,children:[u.jsx("h2",{children:"Блок 3"}),u.jsx(Fn,{className:Cf.QuestionIcon,onClick:()=>He(!Be)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:ut=>o(ut.target.value)}),u.jsxs("div",{className:Cf.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:ut=>c(ut.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx("h2",{children:"Элементы"}),u.jsx(kf,{setImage:Ye,image:De,count:"1",inputOnChange:p,inputValue:f,path:n+gQ,textareaOnChange:y,textareaValue:v,inputSize:m,inputSizeOnchange:_,textareaSize:w,textareaSizeOnchange:T,inputPosition:g,inputPositionOnchange:S,textareaPosition:I,textareaPositionOnchange:x}),u.jsx(kf,{setImage:it,image:Oe,count:"2",inputOnChange:k,inputValue:E,path:n+_Q,textareaOnChange:ne,textareaValue:K,inputSize:P,inputSizeOnchange:j,textareaSize:te,textareaSizeOnchange:me,inputPosition:H,inputPositionOnchange:X,textareaPosition:J,textareaPositionOnchange:O}),u.jsx(kf,{setImage:$,image:st,count:"3",inputOnChange:B,inputValue:F,path:n+vQ,textareaOnChange:re,textareaValue:ue,inputSize:G,inputSizeOnchange:Q,textareaSize:M,textareaSizeOnchange:V,inputPosition:ge,inputPositionOnchange:z,textareaPosition:le,textareaPositionOnchange:fe}),u.jsx(kf,{setImage:vt,image:Qe,count:"4",inputOnChange:Te,inputValue:ce,path:n+yQ,textareaOnChange:Ne,textareaValue:je,inputSize:ye,inputSizeOnchange:Re,textareaSize:Z,textareaSizeOnchange:qe,inputPosition:we,inputPositionOnchange:Le,textareaPosition:ze,textareaPositionOnchange:Ve}),u.jsx(Ue,{onClick:()=>yt(),children:"Сохранить"})]})},gX="_Row_picxg_31",_X="_QuestionIcon_picxg_45",vX="_NoGap_picxg_59",Wi={Row:gX,QuestionIcon:_X,NoGap:vX},yX=({lang:t,data:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState(""),[a,h]=d.useState("48"),[f,p]=d.useState("center"),[m,_]=d.useState(""),[g,S]=d.useState("24"),[v,y]=d.useState("left"),[w,T]=d.useState(""),[I,x]=d.useState("16"),[E,k]=d.useState("left"),[P,j]=d.useState(""),[H,X]=d.useState("24"),[K,ne]=d.useState("left"),[te,me]=d.useState(""),[J,O]=d.useState("16"),[F,B]=d.useState("left"),[G,Q]=d.useState(""),[ge,z]=d.useState("24"),[ue,re]=d.useState("left"),[M,V]=d.useState(""),[le,fe]=d.useState("16"),[ce,Te]=d.useState("left"),[ye,Re]=d.useState(""),[we,Le]=d.useState("24"),[je,Ne]=d.useState("left"),[Z,qe]=d.useState(""),[ze,Ve]=d.useState("16"),[We,Me]=d.useState("left"),[Be,He]=d.useState(""),[De,Ye]=d.useState(!1),[Oe,it]=d.useState(!0);d.useEffect(()=>{e&&(o((e==null?void 0:e.video)||""),s(e==null?void 0:e.hidden),c(e==null?void 0:e.title),h(e==null?void 0:e.titleSize),p(e==null?void 0:e.titlePosition),_(e==null?void 0:e.items[0].title),S(e==null?void 0:e.items[0].sizeTitle),y(e==null?void 0:e.items[0].positionTitle),T(e==null?void 0:e.items[0].description),x(e==null?void 0:e.items[0].sizeDescription),k(e==null?void 0:e.items[0].positionDescription),j(e==null?void 0:e.items[1].title),X(e==null?void 0:e.items[1].sizeTitle),ne(e==null?void 0:e.items[1].positionTitle),me(e==null?void 0:e.items[1].description),O(e==null?void 0:e.items[1].sizeDescription),B(e==null?void 0:e.items[1].positionDescription),Q(e==null?void 0:e.items[2].title),z(e==null?void 0:e.items[2].sizeTitle),re(e==null?void 0:e.items[2].positionTitle),V(e==null?void 0:e.items[2].description),fe(e==null?void 0:e.items[2].sizeDescription),Te(e==null?void 0:e.items[2].positionDescription),Re(e==null?void 0:e.items[3].title),Le(e==null?void 0:e.items[3].sizeTitle),Ne(e==null?void 0:e.items[3].positionTitle),qe(e==null?void 0:e.items[3].description),Ve(e==null?void 0:e.items[3].sizeDescription),Me(e==null?void 0:e.items[3].positionDescription),He((e==null?void 0:e.note)||""))},[e]);async function st(){Sn(t,{section4:{items:[{title:m,description:w,positionTitle:v,sizeTitle:g,positionDescription:E,sizeDescription:I},{title:P,description:te,positionTitle:K,sizeTitle:H,positionDescription:F,sizeDescription:J},{title:G,description:M,positionTitle:ue,sizeTitle:ge,positionDescription:ce,sizeDescription:le},{title:ye,description:Z,positionTitle:je,sizeTitle:we,positionDescription:We,sizeDescription:ze}],title:l,titleSize:a,titlePosition:f,hidden:i,note:Be,video:r,isImage:Oe}})}return u.jsxs("div",{className:Wi.Form,children:[u.jsx(Ft,{value:i,setValue:s}),De&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:Be,onChange:$=>He($.target.value)}),u.jsxs("div",{className:Wi.NoGap,children:[u.jsx("h2",{children:"Блок 4"}),u.jsx(Fn,{className:Wi.QuestionIcon,onClick:()=>Ye(!De)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:l,onChange:$=>c($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:a,onChange:$=>h($.target.value)}),u.jsx(Ae,{position:f,setPosition:p})]}),u.jsx(Ft,{value:Oe,setValue:it,text:Oe?"Загрузить фото":"Загрузить видео"}),u.jsx(Dn,{resize:Oe,onImageChange:o,img:r,path:n+SQ,title:"Видео",defaultWidth:1200,defaultHeight:675}),u.jsx("h2",{children:"Элементы"}),u.jsx(ie,{label:"Заголовок 1",placeholder:"Ссылка",value:m,onChange:$=>_($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:g,onChange:$=>S($.target.value)}),u.jsx(Ae,{position:v,setPosition:y})]}),u.jsx(ie,{label:"Описание 1",placeholder:"Текст",value:w,onChange:$=>T($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:I,onChange:$=>x($.target.value)}),u.jsx(Ae,{position:E,setPosition:k})]}),u.jsx(ie,{label:"Заголовок 2",placeholder:"Ссылка",value:P,onChange:$=>j($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:H,onChange:$=>X($.target.value)}),u.jsx(Ae,{position:K,setPosition:ne})]}),u.jsx(ie,{label:"Описание 2",placeholder:"Текст",value:te,onChange:$=>me($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:J,onChange:$=>O($.target.value)}),u.jsx(Ae,{position:F,setPosition:B})]}),u.jsx(ie,{label:"Заголовок 3",placeholder:"Ссылка",value:G,onChange:$=>Q($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ge,onChange:$=>z($.target.value)}),u.jsx(Ae,{position:ue,setPosition:re})]}),u.jsx(ie,{label:"Описание 3",placeholder:"Текст",value:M,onChange:$=>V($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:le,onChange:$=>fe($.target.value)}),u.jsx(Ae,{position:ce,setPosition:Te})]}),u.jsx(ie,{label:"Заголовок 4",placeholder:"Ссылка",value:ye,onChange:$=>Re($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:we,onChange:$=>Le($.target.value)}),u.jsx(Ae,{position:je,setPosition:Ne})]}),u.jsx(ie,{label:"Описание 4",placeholder:"Текст",value:Z,onChange:$=>qe($.target.value)}),u.jsxs("div",{className:Wi.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:ze,onChange:$=>Ve($.target.value)}),u.jsx(Ae,{position:We,setPosition:Me})]}),u.jsx(Ue,{onClick:()=>st(),children:"Сохранить"})]})},SX="_Row_picxg_31",wX="_QuestionIcon_picxg_45",xX="_NoGap_picxg_59",zo={Row:SX,QuestionIcon:wX,NoGap:xX},TX=({lang:t,data:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState(""),[a,h]=d.useState("38"),[f,p]=d.useState("left"),[m,_]=d.useState(""),[g,S]=d.useState("16"),[v,y]=d.useState("left"),[w,T]=d.useState(""),[I,x]=d.useState(""),[E,k]=d.useState("12"),[P,j]=d.useState("center"),[H,X]=d.useState(""),[K,ne]=d.useState("14"),[te,me]=d.useState("left"),[J,O]=d.useState(""),[F,B]=d.useState(""),[G,Q]=d.useState(!1);d.useEffect(()=>{var z,ue,re,M,V,le,fe,ce;e&&(o((e==null?void 0:e.image)||""),s(e==null?void 0:e.hidden),c(e==null?void 0:e.title),h(e==null?void 0:e.titleSize),p(e==null?void 0:e.titlePosition),_(e==null?void 0:e.description),S(e==null?void 0:e.descriptionSize),y(e==null?void 0:e.descriptionPosition),T((z=e==null?void 0:e.button)==null?void 0:z.link),x((ue=e==null?void 0:e.button)==null?void 0:ue.text),k((re=e==null?void 0:e.button)==null?void 0:re.buttonTextSize),j((M=e==null?void 0:e.button)==null?void 0:M.buttonTextPosition),X((V=e==null?void 0:e.input)==null?void 0:V.label),ne((le=e==null?void 0:e.input)==null?void 0:le.inputLabelSize),me((fe=e==null?void 0:e.input)==null?void 0:fe.inputLabelPosition),O((ce=e==null?void 0:e.input)==null?void 0:ce.placeholder),B((e==null?void 0:e.note)||""))},[e]);async function ge(){Sn(t,{section5:{title:l,titleSize:a,titlePosition:f,description:m,descriptionSize:g,descriptionPosition:v,input:{label:H,inputLabelSize:K,inputLabelPosition:te,placeholder:J},button:{link:w,buttonTextSize:E,buttonTextPosition:P,text:I},hidden:i,image:r,note:F}})}return u.jsxs("div",{className:zo.Form,children:[u.jsx(Ft,{value:i,setValue:s}),G&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:F,onChange:z=>B(z.target.value)}),u.jsxs("div",{className:zo.NoGap,children:[u.jsx("h2",{children:"Блок 5"}),u.jsx(Fn,{className:zo.QuestionIcon,onClick:()=>Q(!G)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:l,onChange:z=>c(z.target.value)}),u.jsxs("div",{className:zo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:a,onChange:z=>h(z.target.value)}),u.jsx(Ae,{position:f,setPosition:p})]}),u.jsx(ie,{label:"Описание",placeholder:"Текст",value:m,onChange:z=>_(z.target.value)}),u.jsxs("div",{className:zo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:g,onChange:z=>S(z.target.value)}),u.jsx(Ae,{position:v,setPosition:y})]}),u.jsx(A,{label:"Ссылка кнопки",placeholder:"Ссылка",type:"text",value:w,onChange:z=>T(z.target.value)}),u.jsx(ie,{label:"Текст кнопки",placeholder:"Текст",value:I,onChange:z=>x(z.target.value)}),u.jsxs("div",{className:zo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:E,onChange:z=>k(z.target.value)}),u.jsx(Ae,{position:P,setPosition:j})]}),u.jsx(ie,{label:"Название текстового поля",placeholder:"Текст",value:H,onChange:z=>X(z.target.value)}),u.jsxs("div",{className:zo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:K,onChange:z=>ne(z.target.value)}),u.jsx(Ae,{position:te,setPosition:me})]}),u.jsx(A,{label:"Описание текстового поля",placeholder:"Текст",type:"text",value:J,onChange:z=>O(z.target.value)}),u.jsx(Dn,{img:r,onImageChange:o,path:n+wQ,title:"Изображение (размер 465px-450px)",defaultWidth:465,defaultHeight:450}),u.jsx(Ue,{onClick:()=>ge(),children:"Сохранить"})]})},IX="_Row_picxg_31",EX="_QuestionIcon_picxg_45",CX="_NoGap_picxg_59",Rf={Row:IX,QuestionIcon:EX,NoGap:CX},kX="_Item_10ht0_1",RX="_Row_10ht0_15",av={Item:kX,Row:RX},uv=({count:t,inputOnChange:e,inputValue:n,path:i,textareaOnChange:s,textareaValue:r,inputSize:o,inputSizeOnchange:l,textareaSize:c,textareaSizeOnchange:a,inputPosition:h,inputPositionOnchange:f,textareaPosition:p,textareaPositionOnchange:m,image:_,setImage:g})=>u.jsxs("div",{className:av.Item,children:[u.jsx(ie,{label:`Заголовок ${t}`,placeholder:"Ссылка",value:n,onChange:S=>e(S.target.value)}),u.jsxs("div",{className:av.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:o,onChange:S=>l(S.target.value)}),u.jsx(Ae,{position:h,setPosition:f})]}),u.jsx(ie,{label:`Описание ${t}`,placeholder:"Текст",value:r,onChange:S=>s(S.target.value)}),u.jsxs("div",{className:av.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:c,onChange:S=>a(S.target.value)}),u.jsx(Ae,{position:p,setPosition:m})]}),u.jsx(Dn,{img:_,onImageChange:g,path:i,title:`Изображение ${t} (размер 350px-350px)`,defaultWidth:350,defaultHeight:350})]}),PX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("48"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("24"),[g,S]=d.useState("center"),[v,y]=d.useState(""),[w,T]=d.useState("16"),[I,x]=d.useState("center"),[E,k]=d.useState(""),[P,j]=d.useState("24"),[H,X]=d.useState("center"),[K,ne]=d.useState(""),[te,me]=d.useState("16"),[J,O]=d.useState("center"),[F,B]=d.useState(""),[G,Q]=d.useState("24"),[ge,z]=d.useState("center"),[ue,re]=d.useState(""),[M,V]=d.useState("16"),[le,fe]=d.useState("center"),[ce,Te]=d.useState(""),[ye,Re]=d.useState(!1),[we,Le]=d.useState(""),[je,Ne]=d.useState(""),[Z,qe]=d.useState("");d.useEffect(()=>{t&&(Le(t.image1||""),Ne(t.image2||""),qe(t.image3||""),s((t==null?void 0:t.hidden)||!1),o(t==null?void 0:t.title),c(t==null?void 0:t.titleSize),h(t==null?void 0:t.titlePosition),p(t==null?void 0:t.items[0].title),_(t==null?void 0:t.items[0].sizeTitle),S(t==null?void 0:t.items[0].positionTitle),y(t==null?void 0:t.items[0].description),T(t==null?void 0:t.items[0].sizeDescription),x(t==null?void 0:t.items[0].positionDescription),k(t==null?void 0:t.items[1].title),j(t==null?void 0:t.items[1].sizeTitle),X(t==null?void 0:t.items[1].positionTitle),ne(t==null?void 0:t.items[1].description),me(t==null?void 0:t.items[1].sizeDescription),O(t==null?void 0:t.items[1].positionDescription),B(t==null?void 0:t.items[2].title),Q(t==null?void 0:t.items[2].sizeTitle),z(t==null?void 0:t.items[2].positionTitle),re(t==null?void 0:t.items[2].description),V(t==null?void 0:t.items[2].sizeDescription),fe(t==null?void 0:t.items[2].positionDescription),Te((t==null?void 0:t.note)||""))},[t]);async function ze(){Sn(e,{section6:{items:[{title:f,description:v,sizeTitle:m,positionTitle:g,sizeDescription:w,positionDescription:I},{title:E,description:K,sizeTitle:P,positionTitle:H,sizeDescription:te,positionDescription:J},{title:F,description:ue,sizeTitle:G,positionTitle:ge,sizeDescription:M,positionDescription:le}],title:r,titleSize:l,titlePosition:a,hidden:i,image1:we,image2:je,image3:Z,note:ce}})}return u.jsxs("div",{className:Rf.Form,children:[u.jsx(Ft,{value:i,setValue:s}),ye&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:ce,onChange:Ve=>Te(Ve.target.value)}),u.jsxs("div",{className:Rf.NoGap,children:[u.jsx("h2",{children:"Блок 6"}),u.jsx(Fn,{className:Rf.QuestionIcon,onClick:()=>Re(!ye)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:Ve=>o(Ve.target.value)}),u.jsxs("div",{className:Rf.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:Ve=>c(Ve.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx("h2",{children:"Элементы"}),u.jsx(uv,{count:"1",inputOnChange:p,inputValue:f,path:n+xQ,textareaOnChange:y,textareaValue:v,setImage:Le,image:we,inputSize:m,inputSizeOnchange:_,textareaSize:w,textareaSizeOnchange:T,inputPosition:g,inputPositionOnchange:S,textareaPosition:I,textareaPositionOnchange:x}),u.jsx(uv,{count:"2",setImage:Ne,image:je,inputOnChange:k,inputValue:E,textareaOnChange:ne,textareaValue:K,path:n+TQ,inputSize:P,inputSizeOnchange:j,textareaSize:te,textareaSizeOnchange:me,inputPosition:H,inputPositionOnchange:X,textareaPosition:J,textareaPositionOnchange:O}),u.jsx(uv,{count:"3",setImage:qe,image:Z,path:n+IQ,inputOnChange:B,inputValue:F,textareaOnChange:re,textareaValue:ue,inputSize:G,inputSizeOnchange:Q,textareaSize:M,textareaSizeOnchange:V,inputPosition:ge,inputPositionOnchange:z,textareaPosition:le,textareaPositionOnchange:fe}),u.jsx(Ue,{onClick:()=>ze(),children:"Сохранить"})]})},bX="_Row_picxg_31",AX="_QuestionIcon_picxg_45",NX="_NoGap_picxg_59",Pf={Row:bX,QuestionIcon:AX,NoGap:NX},DX="_Item_10ht0_1",LX="_Row_10ht0_15",hv={Item:DX,Row:LX},bf=({image:t,setImage:e,count:n,inputOnChange:i,inputValue:s,path:r,textareaOnChange:o,textareaValue:l,inputSize:c,inputSizeOnchange:a,textareaSize:h,textareaSizeOnchange:f,inputPosition:p,inputPositionOnchange:m,textareaPosition:_,textareaPositionOnchange:g})=>u.jsxs("div",{className:hv.Item,children:[u.jsx(ie,{label:`Заголовок ${n}`,placeholder:"Ссылка",value:s,onChange:S=>i(S.target.value)}),u.jsxs("div",{className:hv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:c,onChange:S=>a(S.target.value)}),u.jsx(Ae,{position:p,setPosition:m})]}),u.jsx(ie,{label:`Описание ${n}`,placeholder:"Текст",value:l,onChange:S=>o(S.target.value)}),u.jsxs("div",{className:hv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:h,onChange:S=>f(S.target.value)}),u.jsx(Ae,{position:_,setPosition:g})]}),u.jsx(Dn,{img:t,onImageChange:e,path:r,title:`Изображение ${n} (размер 570px-320px)`,defaultWidth:570,defaultHeight:320})]}),jX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("48"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("24"),[g,S]=d.useState("left"),[v,y]=d.useState(""),[w,T]=d.useState("16"),[I,x]=d.useState("left"),[E,k]=d.useState(""),[P,j]=d.useState("24"),[H,X]=d.useState("left"),[K,ne]=d.useState(""),[te,me]=d.useState("16"),[J,O]=d.useState("left"),[F,B]=d.useState(""),[G,Q]=d.useState("24"),[ge,z]=d.useState("left"),[ue,re]=d.useState(""),[M,V]=d.useState("16"),[le,fe]=d.useState("left"),[ce,Te]=d.useState(""),[ye,Re]=d.useState("24"),[we,Le]=d.useState("left"),[je,Ne]=d.useState(""),[Z,qe]=d.useState("16"),[ze,Ve]=d.useState("left"),[We,Me]=d.useState(""),[Be,He]=d.useState(!1),[De,Ye]=d.useState(""),[Oe,it]=d.useState(""),[st,$]=d.useState(""),[Qe,vt]=d.useState("");d.useEffect(()=>{t&&(Ye(t.image1||""),it(t.image2||""),$(t.image3||""),vt(t.image4||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.title),p(t==null?void 0:t.items[0].title),y(t==null?void 0:t.items[0].description),k(t==null?void 0:t.items[1].title),ne(t==null?void 0:t.items[1].description),B(t==null?void 0:t.items[2].title),re(t==null?void 0:t.items[2].description),Te(t==null?void 0:t.items[3].title),Ne(t==null?void 0:t.items[3].description),Me((t==null?void 0:t.note)||""))},[t]);async function yt(){Sn(e,{section7:{items:[{title:f,description:v,positionTitle:g,sizeTitle:m,positionDescription:I,sizeDescription:w},{title:E,description:K,positionTitle:H,sizeTitle:P,positionDescription:J,sizeDescription:te},{title:F,description:ue,positionTitle:ge,sizeTitle:G,positionDescription:le,sizeDescription:M},{title:ce,description:je,positionTitle:we,sizeTitle:ye,positionDescription:ze,sizeDescription:Z}],title:r,titlePosition:a,titleSize:l,hidden:i,image1:De,image2:Oe,image3:st,image4:Qe,note:We}})}return u.jsxs("div",{className:Pf.Form,children:[u.jsx(Ft,{value:i,setValue:s}),Be&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:We,onChange:ut=>Me(ut.target.value)}),u.jsxs("div",{className:Pf.NoGap,children:[u.jsx("h2",{children:"Блок 7"}),u.jsx(Fn,{className:Pf.QuestionIcon,onClick:()=>He(!Be)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:ut=>o(ut.target.value)}),u.jsxs("div",{className:Pf.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:ut=>c(ut.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx("h2",{children:"Элементы"}),u.jsx(bf,{count:"1",path:n+EQ,image:De,setImage:Ye,inputOnChange:p,inputValue:f,textareaOnChange:y,textareaValue:v,inputSize:m,inputSizeOnchange:_,textareaSize:w,textareaSizeOnchange:T,inputPosition:g,inputPositionOnchange:S,textareaPosition:I,textareaPositionOnchange:x}),u.jsx(bf,{count:"2",image:Oe,setImage:it,inputOnChange:k,inputValue:E,path:n+CQ,textareaOnChange:ne,textareaValue:K,inputSize:P,inputSizeOnchange:j,textareaSize:te,textareaSizeOnchange:me,inputPosition:H,inputPositionOnchange:X,textareaPosition:J,textareaPositionOnchange:O}),u.jsx(bf,{count:"3",image:st,setImage:$,inputOnChange:B,inputValue:F,path:n+kQ,textareaOnChange:re,textareaValue:ue,inputSize:G,inputSizeOnchange:Q,textareaSize:M,textareaSizeOnchange:V,inputPosition:ge,inputPositionOnchange:z,textareaPosition:le,textareaPositionOnchange:fe}),u.jsx(bf,{count:"4",image:Qe,setImage:vt,inputOnChange:Te,inputValue:ce,path:n+RQ,textareaOnChange:Ne,textareaValue:je,inputSize:ye,inputSizeOnchange:Re,textareaSize:Z,textareaSizeOnchange:qe,inputPosition:we,inputPositionOnchange:Le,textareaPosition:ze,textareaPositionOnchange:Ve}),u.jsx(Ue,{onClick:()=>yt(),children:"Сохранить"})]})},OX="_Row_picxg_31",MX="_QuestionIcon_picxg_45",zX="_NoGap_picxg_59",Vo={Row:OX,QuestionIcon:MX,NoGap:zX},VX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("38"),[a,h]=d.useState("left"),[f,p]=d.useState(""),[m,_]=d.useState("16"),[g,S]=d.useState("left"),[v,y]=d.useState(""),[w,T]=d.useState(""),[I,x]=d.useState("12"),[E,k]=d.useState("center"),[P,j]=d.useState(""),[H,X]=d.useState("14"),[K,ne]=d.useState("left"),[te,me]=d.useState(""),[J,O]=d.useState(""),[F,B]=d.useState(!1),[G,Q]=d.useState("");d.useEffect(()=>{var z,ue,re,M,V,le,fe,ce;t&&(Q(t.image||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.title),c(t==null?void 0:t.titleSize),h(t==null?void 0:t.titlePosition),p(t==null?void 0:t.description),_(t==null?void 0:t.descriptionSize),S(t==null?void 0:t.descriptionPosition),y((z=t==null?void 0:t.button)==null?void 0:z.link),T((ue=t==null?void 0:t.button)==null?void 0:ue.text),x((re=t==null?void 0:t.button)==null?void 0:re.buttonTextSize),k((M=t==null?void 0:t.button)==null?void 0:M.buttonTextPosition),j((V=t==null?void 0:t.input)==null?void 0:V.label),X((le=t==null?void 0:t.input)==null?void 0:le.inputLabelSize),ne((fe=t==null?void 0:t.input)==null?void 0:fe.inputLabelPosition),me((ce=t==null?void 0:t.input)==null?void 0:ce.placeholder),O((t==null?void 0:t.note)||""))},[t]);async function ge(){Sn(e,{section8:{title:r,titleSize:l,titlePosition:a,description:f,descriptionSize:m,descriptionPosition:g,input:{label:P,inputLabelSize:H,inputLabelPosition:K,placeholder:te},button:{link:v,buttonTextSize:I,buttonTextPosition:E,text:w},hidden:i,note:J,image:G}})}return u.jsxs("div",{className:Vo.Form,children:[u.jsx(Ft,{value:i,setValue:s}),F&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:J,onChange:z=>O(z.target.value)}),u.jsxs("div",{className:Vo.NoGap,children:[u.jsx("h2",{children:"Блок 8"}),u.jsx(Fn,{className:Vo.QuestionIcon,onClick:()=>B(!F)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:z=>o(z.target.value)}),u.jsxs("div",{className:Vo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:z=>c(z.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx(ie,{label:"Описание",placeholder:"Текст",value:f,onChange:z=>p(z.target.value)}),u.jsxs("div",{className:Vo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:m,onChange:z=>_(z.target.value)}),u.jsx(Ae,{position:g,setPosition:S})]}),u.jsx(A,{label:"Ссылка кнопки",placeholder:"Ссылка",type:"text",value:v,onChange:z=>y(z.target.value)}),u.jsx(ie,{label:"Текст кнопки",placeholder:"Текст",value:w,onChange:z=>T(z.target.value)}),u.jsxs("div",{className:Vo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:I,onChange:z=>x(z.target.value)}),u.jsx(Ae,{position:E,setPosition:k})]}),u.jsx(ie,{label:"Название текстового поля",placeholder:"Текст",value:P,onChange:z=>j(z.target.value)}),u.jsxs("div",{className:Vo.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:H,onChange:z=>X(z.target.value)}),u.jsx(Ae,{position:K,setPosition:ne})]}),u.jsx(A,{label:"Описание текстового поля",placeholder:"Текст",type:"text",value:te,onChange:z=>me(z.target.value)}),u.jsx(Dn,{img:G,onImageChange:Q,path:n+PQ,title:"Изображение (размер 450px-450px)",defaultWidth:450,defaultHeight:450}),u.jsx(Ue,{onClick:()=>ge(),children:"Сохранить"})]})},FX="_Row_picxg_31",BX="_QuestionIcon_picxg_45",$X="_NoGap_picxg_59",Af={Row:FX,QuestionIcon:BX,NoGap:$X},UX="_Item_10ht0_1",qX="_Row_10ht0_15",dv={Item:UX,Row:qX},rc=({image:t,setImage:e,count:n,inputOnChange:i,inputValue:s,path:r,textareaOnChange:o,textareaValue:l,inputSize:c,inputSizeOnchange:a,textareaSize:h,textareaSizeOnchange:f,inputPosition:p,inputPositionOnchange:m,textareaPosition:_,textareaPositionOnchange:g})=>u.jsxs("div",{className:dv.Item,children:[u.jsx(ie,{label:`Заголовок ${n}`,placeholder:"Ссылка",value:s,onChange:S=>i(S.target.value)}),u.jsxs("div",{className:dv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:c,onChange:S=>a(S.target.value)}),u.jsx(Ae,{position:p,setPosition:m})]}),u.jsx(ie,{label:`Описание ${n}`,placeholder:"Текст",value:l,onChange:S=>o(S.target.value)}),u.jsxs("div",{className:dv.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:h,onChange:S=>f(S.target.value)}),u.jsx(Ae,{position:_,setPosition:g})]}),u.jsx(Dn,{img:t,onImageChange:e,path:r,title:`Изображение ${n} (размер 318px-166px)`,defaultWidth:318,defaultHeight:166})]}),WX=({data:t,lang:e,route:n})=>{const[i,s]=d.useState(!1),[r,o]=d.useState(""),[l,c]=d.useState("32"),[a,h]=d.useState("center"),[f,p]=d.useState(""),[m,_]=d.useState("20"),[g,S]=d.useState("center"),[v,y]=d.useState(""),[w,T]=d.useState("14"),[I,x]=d.useState("center"),[E,k]=d.useState(""),[P,j]=d.useState("20"),[H,X]=d.useState("center"),[K,ne]=d.useState(""),[te,me]=d.useState("14"),[J,O]=d.useState("center"),[F,B]=d.useState(""),[G,Q]=d.useState("20"),[ge,z]=d.useState("center"),[ue,re]=d.useState("center"),[M,V]=d.useState("14"),[le,fe]=d.useState(""),[ce,Te]=d.useState(""),[ye,Re]=d.useState("20"),[we,Le]=d.useState("center"),[je,Ne]=d.useState(""),[Z,qe]=d.useState("14"),[ze,Ve]=d.useState("center"),[We,Me]=d.useState(""),[Be,He]=d.useState("20"),[De,Ye]=d.useState("center"),[Oe,it]=d.useState(""),[st,$]=d.useState("14"),[Qe,vt]=d.useState("center"),[yt,ut]=d.useState(""),[qt,mn]=d.useState("20"),[Xt,an]=d.useState("center"),[Jt,Mt]=d.useState(""),[C,R]=d.useState("14"),[L,D]=d.useState("center"),[se,Ce]=d.useState(""),[Se,_e]=d.useState(!1),[pe,be]=d.useState(""),[Xe,Ie]=d.useState(""),[Fe,Je]=d.useState(""),[St,et]=d.useState(""),[zt,ee]=d.useState(""),[Zt,wn]=d.useState("");d.useEffect(()=>{t&&(be((t==null?void 0:t.image1)||""),Ie((t==null?void 0:t.image2)||""),Je((t==null?void 0:t.image3)||""),et((t==null?void 0:t.image4)||""),ee((t==null?void 0:t.image5)||""),wn((t==null?void 0:t.image6)||""),s(t==null?void 0:t.hidden),o(t==null?void 0:t.title),c(t==null?void 0:t.titleSize),h(t==null?void 0:t.titlePosition),p(t==null?void 0:t.items[0].title),_(t==null?void 0:t.items[0].sizeTitle),S(t==null?void 0:t.items[0].positionTitle),y(t==null?void 0:t.items[0].description),T(t==null?void 0:t.items[0].sizeDescription),x(t==null?void 0:t.items[0].positionDescription),k(t==null?void 0:t.items[1].title),j(t==null?void 0:t.items[1].sizeTitle),X(t==null?void 0:t.items[1].positionTitle),ne(t==null?void 0:t.items[1].description),me(t==null?void 0:t.items[1].sizeDescription),O(t==null?void 0:t.items[1].positionDescription),B(t==null?void 0:t.items[2].title),Q(t==null?void 0:t.items[2].sizeTitle),z(t==null?void 0:t.items[2].positionTitle),fe(t==null?void 0:t.items[2].description),V(t==null?void 0:t.items[2].sizeDescription),re(t==null?void 0:t.items[2].positionDescription),Te(t==null?void 0:t.items[3].title),Re(t==null?void 0:t.items[3].sizeTitle),Le(t==null?void 0:t.items[3].positionTitle),Ne(t==null?void 0:t.items[3].description),qe(t==null?void 0:t.items[3].sizeDescription),Ve(t==null?void 0:t.items[3].positionDescription),Me(t==null?void 0:t.items[4].title),He(t==null?void 0:t.items[4].sizeTitle),Ye(t==null?void 0:t.items[4].positionTitle),it(t==null?void 0:t.items[4].description),$(t==null?void 0:t.items[4].sizeDescription),vt(t==null?void 0:t.items[4].positionDescription),ut(t==null?void 0:t.items[5].title),mn(t==null?void 0:t.items[5].sizeTitle),an(t==null?void 0:t.items[5].positionTitle),Mt(t==null?void 0:t.items[5].description),R(t==null?void 0:t.items[5].sizeDescription),D(t==null?void 0:t.items[5].positionDescription),Ce((t==null?void 0:t.note)||""))},[t]);async function Bn(){Sn(e,{section9:{items:[{id:1,title:f,description:v,sizeTitle:m,positionTitle:g,positionDescription:I,sizeDescription:w},{id:2,title:E,description:K,sizeTitle:P,positionTitle:H,positionDescription:J,sizeDescription:te},{id:3,title:F,description:le,sizeTitle:G,positionTitle:ge,positionDescription:ue,sizeDescription:M},{id:4,title:ce,description:je,sizeTitle:ye,positionTitle:we,positionDescription:ze,sizeDescription:Z},{id:5,title:We,description:Oe,sizeTitle:Be,positionTitle:De,positionDescription:Qe,sizeDescription:st},{id:6,title:yt,description:Jt,sizeTitle:qt,positionTitle:Xt,positionDescription:L,sizeDescription:C}],titlePosition:a,title:r,titleSize:l,hidden:i,note:se,image1:pe,image2:Xe,image3:Fe,image4:St,image5:zt,image6:Zt}})}return u.jsxs("div",{className:Af.Form,children:[u.jsx(Ft,{value:i,setValue:s}),Se&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:se,onChange:$n=>Ce($n.target.value)}),u.jsxs("div",{className:Af.NoGap,children:[u.jsx("h2",{children:"Блок 9"}),u.jsx(Fn,{className:Af.QuestionIcon,onClick:()=>_e(!Se)})]}),u.jsx(ie,{label:"Заголовок",placeholder:"Текст",value:r,onChange:$n=>o($n.target.value)}),u.jsxs("div",{className:Af.Row,children:[u.jsx(A,{label:"Размер (px)",placeholder:"14px",type:"number",value:l,onChange:$n=>c($n.target.value)}),u.jsx(Ae,{position:a,setPosition:h})]}),u.jsx("h2",{children:"Элементы"}),u.jsx(rc,{image:pe,setImage:be,count:"1",inputOnChange:p,inputValue:f,path:n+bQ,textareaOnChange:y,textareaValue:v,inputSize:m,inputSizeOnchange:_,textareaSize:w,textareaSizeOnchange:T,inputPosition:g,inputPositionOnchange:S,textareaPosition:I,textareaPositionOnchange:x}),u.jsx(rc,{image:Xe,setImage:Ie,count:"2",inputOnChange:k,inputValue:E,path:n+AQ,textareaOnChange:ne,textareaValue:K,inputSize:P,inputSizeOnchange:j,textareaSize:te,textareaSizeOnchange:me,inputPosition:H,inputPositionOnchange:X,textareaPosition:J,textareaPositionOnchange:O}),u.jsx(rc,{image:Fe,setImage:Je,count:"3",inputOnChange:B,inputValue:F,path:n+NQ,textareaOnChange:fe,textareaValue:le,inputSize:G,inputSizeOnchange:Q,textareaSize:M,textareaSizeOnchange:V,inputPosition:ge,inputPositionOnchange:z,textareaPosition:ue,textareaPositionOnchange:re}),u.jsx(rc,{image:St,setImage:et,count:"4",inputOnChange:Te,inputValue:ce,path:n+DQ,textareaOnChange:Ne,textareaValue:je,inputSize:ye,inputSizeOnchange:Re,textareaSize:Z,textareaSizeOnchange:qe,inputPosition:we,inputPositionOnchange:Le,textareaPosition:ze,textareaPositionOnchange:Ve}),u.jsx(rc,{image:zt,setImage:ee,count:"5",inputOnChange:Me,inputValue:We,path:n+LQ,textareaOnChange:it,textareaValue:Oe,inputSize:Be,inputSizeOnchange:He,textareaSize:st,textareaSizeOnchange:$,inputPosition:De,inputPositionOnchange:Ye,textareaPosition:Qe,textareaPositionOnchange:vt}),u.jsx(rc,{image:Zt,setImage:wn,count:"6",inputOnChange:ut,inputValue:yt,path:n+jQ,textareaOnChange:Mt,textareaValue:Jt,inputSize:qt,inputSizeOnchange:mn,textareaSize:C,textareaSizeOnchange:R,inputPosition:Xt,inputPositionOnchange:an,textareaPosition:L,textareaPositionOnchange:D}),u.jsx(Ue,{onClick:()=>Bn(),children:"Сохранить"})]})},fv=({lang:t,data:e,path:n})=>{var m;const[i,s]=d.useState(!1),[r,o]=d.useState();d.useEffect(()=>{o(e)},[e]);const l={title:"",size:"14",position:"center"},c=(_,g)=>{if(r){const S={...r,[g]:_};o(S)}},a=(_,g)=>{if(r!=null&&r.questions){const S=r.questions.map(v=>v.id===g?_:v);c(S,"questions")}},h=_=>{if(r!=null&&r.questions){const g=r.questions.filter(S=>S.id!==_);c(g,"questions")}},f=()=>{const _=r!=null&&r.questions?[...r==null?void 0:r.questions,ym()]:[ym()];c(_,"questions")};function p(){Sn(t,{[n]:r})}return u.jsxs("div",{className:rp.Form,children:[u.jsx(Ft,{value:(r==null?void 0:r.hidden)||!1,setValue:_=>c(_,"hidden")}),i&&u.jsx(ie,{label:"Заметка",placeholder:"Написать заметку",value:r==null?void 0:r.note,onChange:_=>c(_.target.value,"note")}),u.jsxs("div",{className:rp.NoGap,children:[u.jsx("h2",{children:d3[t][n]}),u.jsx(Fn,{className:rp.QuestionIcon,onClick:()=>s(!i)})]}),u.jsx("h2",{children:`Маршрут: /${n}`}),u.jsx(vm,{item:(r==null?void 0:r.title)||l,setItem:_=>c(_,"title"),label:"Заголовок",placeholder:"Заголовок"}),(m=r==null?void 0:r.questions)==null?void 0:m.map(_=>u.jsx(j3,{questionLabel:"Заголовок",answerLabel:"Абзац",setBlock:g=>a(g,_.id),questionAndAnswer:_,removeBlock:()=>h(_.id)},_.id)),u.jsx(Ue,{onClick:f,style:{background:"#fff",color:"#000",border:"2px solid #ccc"},children:"Добавить новый блок"}),u.jsx(Ue,{onClick:p,children:"Сохранить"})]})},HX=({editMode:t,dataByLang:e,langRoute:n,route:i,lang:s})=>{const r={...Wt,...e};switch(t){case"Header":return u.jsx(AY,{data:r==null?void 0:r.header,lang:n,route:i});case"Cookies":return u.jsx(cY,{data:r==null?void 0:r.cookies,lang:n});case"Section1":return u.jsx(jY,{data:r==null?void 0:r.section1,lang:n,route:i});case"Section2":return u.jsx(cX,{data:r==null?void 0:r.section2,lang:n,route:i});case"Section3":return u.jsx(mX,{data:r==null?void 0:r.section3,lang:n,route:i});case"Section4":return u.jsx(yX,{data:r==null?void 0:r.section4,lang:n,route:i});case"Section5":return u.jsx(TX,{data:r==null?void 0:r.section5,lang:n,route:i});case"Section6":return u.jsx(PX,{data:r==null?void 0:r.section6,lang:n,route:i});case"Section7":return u.jsx(jX,{data:r==null?void 0:r.section7,lang:n,route:i});case"Section8":return u.jsx(VX,{data:r==null?void 0:r.section8,lang:n,route:i});case"Section9":return u.jsx(WX,{data:r==null?void 0:r.section9,lang:n,route:i});case"Section10":return u.jsx(FY,{data:r==null?void 0:r.section10,lang:n,route:i});case"Section11":return u.jsx(HY,{data:r==null?void 0:r.section11,lang:n,route:i});case"Section12":return u.jsx(XY,{data:r==null?void 0:r.section12,lang:n,route:i});case"Section13":return u.jsx(nX,{data:r==null?void 0:r.section13,lang:n,route:i});case"Footer":return u.jsx(TY,{data:r==null?void 0:r.footer,lang:n});case"FAQ":return u.jsx(vY,{data:r==null?void 0:r.FAQ,lang:n});case"privacy":return i===""?u.jsx(fv,{lang:s,path:"privacy",data:r.privacy}):null;case"cookie-policy":return i===""?u.jsx(fv,{lang:s,path:"cookie-policy",data:r["cookie-policy"]}):null;case"terms-of-use":return i===""?u.jsx(fv,{lang:s,path:"terms-of-use",data:r["terms-of-use"]}):null}},GX="_Row_26o20_1",KX="_Scroll_26o20_17",QX="_Edit_26o20_25",YX="_main_26o20_49",XX="_Form_26o20_59",yu={Row:GX,Scroll:KX,Edit:QX,main:YX,Form:XX},JX=({route:t})=>{const[e,n]=d.useState(!1),i=()=>{n(!0)},s=nt(w=>w.lang),r=nt(w=>w.editMode),[o,l,c]=xa(Vs(hn.ru+t)),[a,h,f]=xa(Vs(hn.en+t)),[p,m]=d.useState(VQ);if(d.useEffect(()=>{const w=s===hn.ru?o==null?void 0:o.data():a==null?void 0:a.data(),T={...Wt,...w};T!=null&&T.order&&m(T==null?void 0:T.order)},[o,a]),h||l)return u.jsx(Ua,{});if(f||c)return u.jsx("div",{children:"Error!"});const _=s===hn.ru?o==null?void 0:o.data():a==null?void 0:a.data(),g={...Wt,..._},S=s+t,v=()=>{const w=a2(p,p[r],1);Sn(S,{order:w}),m(w)},y=()=>{const w=a2(p,p[r],-1);Sn(S,{order:w}),m(w)};return u.jsxs("div",{children:[u.jsx(OH,{open:e,onClose:()=>n(!1)}),u.jsxs("div",{className:yu.Row,children:[u.jsxs("div",{className:yu.Scroll,children:[u.jsx(Ww,{edit:!0,data:g==null?void 0:g.header,lang:s}),u.jsxs("main",{children:[u.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"30px"},children:u.jsx(Fw,{edit:!0,data:g==null?void 0:g.cookies})}),u.jsxs("div",{className:yu.main,children:[u.jsx(y3,{edit:!0,data:g==null?void 0:g.section1,order:p==null?void 0:p.Section1}),u.jsx(I3,{edit:!0,data:g==null?void 0:g.section2,order:p==null?void 0:p.Section2}),u.jsx(E3,{edit:!0,data:g==null?void 0:g.section3,order:p==null?void 0:p.Section3}),u.jsx(C3,{edit:!0,data:g==null?void 0:g.section4,order:p==null?void 0:p.Section4}),u.jsx(k3,{edit:!0,data:g==null?void 0:g.section5,order:p==null?void 0:p.Section5}),u.jsx(R3,{edit:!0,data:g==null?void 0:g.section6,order:p==null?void 0:p.Section6}),u.jsx(P3,{edit:!0,data:g==null?void 0:g.section7,order:p==null?void 0:p.Section7}),u.jsx(b3,{edit:!0,data:g==null?void 0:g.section8,order:p==null?void 0:p.Section8}),u.jsx(A3,{edit:!0,data:g==null?void 0:g.section9,order:p==null?void 0:p.Section9}),u.jsx(S3,{edit:!0,data:g==null?void 0:g.section10,order:p==null?void 0:p.Section10}),u.jsx(w3,{edit:!0,data:g==null?void 0:g.section11,order:p==null?void 0:p.Section11}),u.jsx(x3,{edit:!0,data:g==null?void 0:g.section12,order:p==null?void 0:p.Section12}),u.jsx(T3,{edit:!0,data:g==null?void 0:g.section13,order:p==null?void 0:p.Section13}),u.jsx(v3,{edit:!0,data:g==null?void 0:g.FAQ,order:p==null?void 0:p.FAQ})]})]}),Bw.map(w=>u.jsx(N3,{lang:s,path:w,data:g[w],edit:!0},w)),u.jsx(qw,{edit:!0,data:g==null?void 0:g.footer})]}),u.jsxs("div",{className:yu.Edit,children:[u.jsx("h1",{children:"Редактирование"}),u.jsxs("div",{className:yu.Form,children:[u.jsx(Ue,{onClick:i,children:"Лендинги"}),(p==null?void 0:p[r])&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx(Ue,{onClick:y,style:{width:"50%"},children:"Поднять"}),u.jsx(Ue,{onClick:v,style:{width:"50%"},children:"Опустить"})]}),u.jsxs("p",{children:["Позиция: ",p==null?void 0:p[r]]})]}),HX({editMode:r,dataByLang:_,langRoute:S,route:t,lang:s})]})]})]})]})},ZX=({route:t})=>{const[e,n]=d.useState(!1),[i,s]=d.useState(!1);return d.useEffect(()=>{setTimeout(()=>{s(!0)},3e3)},[]),d.useEffect(()=>{const r=JSON.parse(localStorage.getItem("isAuth"));n(r)},[]),u.jsxs(u.Fragment,{children:[!i&&u.jsx(Ua,{}),e?u.jsx(u.Fragment,{children:u.jsx(JX,{route:t})}):u.jsx(TW,{})]})};function p2(){const t=tR();return u.jsxs("div",{id:"error-page",children:[u.jsx("h1",{children:"Oops!"}),u.jsx("p",{children:"Sorry, an unexpected error has occurred."}),u.jsx("p",{children:u.jsx("i",{children:(t==null?void 0:t.statusText)||(t==null?void 0:t.message)})})]})}const eJ="_Modal_990wk_1",tJ="_Big_990wk_29",nJ="_Box_990wk_41",iJ="_Icon_990wk_55",sJ="_Back_990wk_73",oc={Modal:eJ,Big:tJ,Box:nJ,Icon:iJ,Back:sJ},Ni=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3230.769",height:"3223.732",viewBox:"0 0 3230.769 3223.732",...t,children:u.jsxs("g",{transform:"translate(115.385 115.385) scale(11.53846)",children:[u.jsx("path",{fill:"#16f",d:"M15.84 60v-7.56h2.22l1.14-1.14V18h7.56v36.42L21.18 60h-5.34zm-7.86 0L2.4 54.42V18h7.56v33.3l1.14 1.14h2.22V60H7.98z",transform:"translate(70.148 -73.892) scale(4.10509)"}),u.jsx("path",{fill:"#000",d:"M8.92 11.44v17.88c0 2.107.473 3.647 1.42 4.62s2.433 1.46 4.46 1.46c2.187 0 3.72-.487 4.6-1.46s1.32-2.513 1.32-4.62V11.44H27v17.88c0 3.573-1.02 6.36-3.06 8.36s-5.087 3-9.14 3c-4.133 0-7.193-1-9.18-3s-2.98-4.787-2.98-8.36V11.44h6.28zm34.255 0l11.92 19.16h.08V11.44h5.88V40h-6.28l-11.88-19.12h-.08V40h-5.88V11.44h6.24zm34.215 0V40h-6.28V11.44h6.28zm31.215 0v5.28h-8.56V40h-6.28V16.72h-8.56v-5.28h23.4zm29.75 0V22.4h11.56V11.44h6.28V40h-6.28V27.68h-11.56V40h-6.28V11.44h6.28zm40.695-.68c4.213 0 7.607 1.4 10.18 4.2s3.86 6.427 3.86 10.88c0 4.347-1.293 7.907-3.88 10.68s-5.973 4.16-10.16 4.16c-4.213 0-7.607-1.387-10.18-4.16s-3.86-6.333-3.86-10.68c0-4.427 1.293-8.047 3.88-10.86s5.973-4.22 10.16-4.22zm-7.76 15.08c0 2.88.68 5.193 2.04 6.94s3.267 2.62 5.72 2.62c2.4 0 4.293-.86 5.68-2.58s2.08-4.047 2.08-6.98c0-3.067-.687-5.467-2.06-7.2s-3.287-2.6-5.74-2.6c-2.4 0-4.287.867-5.66 2.6s-2.06 4.133-2.06 7.2zm36.895-14.4v23.28h13.92V40h-20.2V11.44h6.28zm34.215 0c4.053 0 7.24 1.253 9.56 3.76s3.48 5.96 3.48 10.36c0 4.56-1.167 8.107-3.5 10.64s-5.46 3.8-9.38 3.8h-12.4V11.44h12.24zm-.4 23.28c2.267 0 4.027-.747 5.28-2.24s1.88-3.613 1.88-6.36c0-3.147-.673-5.5-2.02-7.06s-3.42-2.34-6.22-2.34h-4.48v18H242zm43.695-23.28v5.28h-15.08v6.12h13.84v4.88h-13.84v7h15.4V40h-21.68V11.44h21.36zm24.495 0c2.4 0 4.394.74 5.98 2.22s2.38 3.367 2.38 5.66c0 3.573-1.507 5.96-4.52 7.16v.08c1.013.293 1.807.78 2.38 1.46s1.007 1.473 1.3 2.38.48 2.36.56 4.36c.107 2.613.48 4.36 1.12 5.24h-6.28c-.347-.88-.613-2.533-.8-4.96-.213-2.56-.68-4.233-1.4-5.02s-1.893-1.18-3.52-1.18h-6.32V40h-6.28V11.44h15.4zm-2.2 12.92c1.333 0 2.38-.3 3.14-.9s1.14-1.66 1.14-3.18c0-1.44-.373-2.46-1.12-3.06s-1.813-.9-3.2-.9h-6.88v8.04h6.92z",transform:"matrix(.82084 0 0 .82084 -2.167 183.168)"}),u.jsx("path",{fill:"#16f",d:"M4.38 7.26v4.96q.62-.36 1.38-.48.56-.1 1.44-.1h2.84q1.18 0 1.84-.54.7-.58.7-1.74 0-1.1-.74-1.64-.64-.46-1.8-.46H4.38zm6.38 10.38l-1.82-3.82H7.2q-.82 0-1.44.1-.76.14-1.38.48V20H2.2V5.08h7.84q1.38 0 2.44.52t1.64 1.48q.62 1.02.62 2.4 0 1.68-.9 2.76t-2.54 1.5l1.16 2.38q.5.74.78 1.04.34.38.65.51t.81.13h.22l.48-.02V20q-1.16 0-1.72-.08-.94-.16-1.6-.62-.78-.56-1.32-1.66zm10.42-3.62v3.8h9.2V20H19V5.08h10.5v2.2h-8.32v4.52q.62-.36 1.38-.48.56-.1 1.44-.1h3.26v2.22H24q-.82 0-1.44.1-.76.14-1.38.48zm17.36-7.36l-.82-1.84h2.4L47.3 20h-2.44l-.98-2.18h-4.54q-1.28 0-2.3.24-.9.22-1.5.58-.54.32-.72.66l-.38.7h-2.36zm1.6 8.96h2.76l-3.26-6.3-3.3 7.14q.44-.38 1.34-.6 1.02-.24 2.46-.24zM60.56 20H50.1V5.08h2.18v12.74h8.28V20zm10.2-5.98v3.8h9.2V20H68.58V5.08h10.5v2.2h-8.32v4.52q.62-.36 1.38-.48.56-.1 1.44-.1h3.26v2.22h-3.26q-.82 0-1.44.1-.76.14-1.38.48zm24.3 1.44q0 1.46-.88 2.6-.86 1.08-2.37 1.68t-3.41.6q-1.74 0-3.38-.81t-2.76-2.25l1.56-1.46q1.94 2.34 4.58 2.34 1.16 0 2.12-.28 1.06-.32 1.64-.9.66-.64.66-1.52 0-1.06-.66-1.6-.56-.46-1.66-.6-.64-.08-2.1-.08-2.68 0-4.09-.98T82.9 9.32q0-1.2.71-2.28t1.95-1.72q1.28-.68 2.84-.68 1.76 0 3.18.54Q93.1 5.76 94.4 7l-1.36 1.6q-1.22-.98-2.22-1.37t-2.42-.39q-.82 0-1.53.34t-1.13.91-.42 1.21q0 1.72 3.18 1.72 2.54 0 4.02.52 1.4.5 2 1.52.54.9.54 2.4zm14.3-8.18h-5.26V20h-2.12V7.28h-5.32v-2.2h12.7v2.2zm7.46-.62L116 4.82h2.4L125.58 20h-2.44l-.98-2.18h-4.54q-1.28 0-2.3.24-.9.22-1.5.58-.54.32-.72.66l-.38.7h-2.36zm1.6 8.96h2.76l-3.26-6.3-3.3 7.14q.44-.38 1.34-.6 1.02-.24 2.46-.24zm21.06-8.34h-5.26V20h-2.12V7.28h-5.32v-2.2h12.7v2.2zm4.98 6.74v3.8h9.2V20h-11.38V5.08h10.5v2.2h-8.32v4.52q.62-.36 1.38-.48.56-.1 1.44-.1h3.26v2.22h-3.26q-.82 0-1.44.1-.76.14-1.38.48z",transform:"matrix(1.42612 0 0 1.42612 18.863 230.383)"})]})}),rJ="_Box_1eiq4_1",oJ="_Logo_1eiq4_17",lJ="_Language_1eiq4_51",cJ="_LanguageBox_1eiq4_65",aJ="_Active_1eiq4_121",uJ="_Row_1eiq4_131",hJ="_Choose_1eiq4_143",dJ="_ChooseBox_1eiq4_167",Di={Box:rJ,Logo:oJ,Language:lJ,LanguageBox:cJ,Active:aJ,Row:uJ,Choose:hJ,ChooseBox:dJ},fJ="_Select_1fnfd_1",pJ="_Value_1fnfd_15",mJ="_Active_1fnfd_63",gJ="_Box_1fnfd_71",_J="_ActiveItem_1fnfd_119",Su={Select:fJ,Value:pJ,Active:mJ,Box:gJ,ActiveItem:_J},m2=({array:t,setValue:e,value:n})=>{const[i,s]=d.useState(!1);function r(o){e(o),s(!1)}return u.jsxs("div",{className:`${Su.Select} ${i?Su.Active:""}`,children:[u.jsxs("div",{className:Su.Value,onClick:()=>s(!i),children:[n||"Ничего не выбрано",u.jsx(p3,{})]}),i&&u.jsx("div",{className:Su.Box,children:t.map((o,l)=>u.jsx("div",{className:o===n?Su.ActiveItem:"",onClick:()=>r(o),children:o},l))})]})},vJ=({setStep:t})=>{const[e,n]=d.useState("Русский"),i=["Русский","English"],[s,r]=d.useState("Unit"),o=["Unit","د.إ","$","₽","€"],[l,c]=d.useState("m²"),a=["m²","ft²"],[h,f]=d.useState("ОАЭ"),[p,m]=d.useState(""),_=["ОАЭ","Россия","Турция","Индия"],g=[{name:"ОАЭ",cities:["Дубай","Абу Даби","Шарджа","Джебель-Данна"]},{name:"Россия",cities:["Москва","Санкт-Петербург","Екатеринбург","Волгоград"]},{name:"Турция",cities:["Стамбул","Анкара","Измир","Бурса"]},{name:"Индия",cities:["Мумбаи","Дели","Калькутта","Бангалор"]}];d.useEffect(()=>{h&&m("")},[h]);const S=nt(v=>v.changeAuth);return d.useEffect(()=>{S({country:h,city:p,language:e,currency:s,square:l})},[h,p,e,s,l]),u.jsxs("div",{className:Di.Box,children:[u.jsx("p",{children:"Шаг 2 из 13"}),u.jsx(Ni,{className:Di.Logo}),u.jsx("h3",{children:"Давайте настроим ваш аккаунт"}),u.jsxs("div",{className:Di.Language,children:[u.jsx("label",{children:"Выберете страну и город"}),u.jsx(m2,{array:_,setValue:f,value:h}),u.jsx(m2,{array:g[g.findIndex(v=>v.name===h)].cities,setValue:m,value:p})]}),u.jsxs("div",{className:Di.Language,children:[u.jsx("label",{children:"Язык"}),u.jsx("div",{className:Di.LanguageBox,children:i.map((v,y)=>u.jsx("div",{className:e===v?Di.Active:"",onClick:()=>n(v),children:v},y))})]}),u.jsxs("div",{className:Di.Row,children:[u.jsxs("div",{className:Di.Choose,children:[u.jsx("label",{children:"Выберете валюту"}),u.jsx("div",{className:Di.ChooseBox,children:o.map((v,y)=>u.jsx("div",{className:s===v?Di.Active:"",onClick:()=>r(v),children:v==="Unit"?u.jsx(sp,{}):v},y))})]}),u.jsxs("div",{className:Di.Choose,children:[u.jsx("label",{children:"Еденицы измерения"}),u.jsx("div",{className:Di.ChooseBox,children:a.map((v,y)=>u.jsx("div",{className:l===v?Di.Active:"",onClick:()=>c(v),children:v},y))})]})]}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(2),children:"Продолжить"})]})},yJ="_Box_qt1qo_1",SJ="_Logo_qt1qo_19",wJ="_Row_qt1qo_53",pv={Box:yJ,Logo:SJ,Row:wJ},xJ=({setStep:t})=>{const e=nt(n=>n.changeAuth);return u.jsxs("div",{className:pv.Box,children:[u.jsx("p",{children:"Шаг 3 из 13"}),u.jsx(Ni,{className:pv.Logo}),u.jsxs("h3",{children:["Для чего вы хотите использовать ",u.jsx("br",{})," систему Unit Holder?"]}),u.jsxs("div",{className:pv.Row,children:[u.jsxs("button",{onClick:()=>{e({forUse:"Хочу заработать на покупке и продаже недвижимости"}),t(3)},children:[u.jsx(SH,{}),"Хочу заработать на покупке и продаже недвижимости"]}),u.jsxs("button",{onClick:()=>{e({forUse:"Хочу накопить и сохранить капитал в недвижимости"}),t(3)},children:[u.jsx(TH,{}),"Хочу накопить и сохранить капитал в недвижимости"]}),u.jsxs("button",{onClick:()=>{e({forUse:"Хочу накопить и сохранить капитал в недвижимости"}),t(3)},children:[u.jsx(IH,{style:{width:25}}),"Хочу купить недвижимость для себя"]})]})]})},TJ="_Box_xjsk6_1",IJ="_Logo_xjsk6_19",EJ="_Items_xjsk6_55",CJ="_Item_xjsk6_55",kJ="_Color_xjsk6_93",RJ="_Active_xjsk6_143",PJ="_Info_xjsk6_151",bJ="_Row_xjsk6_267",jr={Box:TJ,Logo:IJ,Items:EJ,Item:CJ,Color:kJ,Active:RJ,Info:PJ,Row:bJ},AJ=({setStep:t})=>{const e=nt(r=>r.changeAuth),[n,i]=d.useState(0),s=[{title:`Предварительная продажа недвижимости
(Pre-Sale)`,advantages:`Срок инвестиций - от 6 месяцев до 3 лет
ROI - от 10% до 30%
Тип Инвестиций -
Спекулятивные Краткосрочные Инвестиции
Риск - Высокий
Минимальный Капитал для входа - от 25 000$
Рекомендация - для Опытных Инвесторов
Стратегия:
Вход в Новостройку на Первом этапе старта продаж`,text:""},{title:"Покупка + Аренда",advantages:`Срок Инвестиций - от 2 до 5 лет 
ROI - от 10 до 40%
Тип Инвестиций -
Консервативные среднесрочные Инвестиции
Риск - Низкий
Доходность - Средняя
Минимальный Капитал для входа - от 100$
Стратегия:
Вход в Новостройку на этапе строительства и сдача объекта в Аренду после постройки`,text:""},{title:`Покупка и Продажа объекта
по программе "Аренда с Выкупом"`,advantages:`Срок инвестиций - от 5 - 10 лет
ROI - от 40 - 70%
Тип инвестиций -
Консервативные Долгосрочные Инвестиции
Риск - Низкий
Доходность - Средняя
Минимальный Капитал для входа - от 100$
Стратегия:
Вход в Новостройку и продажа объекта
по программе "Аренда с Выкупом"`,text:""},{title:`Покупка Недвижимости
по программе "Аренда с Выкупом"`,advantages:`Срок программы - от 5 лет до 33 лет
Минимальный Капитал для входа - от 5% до 30%
от стоимости объекта`,text:""}];return d.useEffect(()=>{e({strategy:s[n].title})},[n]),u.jsxs("div",{className:jr.Box,children:[u.jsx("p",{children:"Шаг 4 из 13"}),u.jsx(Ni,{className:jr.Logo}),u.jsxs("h3",{children:["Давайте определим вашу ",u.jsx("br",{})," стратегию?"]}),u.jsx("div",{className:jr.Items,children:s.map((r,o)=>u.jsxs("div",{className:`${jr.Item} ${n===o?jr.Active:""}`,onClick:()=>i(o),children:[u.jsx("div",{className:jr.Color}),u.jsxs("div",{className:jr.Info,children:[u.jsxs("div",{className:jr.Row,children:[u.jsx("h3",{children:r.title}),u.jsx("div",{children:u.jsx(g3,{})})]}),u.jsx("h4",{children:r.advantages}),u.jsx("p",{children:r.text})]})]},o))}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(4),children:"Продолжить"})]})},NJ="_Box_1g77i_1",DJ="_Logo_1g77i_31",LJ="_Bottom_1g77i_53",jJ="_ROI_1g77i_67",OJ="_Random_1g77i_81",MJ="_Line_1g77i_89",zJ="_Time_1g77i_147",VJ="_RandomBox_1g77i_167",FJ="_RandomIcon_1g77i_179",BJ="_random_1g77i_1",Gs={Box:NJ,Logo:DJ,Bottom:LJ,ROI:jJ,Random:OJ,Line:MJ,Time:zJ,RandomBox:VJ,RandomIcon:FJ,random:BJ},$J=({setStep:t})=>{const[e,n]=d.useState(5);return d.useEffect(()=>{e!==0?setTimeout(()=>{n(e-1)},1e3):t(6)},[e]),u.jsxs("div",{className:Gs.Box,children:[u.jsx("p",{children:"Шаг 6 из 13"}),u.jsx(Ni,{className:Gs.Logo}),u.jsxs("h3",{children:["Ищем объекты согласно ",u.jsx("br",{})," вышей стратегии и капиталу"]}),u.jsxs("div",{className:Gs.Random,children:[u.jsx("div",{className:Gs.RandomBox,children:u.jsx(wH,{className:Gs.RandomIcon})}),u.jsxs("div",{className:Gs.Bottom,children:[u.jsx("div",{className:Gs.Line}),u.jsxs("div",{className:Gs.ROI,children:[u.jsxs("div",{children:[u.jsx("p",{children:"-1%"}),u.jsx("p",{children:"ROI"})]}),u.jsxs("div",{children:[u.jsx("p",{children:"11%"}),u.jsx("p",{children:"ROI"})]}),u.jsxs("div",{children:[u.jsx("p",{children:"22%"}),u.jsx("p",{children:"ROI"})]})]})]})]}),u.jsxs("p",{className:Gs.Time,children:["Я закончу анализ через ",u.jsxs("span",{children:[" ",e]})," с"]})]})},UJ="_Box_10vq1_1",qJ="_Logo_10vq1_31",WJ="_Range_10vq1_53",HJ="_Line_10vq1_67",GJ="_Row_10vq1_81",KJ="_Input_10vq1_97",QJ="_InputBox_10vq1_131",YJ="_InputLine_10vq1_171",XJ="_Choose_10vq1_183",JJ="_ChooseBox_10vq1_209",ZJ="_Active_10vq1_259",eZ="_Chart_10vq1_277",Si={Box:UJ,Logo:qJ,Range:WJ,Line:HJ,Row:GJ,Input:KJ,InputBox:QJ,InputLine:YJ,Choose:XJ,ChooseBox:JJ,Active:ZJ,Chart:eZ};var O3={};var tZ=ho&&ho.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),nZ=ho&&ho.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iZ=ho&&ho.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&tZ(e,t,n);return nZ(e,t),e};Object.defineProperty(O3,"__esModule",{value:!0});const ft=iZ(d);let mv=null,gv=null;const sZ=(t,e)=>{let n=t.ruler===void 0||t.ruler===null?!0:t.ruler,i=t.label===void 0||t.label===null?!0:t.label,s=t.subSteps===void 0||t.subSteps===null?!1:t.subSteps,r=t.stepOnly===void 0||t.stepOnly===null?!1:t.stepOnly,o=t.preventWheel===void 0||t.preventWheel===null?!1:t.preventWheel,l=(0,ft.useRef)(null),c=+(t.min||0),a=+(t.max||100),h=Math.abs(+(t.step||5)),f=0,p=!!t.disabled,m=t.canMinMaxValueSame?0:h,_=Math.floor((+a-+c)/+h),g=t.labels||[];g.length===0?(g=[],g.push(c.toString()),g.push(a.toString())):_=g.length-1,typeof i=="string"&&(i=i==="true"),typeof n=="string"&&(n=n==="true"),typeof o=="string"&&(o=o==="true"),h.toString().includes(".")&&(f=2);let S=t.minValue;S==null&&(S=25),S=+S;let v=t.maxValue;v==null&&(v=75),v=+v,S<c&&(S=c),S>a&&(S=a),v<S&&(v=+S+ +h),v>a&&(v=a),v<c&&(v=c);const[y,w]=(0,ft.useState)(+S),[T,I]=(0,ft.useState)(+v),[x,E]=(0,ft.useState)((y-c)/(a-c)*100),[k,P]=(0,ft.useState)((a-T)/(a-c)*100),[j,H]=(0,ft.useState)(""),[X,K]=(0,ft.useState)(""),[ne,te]=(0,ft.useState)(!0),me=M=>{if(p)return;let V=y-h;V<c&&(V=c),w(V)},J=M=>{if(p)return;let V=parseFloat(M.target.value);V>T-m&&(V=T-m),w(V),te(!0)},O=M=>{if(p)return;let V=M.clientX,ce=M.target.parentNode.getBoundingClientRect(),Te=y;te(!1);let ye=we=>{let Ne=(we.clientX-V)/ce.width,Z=Te+(a-c)*Ne;r&&(Z=Math.round(Z/h)*h),Z=parseFloat(Z.toFixed(f)),Z<c?Z=c:Z>T-m&&(Z=T-m),w(Z)},Re=we=>{te(!0),document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",Re)};document.addEventListener("mousemove",ye),document.addEventListener("mouseup",Re)},F=M=>{if(p)return;let V=M.touches[0].clientX,ce=M.target.parentNode.getBoundingClientRect(),Te=y;te(!1);let ye=we=>{let Ne=(we.touches[0].clientX-V)/ce.width,Z=Te+(a-c)*Ne;r&&(Z=Math.round(Z/h)*h),Z=parseFloat(Z.toFixed(f)),Z<c?Z=c:Z>T-m&&(Z=T-m),w(Z)},Re=we=>{te(!0),document.removeEventListener("touchmove",ye),document.removeEventListener("touchend",Re)};document.addEventListener("touchmove",ye),document.addEventListener("touchend",Re)},B=M=>{if(p)return;let V=y+h;V>T-m&&(V=T-m),w(V)},G=M=>{if(p)return;let V=T-h;V<y+m&&(V=y+m),I(V)},Q=M=>{if(p)return;let V=parseFloat(M.target.value);V<y+m&&(V=y+m),I(V),te(!0)},ge=M=>{if(p)return;let V=M.clientX,ce=M.target.parentNode.getBoundingClientRect(),Te=T;te(!1);let ye=we=>{let Ne=(we.clientX-V)/ce.width,Z=Te+(a-c)*Ne;r&&(Z=Math.round(Z/h)*h),Z=parseFloat(Z.toFixed(f)),Z<y+m?Z=y+m:Z>a&&(Z=a),I(Z)},Re=we=>{te(!0),document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",Re)};document.addEventListener("mousemove",ye),document.addEventListener("mouseup",Re)},z=M=>{if(p)return;let V=M.touches[0].clientX,ce=M.target.parentNode.getBoundingClientRect(),Te=T;te(!1);let ye=we=>{let Ne=(we.touches[0].clientX-V)/ce.width,Z=Te+(a-c)*Ne;r&&(Z=Math.round(Z/h)*h),Z=parseFloat(Z.toFixed(f)),Z<y+m?Z=y+m:Z>a&&(Z=a),I(Z)},Re=we=>{te(!0),document.removeEventListener("touchmove",ye),document.removeEventListener("touchend",Re)};document.addEventListener("touchmove",ye),document.addEventListener("touchend",Re)},ue=M=>{if(p)return;let V=T+h;V>a&&(V=a),I(V)},re=M=>{if(p||o===!0||!M.shiftKey&&!M.ctrlKey)return;let V=(a-c)/100;V>1&&(V=1),M.deltaY<0&&(V=-V);let le=y,fe=T;M.shiftKey&&M.ctrlKey?le+V>=c&&fe+V<=a&&(le=le+V,fe=fe+V):M.ctrlKey?(V=fe+V,V<le+m?V=le+m:V>a&&(V=a),fe=V):M.shiftKey&&(V=le+V,V<c?V=c:V>fe-m&&(V=fe-m),le=V),te(!1),I(fe),w(le),mv&&window.clearTimeout(mv),mv=window.setTimeout(()=>{te(!0)},100)};return(0,ft.useEffect)(()=>{l&&l.current&&l.current.parentNode.addEventListener("wheel",le=>{!le.shiftKey&&!le.ctrlKey||le.preventDefault()})},[l]),(0,ft.useEffect)(()=>{if(T<y)throw new Error("maxValue is less than minValue");const M=()=>{let fe={min:c,max:a,minValue:y,maxValue:T};ne&&t.onChange&&t.onChange(fe),t.onInput&&t.onInput(fe)};H(t.minCaption||y.toFixed(f)),K(t.maxCaption||T.toFixed(f));let V=(y-c)/(a-c)*100;E(V);let le=(a-T)/(a-c)*100;P(le),gv&&window.clearTimeout(gv),gv=window.setTimeout(M,20)},[y,T,c,a,f,t,ne]),(0,ft.useEffect)(()=>{let M=t.minValue;M==null&&(M=25),M=+M,M<c&&(M=c),M>a&&(M=a),te(!1),w(+M)},[t.minValue,c,a]),(0,ft.useEffect)(()=>{let M=t.maxValue;M==null&&(M=75),M=+M,M>a&&(M=a),M<c&&(M=c),te(!1),I(+M)},[t.maxValue,c,a,h]),ft.default.createElement("div",{ref:e,id:t.id,className:(t.baseClassName||"multi-range-slider")+" "+(t.className||"")+(p?" disabled":""),style:t.style,onWheel:re},ft.default.createElement("div",{className:"bar",ref:l},ft.default.createElement("div",{className:"bar-left",style:{width:x+"%",backgroundColor:t.barLeftColor},onClick:me}),ft.default.createElement("input",{placeholder:"min-value",className:"input-type-range input-type-range-min",type:"range",min:c,max:a,step:h,value:y,onInput:J}),ft.default.createElement("div",{className:"thumb thumb-left",style:{backgroundColor:t.thumbLeftColor},onMouseDown:O,onTouchStart:F},ft.default.createElement("div",{className:"caption"},ft.default.createElement("span",{className:"min-caption"},j))),ft.default.createElement("div",{className:"bar-inner",style:{backgroundColor:t.barInnerColor}},ft.default.createElement("div",{className:"bar-inner-left",onClick:B}),ft.default.createElement("div",{className:"bar-inner-right",onClick:G})),ft.default.createElement("input",{placeholder:"max-value",className:"input-type-range input-type-range-max",type:"range",min:c,max:a,step:h,value:T,onInput:Q}),ft.default.createElement("div",{className:"thumb thumb-right",style:{backgroundColor:t.thumbRightColor},onMouseDown:ge,onTouchStart:z},ft.default.createElement("div",{className:"caption"},ft.default.createElement("span",{className:"max-caption"},X))),ft.default.createElement("div",{className:"bar-right",style:{width:k+"%",backgroundColor:t.barRightColor},onClick:ue})),n&&ft.default.createElement("div",{className:"ruler"},[...Array(_)].map((M,V)=>ft.default.createElement("div",{key:V,className:"ruler-rule"},s&&[...Array(10)].map((le,fe)=>ft.default.createElement("div",{key:fe,className:"ruler-sub-rule"}))))),i&&ft.default.createElement("div",{className:"labels"},g.map(M=>ft.default.createElement("div",{key:M.toString(),className:"label"},M))))};var rZ=O3.default=ft.default.memo((0,ft.forwardRef)(sZ)),M3={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(ho,function(){var e,n,i="2.0.6",s={},r={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function c(a,h){this._input=a,this._value=h}return e=function(a){var h,f,p,m;if(e.isNumeral(a))h=a.value();else if(a===0||typeof a>"u")h=0;else if(a===null||n.isNaN(a))h=null;else if(typeof a=="string")if(l.zeroFormat&&a===l.zeroFormat)h=0;else if(l.nullFormat&&a===l.nullFormat||!a.replace(/[^0-9]+/g,"").length)h=null;else{for(f in s)if(m=typeof s[f].regexps.unformat=="function"?s[f].regexps.unformat():s[f].regexps.unformat,m&&a.match(m)){p=s[f].unformat;break}p=p||e._.stringToNumber,h=p(a)}else h=Number(a)||null;return new c(a,h)},e.version=i,e.isNumeral=function(a){return a instanceof c},e._=n={numberToFormat:function(a,h,f){var p=r[e.options.currentLocale],m=!1,_=!1,g=0,S="",v=1e12,y=1e9,w=1e6,T=1e3,I="",x=!1,E,k,P,j,H,X,K;if(a=a||0,k=Math.abs(a),e._.includes(h,"(")?(m=!0,h=h.replace(/[\(|\)]/g,"")):(e._.includes(h,"+")||e._.includes(h,"-"))&&(H=e._.includes(h,"+")?h.indexOf("+"):a<0?h.indexOf("-"):-1,h=h.replace(/[\+|\-]/g,"")),e._.includes(h,"a")&&(E=h.match(/a(k|m|b|t)?/),E=E?E[1]:!1,e._.includes(h," a")&&(S=" "),h=h.replace(new RegExp(S+"a[kmbt]?"),""),k>=v&&!E||E==="t"?(S+=p.abbreviations.trillion,a=a/v):k<v&&k>=y&&!E||E==="b"?(S+=p.abbreviations.billion,a=a/y):k<y&&k>=w&&!E||E==="m"?(S+=p.abbreviations.million,a=a/w):(k<w&&k>=T&&!E||E==="k")&&(S+=p.abbreviations.thousand,a=a/T)),e._.includes(h,"[.]")&&(_=!0,h=h.replace("[.]",".")),P=a.toString().split(".")[0],j=h.split(".")[1],X=h.indexOf(","),g=(h.split(".")[0].split(",")[0].match(/0/g)||[]).length,j?(e._.includes(j,"[")?(j=j.replace("]",""),j=j.split("["),I=e._.toFixed(a,j[0].length+j[1].length,f,j[1].length)):I=e._.toFixed(a,j.length,f),P=I.split(".")[0],e._.includes(I,".")?I=p.delimiters.decimal+I.split(".")[1]:I="",_&&Number(I.slice(1))===0&&(I="")):P=e._.toFixed(a,0,f),S&&!E&&Number(P)>=1e3&&S!==p.abbreviations.trillion)switch(P=String(Number(P)/1e3),S){case p.abbreviations.thousand:S=p.abbreviations.million;break;case p.abbreviations.million:S=p.abbreviations.billion;break;case p.abbreviations.billion:S=p.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),x=!0),P.length<g)for(var ne=g-P.length;ne>0;ne--)P="0"+P;return X>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),h.indexOf(".")===0&&(P=""),K=P+I+(S||""),m?K=(m&&x?"(":"")+K+(m&&x?")":""):H>=0?K=H===0?(x?"-":"+")+K:K+(x?"-":"+"):x&&(K="-"+K),K},stringToNumber:function(a){var h=r[l.currentLocale],f=a,p={thousand:3,million:6,billion:9,trillion:12},m,_,g;if(l.zeroFormat&&a===l.zeroFormat)_=0;else if(l.nullFormat&&a===l.nullFormat||!a.replace(/[^0-9]+/g,"").length)_=null;else{_=1,h.delimiters.decimal!=="."&&(a=a.replace(/\./g,"").replace(h.delimiters.decimal,"."));for(m in p)if(g=new RegExp("[^a-zA-Z]"+h.abbreviations[m]+"(?:\\)|(\\"+h.currency.symbol+")?(?:\\))?)?$"),f.match(g)){_*=Math.pow(10,p[m]);break}_*=(a.split("-").length+Math.min(a.split("(").length-1,a.split(")").length-1))%2?1:-1,a=a.replace(/[^0-9\.]+/g,""),_*=Number(a)}return _},isNaN:function(a){return typeof a=="number"&&isNaN(a)},includes:function(a,h){return a.indexOf(h)!==-1},insert:function(a,h,f){return a.slice(0,f)+h+a.slice(f)},reduce:function(a,h){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof h!="function")throw new TypeError(h+" is not a function");var f=Object(a),p=f.length>>>0,m=0,_;if(arguments.length===3)_=arguments[2];else{for(;m<p&&!(m in f);)m++;if(m>=p)throw new TypeError("Reduce of empty array with no initial value");_=f[m++]}for(;m<p;m++)m in f&&(_=h(_,f[m],m,f));return _},multiplier:function(a){var h=a.toString().split(".");return h.length<2?1:Math.pow(10,h[1].length)},correctionFactor:function(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(h,f){var p=n.multiplier(f);return h>p?h:p},1)},toFixed:function(a,h,f,p){var m=a.toString().split("."),_=h-(p||0),g,S,v,y;return m.length===2?g=Math.min(Math.max(m[1].length,_),h):g=_,v=Math.pow(10,g),y=(f(a+"e+"+g)/v).toFixed(g),p>h-g&&(S=new RegExp("\\.?0{1,"+(p-(h-g))+"}$"),y=y.replace(S,"")),y}},e.options=l,e.formats=s,e.locales=r,e.locale=function(a){return a&&(l.currentLocale=a.toLowerCase()),l.currentLocale},e.localeData=function(a){if(!a)return r[l.currentLocale];if(a=a.toLowerCase(),!r[a])throw new Error("Unknown locale : "+a);return r[a]},e.reset=function(){for(var a in o)l[a]=o[a]},e.zeroFormat=function(a){l.zeroFormat=typeof a=="string"?a:null},e.nullFormat=function(a){l.nullFormat=typeof a=="string"?a:null},e.defaultFormat=function(a){l.defaultFormat=typeof a=="string"?a:"0.0"},e.register=function(a,h,f){if(h=h.toLowerCase(),this[a+"s"][h])throw new TypeError(h+" "+a+" already registered.");return this[a+"s"][h]=f,f},e.validate=function(a,h){var f,p,m,_,g,S,v,y;if(typeof a!="string"&&(a+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",a)),a=a.trim(),a.match(/^\d+$/))return!0;if(a==="")return!1;try{v=e.localeData(h)}catch{v=e.localeData(e.locale())}return m=v.currency.symbol,g=v.abbreviations,f=v.delimiters.decimal,v.delimiters.thousands==="."?p="\\.":p=v.delimiters.thousands,y=a.match(/^[^\d]+/),y!==null&&(a=a.substr(1),y[0]!==m)||(y=a.match(/[^\d]+$/),y!==null&&(a=a.slice(0,-1),y[0]!==g.thousand&&y[0]!==g.million&&y[0]!==g.billion&&y[0]!==g.trillion))?!1:(S=new RegExp(p+"{2}"),a.match(/[^\d.,]/g)?!1:(_=a.split(f),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(S):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(S)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(S)&&!!_[1].match(/^\d+$/)))},e.fn=c.prototype={clone:function(){return e(this)},format:function(a,h){var f=this._value,p=a||l.defaultFormat,m,_,g;if(h=h||Math.round,f===0&&l.zeroFormat!==null)_=l.zeroFormat;else if(f===null&&l.nullFormat!==null)_=l.nullFormat;else{for(m in s)if(p.match(s[m].regexps.format)){g=s[m].format;break}g=g||e._.numberToFormat,_=g(f,p,h)}return _},value:function(){return this._value},input:function(){return this._input},set:function(a){return this._value=Number(a),this},add:function(a){var h=n.correctionFactor.call(null,this._value,a);function f(p,m,_,g){return p+Math.round(h*m)}return this._value=n.reduce([this._value,a],f,0)/h,this},subtract:function(a){var h=n.correctionFactor.call(null,this._value,a);function f(p,m,_,g){return p-Math.round(h*m)}return this._value=n.reduce([a],f,Math.round(this._value*h))/h,this},multiply:function(a){function h(f,p,m,_){var g=n.correctionFactor(f,p);return Math.round(f*g)*Math.round(p*g)/Math.round(g*g)}return this._value=n.reduce([this._value,a],h,1),this},divide:function(a){function h(f,p,m,_){var g=n.correctionFactor(f,p);return Math.round(f*g)/Math.round(p*g)}return this._value=n.reduce([this._value,a],h),this},difference:function(a){return Math.abs(e(this._value).subtract(a).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var h=a%10;return~~(a%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(a,h,f){var p=e._.includes(h," BPS")?" ":"",m;return a=a*1e4,h=h.replace(/\s?BPS/,""),m=e._.numberToFormat(a,h,f),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,p+"BPS"),m=m.join("")):m=m+p+"BPS",m},unformat:function(a){return+(e._.stringToNumber(a)*1e-4).toFixed(15)}})}(),function(){var a={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},f=a.suffixes.concat(h.suffixes.filter(function(m){return a.suffixes.indexOf(m)<0})),p=f.join("|");p="("+p.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(p)},format:function(m,_,g){var S,v=e._.includes(_,"ib")?h:a,y=e._.includes(_," b")||e._.includes(_," ib")?" ":"",w,T,I;for(_=_.replace(/\s?i?b/,""),w=0;w<=v.suffixes.length;w++)if(T=Math.pow(v.base,w),I=Math.pow(v.base,w+1),m===null||m===0||m>=T&&m<I){y+=v.suffixes[w],T>0&&(m=m/T);break}return S=e._.numberToFormat(m,_,g),S+y},unformat:function(m){var _=e._.stringToNumber(m),g,S;if(_){for(g=a.suffixes.length-1;g>=0;g--){if(e._.includes(m,a.suffixes[g])){S=Math.pow(a.base,g);break}if(e._.includes(m,h.suffixes[g])){S=Math.pow(h.base,g);break}}_*=S||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(a,h,f){var p=e.locales[e.options.currentLocale],m={before:h.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:h.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,g,S;for(h=h.replace(/\s?\$\s?/,""),_=e._.numberToFormat(a,h,f),a>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):a<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),S=0;S<m.before.length;S++)switch(g=m.before[S],g){case"$":_=e._.insert(_,p.currency.symbol,S);break;case" ":_=e._.insert(_," ",S+p.currency.symbol.length-1);break}for(S=m.after.length-1;S>=0;S--)switch(g=m.after[S],g){case"$":_=S===m.after.length-1?_+p.currency.symbol:e._.insert(_,p.currency.symbol,-(m.after.length-(1+S)));break;case" ":_=S===m.after.length-1?_+" ":e._.insert(_," ",-(m.after.length-(1+S)+p.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(a,h,f){var p,m=typeof a=="number"&&!e._.isNaN(a)?a.toExponential():"0e+0",_=m.split("e");return h=h.replace(/e[\+|\-]{1}0/,""),p=e._.numberToFormat(Number(_[0]),h,f),p+"e"+_[1]},unformat:function(a){var h=e._.includes(a,"e+")?a.split("e+"):a.split("e-"),f=Number(h[0]),p=Number(h[1]);p=e._.includes(a,"e-")?p*=-1:p;function m(_,g,S,v){var y=e._.correctionFactor(_,g),w=_*y*(g*y)/(y*y);return w}return e._.reduce([f,Math.pow(10,p)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(a,h,f){var p=e.locales[e.options.currentLocale],m,_=e._.includes(h," o")?" ":"";return h=h.replace(/\s?o/,""),_+=p.ordinal(a),m=e._.numberToFormat(a,h,f),m+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(a,h,f){var p=e._.includes(h," %")?" ":"",m;return e.options.scalePercentBy100&&(a=a*100),h=h.replace(/\s?\%/,""),m=e._.numberToFormat(a,h,f),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,p+"%"),m=m.join("")):m=m+p+"%",m},unformat:function(a){var h=e._.stringToNumber(a);return e.options.scalePercentBy100?h*.01:h}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(a,h,f){var p=Math.floor(a/60/60),m=Math.floor((a-p*60*60)/60),_=Math.round(a-p*60*60-m*60);return p+":"+(m<10?"0"+m:m)+":"+(_<10?"0"+_:_)},unformat:function(a){var h=a.split(":"),f=0;return h.length===3?(f=f+Number(h[0])*60*60,f=f+Number(h[1])*60,f=f+Number(h[2])):h.length===2&&(f=f+Number(h[0])*60,f=f+Number(h[1])),Number(f)}})}(),e})})(M3);var oZ=M3.exports;const Nf=Kh(oZ),lZ=({setStep:t})=>{const[e,n]=d.useState(4e4),[i,s]=d.useState(6e4),r=h=>{n(Math.round(h.minValue/1e3)*1e3),s(Math.round(h.maxValue/1e3)*1e3)};d.useEffect(()=>{e===0&&n(100)},[e]);const[o,l]=d.useState("$"),c=["$","₽","د.إ","€"],a=nt(h=>h.changeAuth);return d.useEffect(()=>{a({minBudget:Nf(e).format("0,0").replace(/,/g," "),maxBudget:Nf(i).format("0,0").replace(/,/g," "),budgetCurrency:o})},[e,i,o]),u.jsxs("div",{className:Si.Box,children:[u.jsx("p",{children:"Шаг 5 из 13"}),u.jsx(Ni,{className:Si.Logo}),u.jsxs("h3",{children:["Какой бюджет на покупку ",u.jsx("br",{})," вы планируете выделить ",u.jsx("br",{})," в течении 5 лет?"]}),u.jsx(cZ,{className:Si.Chart}),u.jsx("div",{className:Si.Line}),u.jsx(rZ,{min:100,max:1e5,step:1e3,minValue:e,maxValue:i,onInput:h=>{r(h)},className:Si.Range,label:!1,ruler:!1,barLeftColor:"transparent",barInnerColor:"transparent",barRightColor:"transparent",thumbLeftColor:"#fff",thumbRightColor:"#fff"}),u.jsxs("div",{className:Si.Row,children:[u.jsxs("div",{className:Si.Input,children:[u.jsx("label",{children:"Min"}),u.jsxs("div",{className:Si.InputBox,children:[u.jsx("input",{readOnly:!0,value:Nf(e).format("0,0").replace(/,/g," ")}),u.jsxs("p",{children:[" ",o==="Unit"?u.jsx(sp,{}):o]})]})]}),u.jsx("div",{className:Si.InputLine}),u.jsxs("div",{className:Si.Input,children:[u.jsx("label",{children:"Max"}),u.jsxs("div",{className:Si.InputBox,children:[u.jsx("input",{readOnly:!0,value:Nf(i).format("0,0").replace(/,/g," ")}),u.jsxs("p",{children:[" ",o==="Unit"?u.jsx(sp,{}):o]})]})]})]}),u.jsxs("div",{className:Si.Choose,children:[u.jsx("label",{children:"Выберете валюту"}),u.jsx("div",{className:Si.ChooseBox,children:c.map((h,f)=>u.jsx("div",{className:o===h?Si.Active:"",onClick:()=>l(h),children:h==="Unit"?u.jsx(sp,{}):h},f))})]}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(5),children:"Продолжить"})]})},cZ=t=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"262",height:"48",fill:"none",viewBox:"0 0 262 48",...t,children:u.jsx("path",{fill:"#4d8cff",stroke:"#4d8cff",d:"M181.775 38.93C144.106 29.634 89.167 1 50.5 1 31.822 1 16.06 37.079 2 47h259s-56.039-2.348-79.225-8.07z"})}),aZ="_Box_1vlnp_1",uZ="_Logo_1vlnp_31",g2={Box:aZ,Logo:uZ},hZ=({setStep:t})=>u.jsxs("div",{className:g2.Box,children:[u.jsx("p",{children:"Шаг 7 из 13"}),u.jsx(Ni,{className:g2.Logo}),u.jsxs("h3",{children:["Зарегестрируйте Аккаунт ",u.jsx("br",{})," чтобы узнать больше"]}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(7),children:"Создать Аккаунт"})]}),dZ="_Box_9kvnr_1",fZ="_Logo_9kvnr_31",_2={Box:dZ,Logo:fZ},pZ=({setStep:t})=>{const[e,n]=d.useState(""),i=nt(s=>s.changeAuth);return d.useEffect(()=>{i({fullname:e})},[e]),u.jsxs("div",{className:_2.Box,children:[u.jsx("p",{children:"Шаг 8 из 13"}),u.jsx(Ni,{className:_2.Logo}),u.jsxs("h3",{children:["Давайте заполним ваш Аккаунт ",u.jsx("br",{})," Как Вас зовут?"]}),u.jsx(A,{label:"Ваше имя",placeholder:"Введите ваше имя",type:"text",onChange:s=>n(s.target.value),value:e}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(8),disabled:e==="",children:"Продолжить"})]})},mZ="_Box_spvi5_1",gZ="_Logo_spvi5_31",_Z="_Countries_spvi5_63",vZ="_Input_spvi5_119",yZ="_Active_spvi5_181",wu={Box:mZ,Logo:gZ,Countries:_Z,Input:vZ,Active:yZ},_v=[{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/f/f3/Flag_of_Russia.svg/1920px-Flag_of_Russia.svg.png",name:"Russia",code:"+7"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Flag_of_Kazakhstan.svg/1920px-Flag_of_Kazakhstan.svg.png",name:"Kazakhstan",code:"+7"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Flag_of_the_United_Arab_Emirates.svg/1920px-Flag_of_the_United_Arab_Emirates.svg.png",name:"United Arab Emirates (Dubai)",code:"+971"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1920px-Flag_of_the_United_States.svg.png",name:"United States",code:"+1"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Flag_of_the_People%27s_Republic_of_China.svg/1920px-Flag_of_the_People%27s_Republic_of_China.svg.png",name:"China",code:"+86"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/1920px-Flag_of_India.svg.png",name:"India",code:"+91"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/0/05/Flag_of_Brazil.svg/1280px-Flag_of_Brazil.svg.png",name:"Brazil",code:"+55"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Flag_of_Indonesia.svg/1920px-Flag_of_Indonesia.svg.png",name:"Indonesia",code:"+62"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Flag_of_Pakistan.svg/1920px-Flag_of_Pakistan.svg.png",name:"Pakistan",code:"+92"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Flag_of_Nigeria.svg/1920px-Flag_of_Nigeria.svg.png",name:"Nigeria",code:"+234"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Flag_of_Bangladesh.svg/1920px-Flag_of_Bangladesh.svg.png",name:"Bangladesh",code:"+880"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Flag_of_Mexico.svg/1920px-Flag_of_Mexico.svg.png",name:"Mexico",code:"+52"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/9/9e/Flag_of_Japan.svg/800px-Flag_of_Japan.svg.png?20111003030759",name:"Japan",code:"+81"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Flag_of_Ethiopia.svg/1920px-Flag_of_Ethiopia.svg.png",name:"Ethiopia",code:"+251"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Flag_of_the_Philippines.svg/1920px-Flag_of_the_Philippines.svg.png",name:"Philippines",code:"+63"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Flag_of_Egypt.svg/1920px-Flag_of_Egypt.svg.png",name:"Egypt",code:"+20"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/1920px-Flag_of_Vietnam.svg.png",name:"Vietnam",code:"+84"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Flag_of_the_Democratic_Republic_of_the_Congo.svg/1280px-Flag_of_the_Democratic_Republic_of_the_Congo.svg.png",name:"DR Congo",code:"+243"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Flag_of_Turkey.svg/1920px-Flag_of_Turkey.svg.png",name:"Turkey",code:"+90"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Flag_of_Iran.svg/1920px-Flag_of_Iran.svg.png",name:"Iran",code:"+98"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/b/ba/Flag_of_Germany.svg/800px-Flag_of_Germany.svg.png?20111003033442",name:"Germany",code:"+49"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Flag_of_Thailand.svg/1920px-Flag_of_Thailand.svg.png",name:"Thailand",code:"+66"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Flag_of_the_United_Kingdom_%281-2%29.svg/1920px-Flag_of_the_United_Kingdom_%281-2%29.svg.png",name:"United Kingdom",code:"+44"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/c/c3/Flag_of_France.svg/1920px-Flag_of_France.svg.png",name:"France",code:"+33"},{flag:"https://upload.wikimedia.org/wikipedia/en/thumb/0/03/Flag_of_Italy.svg/1920px-Flag_of_Italy.svg.png",name:"Italy",code:"+39"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Flag_of_South_Africa.svg/1920px-Flag_of_South_Africa.svg.png",name:"South Africa",code:"+27"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Flag_of_Tanzania.svg/1920px-Flag_of_Tanzania.svg.png",name:"Tanzania",code:"+255"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Flag_of_Myanmar.svg/1920px-Flag_of_Myanmar.svg.png",name:"Myanmar",code:"+95"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Kenya.svg/1920px-Flag_of_Kenya.svg.png",name:"Kenya",code:"+254"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Flag_of_South_Korea.svg/1920px-Flag_of_South_Korea.svg.png",name:"South Korea",code:"+82"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Colombia.svg/1920px-Flag_of_Colombia.svg.png",name:"Colombia",code:"+57"},{flag:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Bandera_de_Espa%C3%B1a.svg/1920px-Bandera_de_Espa%C3%B1a.svg.png",name:"Spain",code:"+34"}],v2=({setStep:t,register:e})=>{const[n,i]=d.useState(0),[s,r]=d.useState(""),[o,l]=d.useState(!1),[c,a]=d.useState(!1);d.useEffect(()=>{r(_v[n].code)},[n]);const h=nt(m=>m.changeAuth);d.useEffect(()=>{h({phoneNumber:s})},[s]);function f(){window.recaptchaVerifier=new WF(t2,"sign-in-button",{size:"normal",callback:()=>{t(e?15:9)}})}function p(){a(!0),f();const m=window.recaptchaVerifier;KF(t2,s,m).then(_=>{window.confirmationResult=_}).catch(_=>{console.log(_)})}return u.jsxs("div",{className:wu.Box,children:[e?u.jsx("p",{children:"Шаг 1 из 3"}):u.jsx("p",{children:"Шаг 9 из 13"}),u.jsx(Ni,{className:wu.Logo}),u.jsxs("h3",{children:["Введите ваш номер телефона ",u.jsx("br",{})," он будет вашим логином в систему"]}),u.jsxs("div",{className:wu.Input,children:[u.jsxs("div",{onClick:()=>l(!o),children:[u.jsx("img",{src:_v[n].flag,alt:""}),u.jsx(p3,{className:o?wu.Active:""})]}),u.jsx("input",{type:"text",value:s,onChange:m=>r(m.target.value)})]}),o&&u.jsx("div",{className:wu.Countries,children:_v.map((m,_)=>u.jsxs("div",{onClick:()=>{i(_),l(!1)},children:[u.jsx("img",{src:m.flag,alt:""}),u.jsxs("p",{children:[m.name," ",u.jsx("span",{children:m.code})]})]},_))}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>p(),disabled:c,children:"Продолжить"}),u.jsx("div",{id:"sign-in-button"})]})},SZ="_Box_1qoj7_1",wZ="_Logo_1qoj7_31",y2={Box:SZ,Logo:wZ};var z3={exports:{}};(function(t,e){(function(n,i){t.exports=i(d)})(typeof self<"u"?self:ho,function(n){return function(i){var s={};function r(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return i[o].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=i,r.c=s,r.d=function(o,l,c){r.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:c})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,l){if(1&l&&(o=r(o)),8&l||4&l&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&l&&typeof o!="string")for(var a in o)r.d(c,a,(function(h){return o[h]}).bind(null,a));return c},r.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(l,"a",l),l},r.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},r.p="",r(r.s=0)}([function(i,s,r){Object.defineProperty(s,"__esModule",{value:!0});var o=Object.assign||function(g){for(var S=1;S<arguments.length;S++){var v=arguments[S];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g},l=function(){function g(S,v){for(var y=0;y<v.length;y++){var w=v[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,v,y){return v&&g(S.prototype,v),y&&g(S,y),S}}(),c=r(1),a=m(c),h=m(r(2)),f=m(r(5)),p=r(6);function m(g){return g&&g.__esModule?g:{default:g}}var _=function(g){function S(v){(function(X,K){if(!(X instanceof K))throw new TypeError("Cannot call a class as a function")})(this,S);var y=function(X,K){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||typeof K!="object"&&typeof K!="function"?X:K}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,v)),w=v.fields,T=v.type,I=v.isValid,x=v.disabled,E=v.filterKeyCodes,k=v.forceUppercase,P=v.value;k&&(P=P.toUpperCase()),y.state={value:P,fields:w,type:T,input:[],isValid:I,disabled:x,filterKeyCodes:E,defaultInputStyle:{fontFamily:"monospace",MozAppearance:"textfield",borderRadius:"6px",border:"1px solid",boxShadow:"0px 0px 10px 0px rgba(0,0,0,.10)",margin:"4px",paddingLeft:"8px",width:"36px",height:"42px",fontSize:"32px",boxSizing:"border-box"}};for(var j=0;j<Number(y.state.fields);j+=1)if(j<32){var H=y.state.value[j]||"";y.state.input.push(H)}return y.textInput=[],y.uuid=(0,p.uuidv4)(),y}return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(S,c.Component),l(S,[{key:"UNSAFE_componentWillReceiveProps",value:function(v){this.setState({isValid:v.isValid,value:v.value,disabled:v.disabled})}},{key:"handleBlur",value:function(v){this.handleTouch(v.target.value)}},{key:"handleTouch",value:function(v){var y=this.props,w=y.touch,T=y.untouch,I=y.name;typeof w=="function"&&typeof T=="function"&&(v===""?w(I):T(I))}},{key:"handleChange",value:function(v){var y=this,w=this.props.filterChars,T=String(v.target.value);this.props.forceUppercase&&(T=T.toUpperCase()),this.state.type==="number"&&(T=T.replace(/[^\d]/g,""));var I=T=T.split("").filter(function(k){return!w.includes(k)}).join("");if(T!==""){var x=this.state.input.slice();T.length>1?T.split("").map(function(k,P){return Number(v.target.dataset.id)+P<y.props.fields&&(x[Number(v.target.dataset.id)+P]=k),!1}):x[Number(v.target.dataset.id)]=T,x.map(function(k,P){return y.textInput[P]&&(y.textInput[P].value=k),!1});var E=this.textInput[v.target.dataset.id<x.length?Number(v.target.dataset.id)+1:v.target.dataset.id];E&&(E.focus(),E.select()),I=x.join(""),this.setState({value:x.join(""),input:x})}this.props.onChange&&I&&this.props.onChange(I),this.handleTouch(I)}},{key:"handleKeyDown",value:function(v){var y=Number(v.target.dataset.id),w=this.textInput[y+1],T=this.textInput[y-1],I=void 0,x=void 0;switch(this.state.filterKeyCodes.length>0&&this.state.filterKeyCodes.map(function(E){if(E===v.keyCode)return v.preventDefault(),!0}),v.keyCode){case 8:v.preventDefault(),this.textInput[y].value="",(I=this.state.input.slice())[y]="",x=I.join(""),this.setState({value:x,input:I}),this.textInput[y].value===""&&T&&(T.focus(),T.select()),this.props.onChange&&this.props.onChange(x);break;case 37:v.preventDefault(),T&&(T.focus(),T.select());break;case 39:v.preventDefault(),w&&(w.focus(),w.select());break;case 38:case 40:v.preventDefault();break;case 69:if(v.target.type==="number"){v.preventDefault();break}}this.handleTouch(x)}},{key:"render",value:function(){var v=this,y=this.props,w=y.className,T=y.style,I=T===void 0?{}:T,x=y.inputStyle,E=x===void 0?{}:x,k=y.inputStyleInvalid,P=k===void 0?{}:k,j=y.type,H=y.autoFocus,X=y.pattern,K=y.inputMode,ne=this.state,te=ne.disabled,me=ne.input,J=ne.isValid,O=ne.defaultInputStyle,F={container:I,input:J?E:P};return Object.assign(F.container,{display:"inline-block"}),w||Object.keys(E).length!==0||Object.assign(E,o({},O,{color:"black",backgroundColor:"white",borderColor:"lightgrey"})),w||Object.keys(P).length!==0||Object.assign(P,o({},O,{color:"#b94a48",backgroundColor:"#f2dede",borderColor:"#eed3d7"})),te&&Object.assign(F.input,{cursor:"not-allowed",color:"lightgrey",borderColor:"lightgrey",backgroundColor:"#efeff1"}),a.default.createElement("div",{className:(0,f.default)(w,"react-code-input"),style:F.container},me.map(function(B,G){return a.default.createElement("input",{ref:function(Q){v.textInput[G]=Q},id:v.uuid+"-"+G,"data-id":G,autoFocus:H&&G===0?"autoFocus":"",value:B,key:"input_"+G,type:j,min:0,max:9,maxLength:me.length===G+1?1:me.length,style:F.input,autoComplete:"off",onFocus:function(Q){return Q.target.select(Q)},onBlur:function(Q){return v.handleBlur(Q)},onChange:function(Q){return v.handleChange(Q)},onKeyDown:function(Q){return v.handleKeyDown(Q)},disabled:te,"data-valid":J,pattern:X,inputMode:K})}))}}]),S}();_.defaultProps={autoFocus:!0,isValid:!0,disabled:!1,forceUppercase:!1,fields:4,value:"",type:"text",filterKeyCodes:[189,190],filterChars:["-","."]},_.propTypes={type:h.default.oneOf(["text","number","password","tel"]),fields:h.default.number,value:h.default.string,onChange:h.default.func,name:h.default.string,touch:h.default.func,untouch:h.default.func,className:h.default.string,isValid:h.default.bool,disabled:h.default.bool,style:h.default.object,inputStyle:h.default.object,inputStyleInvalid:h.default.object,autoFocus:h.default.bool,forceUppercase:h.default.bool,filterKeyCodes:h.default.array,filterChars:h.default.array,pattern:h.default.string,inputMode:h.default.oneOf(["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"])},s.default=_},function(i,s){i.exports=n},function(i,s,r){i.exports=r(3)()},function(i,s,r){var o=r(4);function l(){}i.exports=function(){function c(f,p,m,_,g,S){if(S!==o){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}function a(){return c}c.isRequired=c;var h={array:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:a,element:c,instanceOf:a,node:c,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a};return h.checkPropTypes=l,h.PropTypes=h,h}},function(i,s,r){i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(i,s,r){var o;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var l={}.hasOwnProperty;function c(){for(var a=[],h=0;h<arguments.length;h++){var f=arguments[h];if(f){var p=typeof f;if(p==="string"||p==="number")a.push(f);else if(Array.isArray(f)&&f.length){var m=c.apply(null,f);m&&a.push(m)}else if(p==="object")for(var _ in f)l.call(f,_)&&f[_]&&a.push(_)}}return a.join(" ")}i!==void 0&&i.exports?(c.default=c,i.exports=c):(o=(function(){return c}).apply(s,[]))===void 0||(i.exports=o)})()},function(i,s,r){Object.defineProperty(s,"__esModule",{value:!0}),s.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var l=16*Math.random()|0;return(o==="x"?l:3&l|8).toString(16)})}}])})})(z3);var xZ=z3.exports;const TZ=Kh(xZ),S2=({setStep:t,register:e})=>{const[n,i]=d.useState(""),s=nt(l=>l.auth);async function r(l){console.log(l);const c=VU(pW,`users/${l}`);await BU(c,{...s})}function o(){window.confirmationResult.confirm(n).then(async l=>{await r(l.user.uid),t(e?16:10)}).catch(l=>{console.log(l)})}return u.jsxs("div",{className:y2.Box,children:[e?u.jsx("p",{children:"Шаг 2 из 3"}):u.jsx("p",{children:"Шаг 10 из 13"}),u.jsx(Ni,{className:y2.Logo}),u.jsxs("h3",{children:["Введите короткий код ",u.jsx("br",{})," который пришел вам на телефон"]}),u.jsx(TZ,{name:"",inputMode:"tel",onChange:l=>i(l),value:n,type:"text",fields:6}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>o(),children:"Продолжить"})]})},IZ="_Box_1qoj7_1",EZ="_Logo_1qoj7_31",w2={Box:IZ,Logo:EZ},CZ=({setStep:t})=>{const[e,n]=d.useState(""),i=nt(s=>s.changeAuth);return d.useEffect(()=>{i({email:e})},[e]),u.jsxs("div",{className:w2.Box,children:[u.jsx("p",{children:"Шаг 11 из 13"}),u.jsx(Ni,{className:w2.Logo}),u.jsxs("h3",{children:["Пожалуйста, поделитесь своим ",u.jsx("br",{})," Email адресом"]}),u.jsx(A,{label:"Email",placeholder:"Введите ваш Email",type:"text",onChange:s=>n(s.target.value),value:e}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(11),children:"Продолжить"}),u.jsx(Ue,{onClick:()=>t(11),style:{background:"transparent",border:"1px solid #4d8cff",color:"#4d8cff",fontSize:14},children:"Пропустить шаг"})]})},kZ="_Box_lwn57_1",RZ="_Logo_lwn57_31",PZ="_List_lwn57_55",bZ="_Row_lwn57_67",AZ="_Check_lwn57_81",NZ="_Active_lwn57_101",lc={Box:kZ,Logo:RZ,List:PZ,Row:bZ,Check:AZ,Active:NZ},DZ=({setStep:t})=>{const[e,n]=d.useState(null),i=[`Я новичок -
Никогда не инвестировал в недвижимость`,`Я опытный инвестор -
Уже инвестирую в недвижимость
и знаю как это работает`,`Я проффесионал -
Уже работаю на рынке недвижимости`,`Хочу заработать вместе с системой Unit Holder -
на Цифровой Недвижимости`],s=nt(r=>r.changeAuth);return d.useEffect(()=>{s({description:i[e||0]})},[e,i]),u.jsxs("div",{className:lc.Box,children:[u.jsx("p",{children:"Шаг 12 из 13"}),u.jsx(Ni,{className:lc.Logo}),u.jsx("h3",{children:"Как бы вы описали себя?"}),u.jsx("div",{className:lc.List,children:i.map((r,o)=>u.jsxs("div",{onClick:()=>n(o),className:lc.Row,children:[u.jsx("div",{className:`${lc.Check} ${e===o?lc.Active:""}`,children:u.jsx(g3,{})}),u.jsx("p",{children:r})]},o))}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>t(12),disabled:e===null,children:"Продолжить"})]})},LZ="_Box_boe6p_1",jZ="_Logo_boe6p_31",OZ="_Numbers_boe6p_61",MZ="_Code_boe6p_119",zZ="_Active_boe6p_145",Or={Box:LZ,Logo:jZ,Numbers:OZ,Code:MZ,Active:zZ},x2=({setStep:t,register:e})=>{const[n,i]=d.useState(""),s=nt(c=>c.changeModal),r=[1,2,3,4,5,6,7,8,9,0,0],o=c=>{n.length<4&&i(a=>`${a}${c}`)},l=nt(c=>c.changeAuth);return d.useEffect(()=>{l({codeForEnter:n})},[n]),u.jsxs("div",{className:Or.Box,children:[e?u.jsx("p",{children:"Шаг 3 из 3"}):u.jsx("p",{children:"Шаг 13 из 13"}),u.jsx(Ni,{className:Or.Logo}),e?u.jsx("h3",{children:"Введите код быстрого доступа"}):u.jsxs("h3",{children:["Отлично! ",u.jsx("br",{})," Теперь создайте код",u.jsx("br",{})," быстрого доступа в систему"]}),u.jsxs("div",{className:Or.Code,children:[u.jsx("div",{className:n.length>=1?Or.Active:""}),u.jsx("div",{className:n.length>=2?Or.Active:""}),u.jsx("div",{className:n.length>=3?Or.Active:""}),u.jsx("div",{className:n.length>=4?Or.Active:""})]}),u.jsxs("div",{className:Or.Numbers,children:[r.map((c,a)=>u.jsx("div",{onClick:()=>o(c),children:c},a)),u.jsx("div",{onClick:()=>i(c=>c.slice(0,-1)),children:u.jsx(xH,{})})]}),u.jsx(Ue,{disabled:n.length!==4,style:{fontSize:14},onClick:()=>{e&&s(!1),t(e?0:13)},children:"Продолжить"})]})},VZ="_Box_a1tdf_1",FZ="_Logo_a1tdf_31",BZ="_Column_a1tdf_53",vv={Box:VZ,Logo:FZ,Column:BZ},$Z=({setStep:t,setRegister:e})=>u.jsxs("div",{className:vv.Box,children:[u.jsx(Ni,{className:vv.Logo}),u.jsxs("h3",{children:["Добро пожаловать ",u.jsx("br",{})," в Unit Holder"]}),u.jsxs("div",{className:vv.Column,children:[u.jsx(Ue,{onClick:()=>{e(!0),t(14)},style:{background:"transparent",border:"1px solid #4d8cff",color:"#4d8cff",fontSize:14},children:"Войти"}),u.jsx(Ue,{style:{fontSize:14},onClick:()=>{e(!1),t(1)},children:"Создать аккаунт"})]})]}),UZ="_Box_mlwav_1",qZ="_Logo_mlwav_31",WZ="_Numbers_mlwav_63",HZ="_Code_mlwav_121",GZ="_Active_mlwav_147",T2={Box:UZ,Logo:qZ,Numbers:WZ,Code:HZ,Active:GZ},KZ=({setStep:t})=>{const e=nt(n=>n.changeModal);return u.jsxs("div",{className:T2.Box,children:[u.jsx(Ni,{className:T2.Logo}),u.jsxs("h3",{children:["Поздравляем! ",u.jsx("br",{})," Вы успешно зарегестрировали свой Аккаунт ",u.jsx("br",{}),"Добро пожаловать в Unit Holder"]}),u.jsx(Ue,{style:{fontSize:15},onClick:()=>{e(!1),t(0)},children:"Войти на портал"})]})},V3=()=>{const[t,e]=d.useState(0),[n,i]=d.useState(!1),s=nt(l=>l.modal),r=nt(l=>l.changeModal);function o(){switch(t){case 0:return u.jsx($Z,{setStep:e,setRegister:i});case 1:return u.jsx(vJ,{setStep:e});case 2:return u.jsx(xJ,{setStep:e});case 3:return u.jsx(AJ,{setStep:e});case 4:return u.jsx(lZ,{setStep:e});case 5:return u.jsx($J,{setStep:e});case 6:return u.jsx(hZ,{setStep:e});case 7:return u.jsx(pZ,{setStep:e});case 8:return u.jsx(v2,{setStep:e,register:!1});case 9:return u.jsx(S2,{setStep:e,register:!1});case 10:return u.jsx(CZ,{setStep:e});case 11:return u.jsx(DZ,{setStep:e});case 12:return u.jsx(x2,{setStep:e,register:!1});case 13:return u.jsx(KZ,{setStep:e});case 14:return u.jsx(v2,{setStep:e,register:n});case 15:return u.jsx(S2,{setStep:e,register:n});case 16:return u.jsx(x2,{setStep:e,register:n})}}return u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:`${oc.Modal} ${t===3?oc.Big:""}`,children:u.jsxs("div",{className:oc.Box,children:[t>0&&u.jsx(r2,{className:oc.Back,onClick:()=>e(t-1)}),t>13&&u.jsx(r2,{className:oc.Back,onClick:()=>e(0)}),u.jsx(m3,{className:oc.Icon,onClick:()=>{r(!1),e(0)}}),o()]})})})},QZ=({route:t})=>{let e=nt(p=>p.lang);const[n,i]=d.useState(),[s,r]=d.useState(),[o,l]=d.useState(!0),[c,a]=d.useState();if(d.useEffect(()=>{async function p(m,_){if(m+_==="en"||m+_==="ru")try{fetch(`https://storage.googleapis.com/lendning-for-real-estate.appspot.com/data${m[0].toUpperCase()+m.slice(1)}.json`).then(g=>g.json()).then(g=>{m==="en"?r(g==null?void 0:g.response):m==="ru"&&i(g==null?void 0:g.response),l(!1)}).catch(g=>{console.log("Fetching json error: "+g),l(!1)})}catch(g){a("Fetching try-catch error: "+g),l(!1)}else try{await Td(Vs(m+_)).then(g=>g.data()).then(g=>{g&&(m==="ru"?i(g):r(g),l(!1))}).catch(g=>{console.log("dependent landings getDoc error: "+g),l(!1)})}catch(g){console.log("dependent landings try-catch error: "+g),l(!1)}}p(hn.en,t),p(hn.ru,t)},[]),o)return u.jsx(Ua,{});if(c)return u.jsx("div",{children:c});const h=e===hn.ru?n:s;let f=h==null?void 0:h.order;return u.jsxs(u.Fragment,{children:[u.jsx(Ww,{edit:!1,data:(h==null?void 0:h.header)||Wt.header,lang:e}),u.jsx(V3,{}),u.jsx(Fw,{edit:!1,data:(h==null?void 0:h.cookies)||Wt.cookies}),u.jsxs("main",{className:"Scroll",children:[u.jsx(y3,{edit:!1,data:(h==null?void 0:h.section1)||Wt.section1,order:f==null?void 0:f.Section1}),u.jsx(I3,{edit:!1,data:(h==null?void 0:h.section2)||Wt.section2,order:f==null?void 0:f.Section2}),u.jsx(E3,{edit:!1,data:(h==null?void 0:h.section3)||Wt.section3,order:f==null?void 0:f.Section3}),u.jsx(C3,{edit:!1,data:(h==null?void 0:h.section4)||Wt.section4,order:f==null?void 0:f.Section4}),u.jsx(k3,{edit:!1,data:(h==null?void 0:h.section5)||Wt.section5,order:f==null?void 0:f.Section5}),u.jsx(R3,{edit:!1,data:(h==null?void 0:h.section6)||Wt.section6,order:f==null?void 0:f.Section6}),u.jsx(P3,{edit:!1,data:(h==null?void 0:h.section7)||Wt.section7,order:f==null?void 0:f.Section7}),u.jsx(b3,{edit:!1,data:(h==null?void 0:h.section8)||Wt.section8,order:f==null?void 0:f.Section8}),u.jsx(A3,{edit:!1,data:(h==null?void 0:h.section9)||Wt.section9,order:f==null?void 0:f.Section9}),u.jsx(S3,{edit:!1,data:(h==null?void 0:h.section10)||Wt.section10,order:f==null?void 0:f.Section10}),u.jsx(w3,{edit:!1,data:(h==null?void 0:h.section11)||Wt.section11,order:f==null?void 0:f.Section11}),u.jsx(x3,{edit:!1,data:(h==null?void 0:h.section12)||Wt.section12,order:f==null?void 0:f.Section12}),u.jsx(T3,{edit:!1,data:(h==null?void 0:h.section13)||Wt.section13,order:f==null?void 0:f.Section13}),u.jsx(v3,{edit:!1,data:(h==null?void 0:h.FAQ)||Wt.FAQ,order:f==null?void 0:f.FAQ})]}),u.jsx(qw,{edit:!1,data:(h==null?void 0:h.footer)||Wt.footer})]})},YZ=({page:t})=>{const e=nt(a=>a.lang),[n,i,s]=xa(Vs(hn.ru)),[r,o,l]=xa(Vs(hn.en));if(o||i)return u.jsx(Ua,{});if(l||s)return u.jsx("div",{children:"Error!"});const c=e===hn.ru?n==null?void 0:n.data():r==null?void 0:r.data();return u.jsxs(u.Fragment,{children:[u.jsx(Ww,{edit:!1,data:(c==null?void 0:c.header)||Wt.header,lang:e}),u.jsx(V3,{}),u.jsx(Fw,{edit:!1,data:(c==null?void 0:c.cookies)||Wt.cookies}),u.jsx("main",{className:"Scroll",children:u.jsx(N3,{lang:e,path:t,data:{...lH,...c[t]},edit:!1},t)}),u.jsx(qw,{edit:!1,data:(c==null?void 0:c.footer)||Wt.footer})]})},XZ=t=>[{path:"/unit-holder-landing/",element:u.jsx(gT,{}),errorElement:u.jsx(p2,{}),children:t&&[...t.map(({path:e})=>({path:e,element:u.jsx(gT,{}),children:[{path:"",element:u.jsx(QZ,{route:e})},{path:"edit",element:u.jsx(ZX,{route:e})}]}))]},...Bw.map(e=>({path:e,element:u.jsx(YZ,{page:e}),errorElement:u.jsx(p2,{})}))];function JZ(){const[t,e,n]=xa(_m());if(e)return u.jsx(Ua,{});if(n)return u.jsxs("h1",{children:["Error: ",n.message]});const i=XZ((t==null?void 0:t.data()).paths),s=R6(i);return u.jsx(M6,{router:s})}yv.createRoot(document.getElementById("root")).render(u.jsx(JZ,{}));
